{"version":3,"file":"116.index.js","mappings":"iRAMO,MA+CMA,EAAcC,EAAAA,GAA8BC,EAAAA,ICrDzD,IAAI,EAEJ,SAAS,IAAiS,OAApR,EAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAASS,EAAQC,EAAOC,GACtB,OAAoB,gBAAoB,MAAO,EAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpEQ,QAAS,GACTC,EAAG,gEACHC,OAAQ,eACRC,YAAa,EACbC,cAAe,aAKnB,QAD8B,aAAiBb,GCvB/C,IAAI,EAEJ,SAAS,IAAiS,OAApR,EAAWd,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAASuB,EAASb,EAAOC,GACvB,OAAoB,gBAAoB,MAAO,EAAS,CACtDC,MAAO,GACPC,OAAQ,EACRC,QAAS,WACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpES,EAAG,eACHC,OAAQ,eACRC,YAAa,EACbC,cAAe,aAKnB,QAD8B,aAAiBC,GCtB/C,IAAI,EAEJ,SAAS,IAAiS,OAApR,EAAW5B,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAASwB,EAASd,EAAOC,GACvB,OAAoB,gBAAoB,MAAO,EAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpES,EAAG,uBACHC,OAAQ,eACRC,YAAa,EACbC,cAAe,aAKnB,QAD8B,aAAiBE,GCtB/C,IAAI,EAEJ,SAAS,IAAiS,OAApR,EAAW7B,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAASyB,EAAQf,EAAOC,GACtB,OAAoB,gBAAoB,MAAO,EAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpEgB,SAAU,UACVC,SAAU,UACVR,EAAG,oVACHJ,KAAM,WAKV,QAD8B,aAAiBU,GCtB/C,IAAI,EAEJ,SAAS,IAAiS,OAApR,EAAW9B,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAAS4B,EAAYlB,EAAOC,GAC1B,OAAoB,gBAAoB,MAAO,EAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpEgB,SAAU,UACVC,SAAU,UACVR,EAAG,4FACHJ,KAAM,mBAKV,QAD8B,aAAiBa,GCtB/C,IAAI,EAEJ,SAAS,IAAiS,OAApR,EAAWjC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAAS6B,EAASnB,EAAOC,GACvB,OAAoB,gBAAoB,MAAO,EAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpES,EAAG,qUACHJ,KAAM,cAKV,QAD8B,aAAiBc,GCpB/C,IAAI,EAAO,EAEX,SAAS,IAAiS,OAApR,EAAWlC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAAS8B,EAAUpB,EAAOC,GACxB,OAAoB,gBAAoB,MAAO,EAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpEgB,SAAU,UACVC,SAAU,UACVR,EAAG,0JACHJ,KAAM,OACNgB,YAAa,MACV,IAAW,EAAsB,gBAAoB,OAAQ,CAChEL,SAAU,UACVC,SAAU,UACVR,EAAG,qTACHJ,KAAM,WAKV,QAD8B,aAAiBe,GC5B/C,IAAI,EAAO,EAEX,SAAS,IAAiS,OAApR,EAAWnC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAASgC,EAAQtB,EAAOC,GACtB,OAAoB,gBAAoB,MAAO,EAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpEgB,SAAU,UACVC,SAAU,UACVR,EAAG,4UACHJ,KAAM,UACH,IAAW,EAAsB,gBAAoB,OAAQ,CAChEW,SAAU,UACVC,SAAU,UACVR,EAAG,sQACHJ,KAAM,WAKV,QAD8B,aAAiBiB,GC3B/C,IAAI,EAEJ,SAAS,IAAiS,OAApR,EAAWrC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAASiC,EAASvB,EAAOC,GACvB,OAAoB,gBAAoB,MAAO,EAAS,CACtDC,MAAO,GACPC,OAAQ,EACRC,QAAS,WACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpEQ,QAAS,GACTC,EAAG,SACHC,OAAQ,eACRC,YAAa,EACbC,cAAe,aAKnB,QAD8B,aAAiBW,GCvB/C,IAAI,EAAOC,EAAS,EAEpB,SAAS,IAAiS,OAApR,EAAWvC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,EAASS,MAAMC,KAAMR,WAItU,SAASmC,EAAgBzB,EAAOC,GAC9B,OAAoB,gBAAoB,MAAO,EAAS,CACtDI,KAAM,OACNF,OAAQ,GACRC,QAAS,YACTF,MAAO,GACPI,MAAO,6BACPC,IAAKN,GACJD,GAAQ,IAAU,EAAqB,gBAAoB,OAAQ,CACpE0B,GAAI,uBACJvB,OAAQ,GACRwB,UAAW,iBACXzB,MAAO,GACP0B,EAAG,EACHC,EAAG,GACW,gBAAoB,SAAU,CAC5CC,GAAI,GACJC,GAAI,GACJ1B,KAAM,OACN2B,EAAG,OACCR,IAAYA,EAAuB,gBAAoB,SAAU,CACrEM,GAAI,GACJC,GAAI,GACJ1B,KAAM,OACNgB,YAAa,GACbW,EAAG,MACA,IAAO,EAAkB,gBAAoB,IAAK,CACrDC,KAAM,8BACQ,gBAAoB,OAAQ,CAC1CxB,EAAG,yRACHJ,KAAM,YAKV,SAD8B,aAAiBoB,GCxC/C,IAAI,GAEJ,SAAS,KAAiS,OAApR,GAAWxC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAItU,SAAS4C,GAAOlC,EAAOC,GACrB,OAAoB,gBAAoB,MAAO,GAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,KAAO,GAAkB,gBAAoB,IAAK,CAC3DgB,SAAU,UACVC,SAAU,UACVZ,KAAM,QACQ,gBAAoB,OAAQ,CAC1CI,EAAG,qMACHY,YAAa,KACE,gBAAoB,OAAQ,CAC3CZ,EAAG,uiBAKP,SAD8B,aAAiByB,IC1B/C,IAAI,GAEJ,SAAS,KAAiS,OAApR,GAAWjD,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAItU,SAAS6C,GAAQnC,EAAOC,GACtB,OAAoB,gBAAoB,MAAO,GAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpEgB,SAAU,UACVC,SAAU,UACVR,EAAG,gCACHJ,KAAM,mBAKV,SAD8B,aAAiB8B,ICtB/C,IAAI,GAEJ,SAAS,KAAiS,OAApR,GAAWlD,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAItU,SAAS8C,GAAYpC,EAAOC,GAC1B,OAAoB,gBAAoB,MAAO,GAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpEgB,SAAU,UACVC,SAAU,UACVR,EAAG,mIACHJ,KAAM,WAKV,SAD8B,aAAiB+B,ICtB/C,IAAI,GAAO,GAAQ,GAAQ,GAE3B,SAAS,KAAiS,OAApR,GAAWnD,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAItU,SAAS+C,GAASrC,EAAOC,GACvB,OAAoB,gBAAoB,MAAO,GAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpES,EAAG,sPACHJ,KAAM,aACH,KAAW,GAAsB,gBAAoB,OAAQ,CAChEI,EAAG,6OACHJ,KAAM,aACH,KAAW,GAAsB,gBAAoB,OAAQ,CAChEI,EAAG,yPACHJ,KAAM,aACH,KAAW,GAAsB,gBAAoB,OAAQ,CAChEI,EAAG,iPACHJ,KAAM,cAKV,SAD8B,aAAiBgC,IC7B/C,IAAI,GAEJ,SAAS,KAAiS,OAApR,GAAWpD,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAItU,SAASgD,GAAUtC,EAAOC,GACxB,OAAoB,gBAAoB,MAAO,GAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,UACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpES,EAAG,uXAKP,SAD8B,aAAiB6B,ICnB/C,IAAI,GAEJ,SAAS,KAAiS,OAApR,GAAWrD,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkB,GAASS,MAAMC,KAAMR,WAItU,SAASiD,GAAUvC,EAAOC,GACxB,OAAoB,gBAAoB,MAAO,GAAS,CACtDC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKN,GACJD,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpEgB,SAAU,UACVC,SAAU,UACVR,EAAG,8MACHJ,KAAM,WAKV,SAD8B,aAAiBkC,ICRlCC,GAAS,CAAIC,EAAuBC,KAC/C,MAAMC,EAAaD,QAAAA,EAAe,CAACE,EAAGC,IAAMD,IAAMC,EAElD,OAAQJ,QAAAA,EAAQ,IAAIK,QAAY,CAACC,EAAKC,KACtBD,EAAIE,WAAWC,GAASP,EAAWO,EAAMF,KAE3C,GAAGD,EAAII,KAAKH,GAEjBD,IACN,KAGQK,GAAgBC,GACpBA,QAGIC,GAAiBD,GACJ,iBAAVA,GAAuC,KAAjBA,EAAME,OAG/BC,GAAoChE,IAC/C,MAAMiE,EAAoCxE,OAAOyE,QAAQlE,GAAQsD,QAA6B,CAACC,GAAMtD,EAAK4D,KACjFD,GAAUC,KAAWC,GAAcD,GAIZ,oBAA1CpE,OAAOS,UAAUiE,SAAS/D,KAAKyD,GAC1B,IAAIN,EAAK,CAACtD,EAAK+D,GAAYH,KAE3B,IAAIN,EAAK,CAACtD,EAAK4D,IALMN,GAO7B,IAEH,OAAO9D,OAAO2E,YAAYH,IAoCfI,GAAc,CAACC,EAAO,KAC7BA,EAAKC,MAAM,YAAcD,EAAKC,MAAM,SAC/BD,EAEA,CACLE,aAAaC,SAASC,QAAQ,UAAW,IACzCJ,EAAKI,QAAQ,UAAW,KACxBC,KAAK,KAeEC,GAAYC,IACvB,MAAMC,EAAQC,SAASC,cAAc,YAErCF,EAAMG,MAAMC,SAAW,QACvBH,SAASI,KAAKC,YAAYN,GAE1BA,EAAMjB,MAAQgB,EACdC,EAAMO,QACNP,EAAMQ,SAENP,SAASQ,YAAY,QACrBT,EAAMU,UAOKC,GAAQ,CAAC5B,EAAe6B,EAAaC,IACzCC,KAAKD,IAAID,EAAKE,KAAKF,IAAI7B,EAAO8B,I,eCrEvC,MAAME,GAAU,OAAGC,YAA0B,MAoDvCC,IAAeC,EAAAA,EAAAA,eAAyB,MAEjCC,GAAK,CAACC,EAAeC,EAAqB,MACrD,MAAM,KAAEzC,EAAF,IAAQ0C,EAAR,IAAaC,GAAQF,QAAAA,EAAW,GAChCG,EAAYJ,EAEZK,EAAuB,CAC3BL,MAAMM,GACGP,GAAGO,EAAM,CAAE9C,OAAM0C,MAAKC,QAG/B3C,KAAK8C,GACIP,GAAGC,EAAO,CAAExC,KAAM8C,EAAMJ,MAAKC,QAGtCA,IAAII,EAAS,IACX,MAAMC,EAAgBjH,OAAOC,OAAO,GAAI2G,QAAAA,EAAO,GAAII,GAEnD,OAAOR,GAAGC,QAAAA,EAASI,EAAW,CAAE5C,OAAM0C,MAAKC,IAAKK,KAGlDN,IAAG,IAAIO,IACEV,GAAGC,EAAO,CAAExC,OAAM0C,IAAKO,EAAON,QAGvCf,OAAOsB,EAAO7B,UACZ,OAAO6B,EAAKC,cAAcvG,KAAKwG,kBAGjCC,UAAUH,EAAO7B,UACf,OAAO6B,EAAKI,iBAAiB1G,KAAKwG,kBAGpCG,QAAQL,GACN,OAAOA,EAAKK,QAAQ3G,KAAKwG,kBAG3B3C,SAAQ,IAvFU,EAAC+B,EAAexC,EAAe0C,EAAuBC,KAC1E,MAAMa,EAAWhB,EACXiB,EAAWzD,EAAQ,GAAEwD,MAAaxD,IAAS,KAE3C0D,EAAY3H,OAAOyE,QAAQmC,QAAAA,EAAO,IAAI/C,QAAO,CAACC,GAAMtD,EAAK4D,MAC7D,MAAMwD,EAAa,CAACF,QAAAA,EAAYD,GAEhC,OAAIrD,UAEU,IAAVA,IACFwD,EAAW1D,KAAK1D,IAEF,IAAV4D,GAAgBwD,EAAW1D,KAAKE,GAEpCN,EAAII,KAAK0D,EAAW1C,KAAK,OAPuBpB,IAUjD,IAEG+D,EAAuB,GAM7B,GAJAA,EAAW3D,KAAKwD,QAAAA,EAAYD,GAE5BI,EAAW3D,QAAQyD,GAEfhB,EAAK,CACP,MAAMO,EAAQY,MAAMC,QAAQpB,GAAOA,EAAM,CAACA,GACpCqB,EAAU,GACbC,UAAUf,GACVgB,QAAOC,GAAKhE,GAAUgE,IAAY,KAANA,IAC5BC,KAAID,IACH,MAAiB,iBAANA,EACFA,EAEAA,SAAP,UAAOA,EAAGE,mBAAV,aAAO,OAAAF,GADF,SAIRtE,QAAO,CAACC,EAAKwE,IAAQ,IAAIxE,KAAQwE,EAAKC,MAAM,SAAS,IAExDV,EAAW3D,QAAQ8D,GAQrB,OAAOH,EAAWK,QAAOI,IAAQjE,GAAciE,KAAMF,KAL5BE,GACnB,IAAIE,OAAOpC,IAAYqC,KAAKH,GAAaA,EAChC,GAAElC,KAAakC,MAG4CpD,KAAK,MAyCpEwD,CACLjC,EACAxC,EACA0C,EACAC,GAIJyB,cACE,OAAOxH,KAAK6D,YAGd2C,gBACE,MAAQ,IAAGxG,KAAKwH,cAAcpD,QAAQ,SAAU,SAapD,OATAjF,OAAO2I,eAAe7B,EAAkB,QAAS,CAAE1C,MAAOwE,KAC1D5I,OAAO2I,eAAe7B,EAAkB,OAAQ,CAAE1C,MAAOyE,KACzD7I,OAAO2I,eAAe7B,EAAkB,UAAW,CAAE1C,MAAO,CAC1DqC,QACAxC,OACA0C,MACAC,SAGKE,GAGIgC,GAAyBC,IACpC,MAAMC,EAAeD,QAAAA,GAAWxC,EAAAA,EAAAA,eAAuB,MAEjDqC,GAAsBK,EAAAA,EAAAA,aAAW,EAAGC,MAAM,MAAOnC,OAAMH,MAAKD,SAAQwC,GAAQ7H,KAChF,MAAM8H,EAAY5C,GAAGO,GACfsC,EAAY,GAAkBpB,OAAOtB,GAAKuB,QAAOoB,KAASA,IAC1DC,EAAYH,EAAUxC,IAAIA,GAAKD,OAAQ0C,EAAsBF,EAAKI,WAAWlB,cAC7EmB,EAAa,IAAKL,EAAM7H,MAAKiI,aAEnC,OACE,UAACP,EAAaS,SAAd,CAAuBrF,MAAOgF,EAA9B,UACG7D,EAAAA,EAAAA,eAAc2D,EAAKM,QAK1BZ,EAAMc,YAAc,QAEpB,MAAMb,GAAqBI,EAAAA,EAAAA,aAAW,EAAGU,YAAWlD,QAAOM,OAAMH,MAAKD,SAAQwC,GAAQ7H,KAAQ,MAC5F,MAAMsI,GAAWC,EAAAA,EAAAA,YAAWb,GAEtBK,EAAY,GAAkBpB,OAAOtB,GAAKuB,QAAOoB,KAASA,IAC1DQ,EAAQ,UAAGX,EAAKD,WAAR,QAAe,MAEvBK,GAAa9C,EAAQD,GAAGC,GAASmD,GACpC3F,KAAK8C,GACLH,IAAIA,GACJD,OAAQ0C,EAAsBF,EAAKI,WACnClB,cAEGmB,EAAkB,IAAKL,EAAM7H,MAAKiI,aAIxC,MAFwB,iBAAbO,IAAuBN,EAAW/C,MAAQmD,IAE9CrE,EAAAA,EAAAA,eAAcoE,QAAAA,EAAaG,EAAUN,MAK9C,OAFAX,EAAKa,YAAc,OAEZ,CAAEd,QAAOC,OAAMkB,QAASf,KAGlBJ,MAAF,GAASC,KAAIA,IAAKC,GAAsBxC,ICtNxC0D,IAAczD,EAAAA,EAAAA,iBAC3ByD,GAAYN,YAAc,cAEnB,MAAMO,IAAwB1D,EAAAA,EAAAA,iBACrC0D,GAAsBP,YAAc,wBAE7B,MAAMQ,IAAwB3D,EAAAA,EAAAA,iBACrC2D,GAAsBR,YAAc,wBAE7B,MAAMS,IAAmB5D,EAAAA,EAAAA,iBAChC4D,GAAiBT,YAAc,mBAExB,MAAMU,IAAsB7D,EAAAA,EAAAA,iBACnC6D,GAAoBV,YAAc,sBCdlC,MCKaW,GAASC,EAAAA,YACpB,EAEIC,WACAC,OACAC,QACAlB,YACAmB,OACAC,UACAC,OACA1B,MACA2B,UACG1B,GAEL7H,KAEA,MAAMwI,EAAWZ,QAAAA,EAAQC,EAAK2B,KAAO,IAAM,SAErCC,EAAO,CACXL,OACAC,UACAH,OACAK,KAAMA,QAAAA,EAAQ,GACdG,WAAYJ,EACZK,YAAaR,GAKc,SAAN,IAFAH,EAAAA,WAAiBJ,MAGlC,UAAAa,EAAKF,YAAL,mBAAWK,gBAAX,gBAAsB,YAAuB,WAATV,EACtCO,EAAKJ,SAAU,EAEfxB,EAAKgC,UAAW,GAIhBhC,EAAKiC,UACPL,EAAKF,KAAO,iBACL1B,EAAKiC,SAGd,MAAMC,EAAWf,EAAAA,SAAc,KAC7B,IAAKM,EAAM,OAAO,KAClB,GAAIzG,GAAUyG,EAAK7J,MAAM2J,MAAO,OAAOE,EAEvC,OAAQF,GACN,IAAK,QACH,OAAOJ,EAAAA,aAAmBM,EAAM,IAAKA,EAAK7J,MAAO2J,KAAM,GAAIzJ,MAAO,GAAIC,OAAQ,KAChF,IAAK,UACH,OAAOoJ,EAAAA,aAAmBM,EAAM,IAAKA,EAAK7J,MAAO2J,KAAM,GAAIzJ,MAAO,GAAIC,OAAQ,KAChF,QACE,OAAO0J,KAEV,CAACA,EAAMF,IAEV,OACE,UAAC,GAAD,CACE3D,KAAK,SACLH,IAAKmE,EACLpE,IAAK4C,EACLjI,IAAKA,EACL4H,IAAKY,EACLU,KAAMA,KACFrB,EAPN,UASE,kCACGkC,IACC,UAAC,GAAD,CAAMnC,IAAI,OAAOnC,KAAK,OAAtB,SACGsE,IAGJA,GAAYd,GAAW,2BAAOA,IAAmBA,OACvCe,IAAVb,GAAsB,UAAC,GAAD,CAAM1D,KAAK,QAAX,SAAoB0D,IAAgB,aAMrEJ,GAAOX,YAAc,SAErBW,GAAOkB,MAAQ,EAAGhC,YAAWgB,WAAUiB,gBAEnC,UAAC,GAAD,CAAOzE,KAAK,eAAeH,IAAK,CAAE4E,aAAa7E,IAAK4C,EAApD,SACGgB,ICzFP,MCGO3B,MAAKA,IAAIE,KAEH2C,GAAQ,EACnBC,YAAY,aACZhB,OACAnB,YACA/D,QACA+E,WACAoB,SACAC,UACAC,YAGE,UAAC,GAAD,CAAO9E,KAAK,QAAQH,IAAK,CAAE8E,YAAWhB,OAAMiB,SAAQC,UAASC,SAASlF,IAAK4C,EAAW/D,MAAOA,EAA7F,SACG+E,ICRMuB,GAAe,EAAEC,QAAOC,UAASC,UAASC,aAAYC,aAAYC,UAASC,WAAUC,WAAUC,UAAS,MACnH,MAAMC,GAAqBC,EAAAA,EAAAA,UAAQ,KACzBP,QAAAA,EAAc,IAAI5H,QACzB,CAAC4H,KAEGQ,EAAQC,IAAaC,EAAAA,EAAAA,WAAS,GAE/BC,GAAiBC,EAAAA,EAAAA,cAAY,KACjCH,GAAU,GACVxH,GAASqH,GACTO,YAAW,IAAMJ,GAAU,IAAQ,QAClC,CAACH,IAEJ,OACE,WAAC,GAAD,CAAOzF,KAAK,gBAAZ,WACc,IAAXwF,IACC,UAAC,GAAD,CACErD,IAAI,MACJnC,KAAK,QACLiG,IAAKpI,GAAY,qCACjB1D,OAAO,MACP+L,IAAI,iBAIPlB,IACC,UAAC,GAAD,CAAMhF,KAAK,QAAX,SAAoBgF,IAGrBC,IAAW,UAAC,GAAD,CAAMjF,KAAK,SAAQmG,wBAAyB,CACtDC,OAAQC,OAAOpB,MAGhBQ,IACC,UAAC,GAAD,CAAMzF,KAAK,cAAcmG,wBAAyB,CAChDC,OAAQX,EAAmBvH,QAAQ,QAAS,YAK9CkH,aAAA,EAAAA,EAAY7L,QAAS,IACrB,UAAC,GAAD,CAAM4I,IAAI,KAAKnC,KAAK,aAApB,SACGoF,EAAW/D,KAAI,EAAEiF,EAAOC,MACvB,UAAC,EAAAC,SAAD,UACG,GAAGtF,OAAOqF,GAAQlF,KAAI,CAACoF,EAAKpN,KAC3B,UAAC,GAAD,CACE8I,IAAI,KAEJnC,KAAK,UACLmG,wBAAyB,CAACC,OAAQK,IAF7BpN,MAJIiN,QAcnBjB,GAAWH,KACX,UAAC,GAAD,CAAMlF,KAAK,UAAX,UACE,WAAC,GAAD,WACGqF,GAAY,YAAWA,IACvBH,GAAY,aAAYA,UAK/B,UAAC,GAAD,CAAMlF,KAAK,UAAX,UACE,WAAC,GAAD,CAAO4E,QAAM,EAAb,WACE,UAAC,GAAD,CAAMzC,IAAKmB,GAAQtD,KAAK,eAAe5G,OAAO,SAASyK,MAAM,UAAC,GAAD,IAAYE,KAtE1D,kEAsEf,2BAIA,WAAC,GAAD,CAAOJ,KAAK,QAAZ,UACG8B,IAAsB,UAAC,GAAD,CAAQrB,SAAUuB,EAAQe,QAASZ,EAAgBrH,MAAO,CAACvE,MAAO,KAAlE,SACpByL,EAAS,SAAW,oBAEtBL,IAAY,UAAC,GAAD,CAAQoB,QAASpB,EAAjB,qBACZC,IAAY,UAAC,GAAD,CAAQmB,QAASnB,EAAjB,gCCrFZoB,IAAgBnH,EAAAA,EAAAA,eAAcoH,OAAO5I,cAClD2I,GAAchE,YAAc,gBAEEgE,GAAcE,SAArC,MAEMC,GAAiB,EAAEtD,eAAc,MAC5C,MAAOuD,EAAQC,IAAanB,EAAAA,EAAAA,UAAQ,UAACe,OAAO5I,oBAAR,QAAwB,IAEtDiJ,EAAUC,IACTA,GAELF,EAAUE,IAGNC,GAAezB,EAAAA,EAAAA,UAAQ,KACpB,IACFqB,EACHE,YAED,CAACF,IAEJ,OACE,UAACJ,GAAcjE,SAAf,CAAwBrF,MAAO8J,EAA/B,SACG3D,KAKM4D,GAAY,KAChBtE,EAAAA,EAAAA,YAAW6D,IC5BdU,IAAqB7H,EAAAA,EAAAA,iBAEd8H,GAAsB,EAAE9D,eACnC,MAAM+D,EAAMC,MACLC,EAAMC,IAAW7B,EAAAA,EAAAA,YAElB8B,GAAQ5B,EAAAA,EAAAA,cAAY,KACxBwB,EAAIK,QAAQ,MAAMC,MAAKJ,IACrBC,EAAQD,QAET,CAACF,EAAIK,UAMR,OAJAE,EAAAA,EAAAA,YAAU,KACRH,MACC,CAACA,KAGF,UAACN,GAAmB3E,SAApB,CAA6BrF,MAAO,CAACoK,OAAME,SAA3C,SACGnE,KCnBMuE,GAAiB/N,IAAU,MACtC,IAAIgO,EAAUhO,EAAMwJ,UAAY,KAGhC,IAAKxJ,EAAMiO,UACT,KAAM,wCAGR,IAAKjO,EAAMwJ,SACT,KAAM,kCAOR,OAF0BxJ,EAAMiO,UAAU1O,QAO1C,IAAC,UAAIS,EAAMiO,iBAAV,QAAuB,IAAKC,UAAUC,SAASC,IAC9CJ,EAAUzE,EAAAA,aAAmB6E,EAAU,KAAMJ,MAGxCA,GAPEA,GCREK,GAAmB,CAACC,GAAWC,OAAMC,aAAYC,UAASC,mBAAkBC,mBAAoB,KACpG,IAAIC,SAAQC,UACjBN,SAAAA,EAAOD,GAEP,MAAMQ,EAAsB,KAC1BL,SAAAA,EAAUH,IAGNS,EAAoBF,gBAClBF,aAAN,EAAMA,EAAkBL,IAExBA,EAAQU,oBAAoB,kBAAmBF,GAC/CR,EAAQU,oBAAoB,gBAAiBD,GAC7CE,KAGFX,EAAQY,iBAAiB,kBAAmBJ,GAC5CR,EAAQY,iBAAiB,gBAAiBH,SAEpCL,aAAN,EAAMA,KAEN1C,YAAW,IAAMwC,EAAWF,IAAU,O,yHCxB1C,MAAOzG,MAAD,GAAQC,KAAIA,IAAIC,KAEhBoH,IAAe3J,EAAAA,EAAAA,iBAEd,MAAM4J,WAAc7F,EAAAA,UAIzB8F,YAAYrP,GAAO,MACjBsP,MAAMtP,GADW,mBAFRuJ,EAAAA,aAEQ,0BA2GDgG,IAChB,IAAKzP,KAAK0P,SAASC,QAAS,OAC5B,MAAM,oBAACC,GAAuB5P,KAAKE,MAC7B2P,GAAuC,IAA1B7P,KAAKE,MAAM2P,WACxBC,EAAY9P,KAAK0P,SAASC,QAAQI,SAASN,EAAEnQ,QAC7C4O,EAAUvI,GAAG,SAASvC,KAAK,WAAWuD,QAAQ8I,EAAEnQ,QAChD0Q,EAAQrK,GAAG,SAASvC,KAAK,SAASuD,QAAQ8I,EAAEnQ,QAE9CuQ,IAAgBC,GAAaE,GAAuB,OAAZ9B,IAA4C,IAAxB0B,IAC9D5P,KAAKiQ,UApHU,yBAwHFR,KACe,IAA1BzP,KAAKE,MAAM2P,YACD,WAAVJ,EAAE9P,KACDK,KAAKkQ,MAAMC,UAEhBV,EAAEW,kBACFX,EAAEY,iBACFrQ,KAAKiQ,WA5HLjQ,KAAKkQ,MAAQ,CACXhF,MAAOhL,EAAMgL,MACbrG,KAAM3E,EAAM2E,KACZyL,OAAQpQ,EAAMoQ,OACdH,SAASjQ,EAAMqQ,oBAAN,UAAkCrQ,EAAMiQ,eAAxC,UACTzB,WAAYxO,EAAMiQ,QAAU,UAAY,MAI5CK,oBACMxQ,KAAKE,MAAMqQ,mBACbrE,YAAW,IAAMlM,KAAKyQ,QAAQ,IAGhChM,SAAS2K,iBAAiB,UAAWpP,KAAK0Q,cAAe,CAACC,SAAS,IAGrEC,uBACEnM,SAASyK,oBAAoB,UAAWlP,KAAK0Q,cAAe,CAACC,SAAS,IAGxEE,mBAAmBC,EAAWC,GACxBA,EAAUZ,UAAYnQ,KAAKkQ,MAAMC,UACnC1L,SAASI,KAAKF,MAAMqM,SAAWhR,KAAKkQ,MAAMC,QAAU,SAAW,IAInEc,QAAQpM,GACN7E,KAAKkR,SAAS,CAAErM,SAGlB4L,KAAKU,GACH,OAAO,IAAIrC,SAASK,IAClBnP,KAAKkR,SAAS,CAAEf,SAAS,IAAQpB,UAAY,QAC3CoC,SAAAA,IACA,aAAAnR,KAAKE,OAAMiR,cAAX,uBACMnR,KAAK0O,WAAW,SAAUS,SAKtCc,KAAKmB,GACH,OAAO,IAAItC,SAASK,IAClBnP,KAAK0O,WAAW,aAAa,KAC3B1O,KAAKkR,SAAS,CAAEf,SAAS,IAAS,KAAM,QACtC,aAAAnQ,KAAKE,OAAMmR,cAAX,iBACAlC,IACAiC,SAAAA,aAMRE,SACE,IAAKtR,KAAKkQ,MAAMC,QAAS,OAAO,KAEhC,MAAMoB,EAAOvR,KAAKE,MAAMqR,KAElBrH,EAAO,CACXsH,aAAcxR,KAAKE,MAAMsR,WACzBD,KAAMvR,KAAKE,MAAMqR,KACjBpB,QAASnQ,KAAKE,MAAMiQ,SAAWnQ,KAAKkQ,MAAMC,SAGtC9J,EAAQ,CACZrG,KAAKyR,gBACLzR,KAAKE,MAAMwI,WAGPgJ,EAAiB,GAEnB1R,KAAKE,MAAME,QAAOsR,EAAetR,MAAQJ,KAAKE,MAAME,OACpDJ,KAAKE,MAAMG,SAAQqR,EAAerR,OAASL,KAAKE,MAAMG,QAE1D,MAAMsR,GACJ,UAACtC,GAAazG,SAAd,CAAuBrF,MAAOvD,KAA9B,UACE,UAAC,GAAD,CAAOkG,KAAK,QAAQzF,IAAKT,KAAK0P,SAAU3J,IAAKmE,EAAMpE,IAAKO,EAAOuG,QAAS5M,KAAK4R,eAA7E,UACE,UAAC,GAAD,CAAM1L,KAAK,UAAX,UACE,WAAC,GAAD,CAAMA,KAAK,UAAUvB,MAAOxF,OAAOC,OAAO,GAAIY,KAAKE,MAAMyE,MAAO+M,GAAhE,WACIH,IACA,WAAC,GAAMM,OAAP,YACE,UAAC,GAAD,CAAM3L,KAAK,QAAX,SAAoBlG,KAAKkQ,MAAMhF,SACJ,IAA1BlL,KAAKE,MAAM2P,aACV,UAAC,GAAD,CAAMxH,IAAKmB,GAAQtD,KAAK,QAAQyD,KAAK,OAAOI,MAAM,UAAC,EAAD,UAIxD,UAAC,GAAD,CAAM7D,KAAK,OAAOH,IAAK,CAACwL,QAAxB,SACGvR,KAAK6E,OAEP7E,KAAKE,MAAMoQ,SACV,UAAC,GAAMwB,OAAP,CAAcP,KAAMvR,KAAKE,MAAM6R,WAA/B,SACG/R,KAAKsQ,kBASpB,OAAO0B,EAAAA,EAAAA,cAAaL,EAAclN,SAASI,MA0B7C6J,WAAW/E,EAAMsI,GACf,OAAO1D,GAAiBvO,KAAK0P,SAASC,QAAS,CAC7CjB,WAAYK,SAAY,IAAID,SAAQK,IAClCnP,KAAKkR,SAAS,CAAExC,WAAY/E,IAAQ,KAClCwF,UAGJP,iBAAkBG,SAAY,IAAID,SAAQK,IACxCnP,KAAKkR,SAAS,CAAExC,WAAa,UAAS/E,MAAU,KAC9CwF,UAGJN,gBAAiBE,SAAY,IAAID,SAAQK,IACvCnP,KAAKkR,SAAS,CAAExC,WAAqB,WAAT/E,EAAoB,UAAY,OAAQ,KAClEsI,SAAAA,IACA9C,YAMJsC,sBACF,OAAQzR,KAAKkQ,MAAMxB,YACjB,IAAK,gBAAiB,MAAO,gBAC7B,IAAK,SAAU,MAAO,uBACtB,IAAK,mBAAoB,MAAO,mBAChC,IAAK,YAAa,MAAO,6BACzB,IAAK,UAAW,MAAO,UAEzB,OAAO,KAGL7J,WACF,GAAI7E,KAAKkQ,MAAMrL,KAAM,CACnB,MAAMqN,EAAUlS,KAAKkQ,MAAMrL,KAC3B,OAAOqN,aAAmBC,UAAW,UAACD,EAAD,IAAaA,EAElD,OAAOlS,KAAKE,MAAMwJ,SAIlB4G,aACF,GAAItQ,KAAKkQ,MAAMI,OAAQ,CACrB,MAAM4B,EAAUlS,KAAKkQ,MAAMI,OAC3B,OAAO4B,aAAmBC,UAAW,UAACD,EAAD,IAAaA,EAGpD,OAAO,MAIX5C,GAAMuC,OAAS,EAAGnI,WAAU0I,cAC1B,UAAC,GAAD,CAAMlM,KAAK,SAASH,IAAK,CAACqM,WAA1B,SACG1I,IAIL4F,GAAMwC,OAAS,EAAGpI,WAAU6H,WAC1B,UAAC,GAAD,CAAMrL,KAAK,SAASH,IAAK,CAACwL,QAA1B,SACG7H,IAIE,MAAM2I,GAAmB,KACvBrJ,EAAAA,EAAAA,YAAWqG,ICxMdiD,GAAmBpS,IACvB,MAAMwP,GAAW6C,EAAAA,EAAAA,aACXC,EAAU/N,SAASC,cAAc,OACvC,IAAI+N,EAAc,EAClBD,EAAQ9J,UAAY/C,GAAG,gBAAgB6B,cAEvC/C,SAASI,KAAKC,YAAY0N,GAE1B,MAAME,EAAc,CAACxS,EAAOyS,KAC1BF,KAGAnB,EAAAA,EAAAA,SACE,UAACrD,GAAD,CAA4CE,UAAWjO,EAAM0S,OAAS,GAAK,EACzE,UAAC5F,GAAD,GAAoB,WACpB,UAAC6F,GAAD,GAAiB,QACjB,UAACrF,GAAD,GAAyB,iBAH3B,UAKE,UAAC,GAAD,CACE/M,IAAKiP,KACDxP,EACJmR,OAAQ,KAAM,MACZ,UAAAnR,EAAMkR,gBAAN,cAAAlR,IACA4S,EAAAA,EAAAA,wBAAuBN,GACvBA,EAAQtN,UAEVqL,kBAAmBoC,KAbF,SAAQF,KAgB5BD,IAKL,OAFAE,EAAYxS,GAAO,GAEZ,CACLiN,OAAO4F,GACLL,EAAY,IAAIxS,KAAW6S,QAAAA,EAAY,GAAK5C,SAAS,IAAO,IAE9DH,QACE,MAAMgD,EAAStD,EAASC,QAAQM,OAGhC,OAFA6C,EAAAA,EAAAA,wBAAuBN,GACvBA,EAAQtN,SACD8N,KAKAC,GAAU,EAAGC,SAAQC,OAAMC,aAAYC,WAAUC,gBAAepT,MAC3E,MAAMqT,EAAQjB,GAAgB,IACzBpS,EACH2P,YAAY,EACZS,QACE,WAAC,GAAD,CAAOtF,MAAM,MAAb,WACE,UAAC,GAAD,CACE4B,QAAS,KACPyG,SAAAA,IACAE,EAAMvD,SAERnG,KAAK,UACL2J,WAAS,EANX,SAQGJ,QAAAA,EAAc,YAGjB,UAAC,GAAD,CACExG,QAAS,KACPuG,SAAAA,IACAI,EAAMvD,SAERnG,KAAK,UACLG,KAAMsJ,QAAAA,EAAc,UANtB,SAQGJ,QAAAA,EAAU,YAMnB,OAAOK,GA4BTpU,OAAOC,OAAOkQ,GAAO,CACnBmE,KA1BkB,EAAGP,SAAQQ,eAAcxT,MAC3C,MAAMqT,EAAQjB,GAAgB,IACzBpS,EACHoQ,QACE,UAAC,GAAD,CAAOtF,MAAM,MAAb,UACE,UAAC,GAAD,CACE4B,QAAS,KACP8G,SAAAA,IACAH,EAAMvD,SAERhG,KAAK,UACLH,KAAK,UANP,SAQGqJ,QAAAA,EAAU,WAMnB,OAAOK,GAQPN,QAFmB,GAGnBM,MAAOjB,KCvHF,MAAMqB,GAAa,CACxBC,QAAU,GAAE9G,OAAO5I,aAAaC,eAChC0P,UAAW,CAETC,MAAO,SACPC,GAAI,uBAGJC,YAAa,iCACbC,WAAY,UACZC,gBAAiB,2BAGjBC,SAAU,YACVC,QAAS,gBACTC,cAAe,sBACfC,cAAe,iBACfC,cAAe,uBAGfC,gBAAiB,aACjBC,eAAgB,8BAChBC,iBAAkB,iCAClBC,YAAa,6BACbC,kBAAmB,oCACnBC,YAAa,4BACbC,cAAe,8BACfC,YAAa,wBAGbC,WAAY,yBAGZC,aAAc,qBACdC,aAAc,2BACdC,aAAc,gCACdC,cAAe,gCACfC,cAAe,sCACfC,cAAe,qCACfC,YAAa,yCACbC,gBAAiB,yCAGjBC,WAAY,UACZC,UAAW,cACXC,aAAc,WACdC,gBAAiB,gBACjBC,gBAAiB,iBACjBC,eAAgB,qBAChBC,cAAe,uBACfC,cAAe,+BACfC,cAAe,sCAGfC,OAAQ,uBACRC,gBAAiB,6BACjBC,cAAe,+BAGf7K,QAAS,WAGT8K,SAAU,YACVC,QAAS,gBACTC,cAAe,sBACfC,cAAe,iBACfC,cAAe,uBACfC,aAAc,kBAEhBC,kBAAkB,G,yHC/DpB,MAAMC,GAAM,ICyBL,MAuBLrH,YAAY1J,GAAS,gCArBX,MAqBW,wBAlBL,IAkBK,oBAfT,GAeS,wBAZN,GAYM,sBATP,eASO,uBANN,IAOb7F,KAAK6W,cAAL,UAAqBhR,EAAQgR,qBAA7B,QAA8C,GAC9C7W,KAAK4T,QAAU5T,KAAK8W,eAAejR,EAAQ+N,SAC3C5T,KAAK+W,YAAc/W,KAAKgX,aACxBhX,KAAKiX,UAAL,UAAiBpR,EAAQoR,iBAAzB,QAAsC,EACtCjX,KAAKkX,aAAL,UAAoBrR,EAAQqR,oBAA5B,SACAlX,KAAKmX,aAAL,UAAoBtR,EAAQsR,oBAA5B,QAA4C,GAC5CnX,KAAK2W,iBAAL,UAAwB9Q,EAAQ8Q,wBAAhC,SAEA3W,KAAKoX,eAAevR,EAAQgO,WAO9BwD,cAAcC,GACZ,OAAOtX,KAAKsX,aAAmBnF,SAOjC2E,eAAeS,GACb,GAAIA,aAAeC,IACjB,OAAOD,EAAI1T,WAGb,IACE,OAAO,IAAI2T,IAAID,GAAK1T,WACpB,MAAO4L,GACP,MAAMmE,EAAU,IAAI4D,IAAI1K,OAAO2K,SAASxN,MAWxC,OAVA2J,EAAQ8D,OAAS,GACjB9D,EAAQ+D,KAAO,GAEA,MAAXJ,EAAI,GACN3D,EAAQgE,SAAWL,EAAInT,QAAQ,SAAU,IAEzCwP,EAAQgE,SAAY,GAAEhE,EAAQgE,YAAYL,IACvCnT,QAAQ,UAAW,KACnBA,QAAQ,SAAU,IAEhBwP,EAAQ/P,YAQnBmT,aAIE,OAHsBlK,OAAO2K,SAASI,SAChB,IAAIL,IAAIxX,KAAK4T,SAASiE,OAEH,cAAgB,OAO3DT,eAAevD,EAAWiE,GACxB,GAAIjE,EAAW,CACG,IAAIkE,IAAI5Y,OAAOyE,QAAQiQ,IAE/BxF,SAAQ,CAAC2J,EAAUC,KACzB,MAAM,MAAEC,KAAUC,GAAiBnY,KAAKoY,YAAYJ,GAEpD7Y,OAAO2I,eAAe9H,KAAMiY,EAAY,CACtC1U,MAAOvD,KAAKqY,sBAAsBF,EAAc,CAACL,MAGnD3Y,OAAO2I,eAAe9H,KAAO,GAAEiY,OAAiB,CAC9C1U,MAAOvD,KAAKqY,sBAAsBF,EAAc,CAACL,IAAa,KAG5DI,GACFlY,KAAKoX,eAAec,EAAO,IACrBJ,QAAAA,EAAc,GAClBK,EAAanU,WAWvBqU,sBAAsBC,EAAgBR,EAAYS,GAAM,GACtD,OAAOxJ,MAAOyJ,GAAaC,UAAS5T,QAAS,MAC3C,IAAI6T,EAAgBC,EAEpB,IAAI,YACF,MAAMC,EAAc,IACdJ,QAAAA,EAAa,MACjB,UAAIxY,KAAKmX,oBAAT,QAAyB,KAGrB,OAAEG,EAAQC,IAAKsB,GAAe7Y,KAAK8Y,UACvCR,EAAetU,KACf4U,EACAd,GAGIiB,EACHzB,QAAAA,GAAU,UAACgB,EAAehB,cAAhB,QAA0B,OAAO0B,cAExCC,EAAiB9Z,OAAOC,OAC5BY,KAAKkZ,kBAAkBH,GADF,UAErB/Y,KAAK6W,qBAFgB,QAEC,GAFD,UAGrByB,EAAeG,eAHM,QAGK,GAC1BA,QAAAA,EAAW,IAGPU,EAAiB,IAAIC,QAAQH,GAE7BI,EAAgB,CACpB/B,OAAQyB,EACRN,QAASU,EACTG,KAAMtZ,KAAK+W,YACXwC,YAAkC,SAArBvZ,KAAK+W,YAAyB,OAAS,eAGtD,GAAsB,QAAlBgC,EAAyB,CAC3B,MAAMS,EAAcL,EAAeM,IAAI,iBACjC,aAAEtC,GAAiBnX,KACzB,IAAI0Z,EAAe7U,QAAAA,EAAQ,GAEvB6U,aAAwBC,SAC1Bxa,OAAOyE,QAAQuT,QAAAA,EAAgB,IAAI9I,SAAQ,EAAE1O,EAAK4D,MAChDmW,EAAaE,OAAOja,EAAK4D,MAG3BpE,OAAOC,OAAOsa,EAAc,IACtBvC,QAAAA,EAAgB,MAChBtS,QAAAA,EAAQ,KAIZ6U,aAAwBC,SAC1BN,EAAcxU,KAAO6U,EAErBL,EAAcxU,KADW,wBAAhB2U,EACYxZ,KAAK6Z,kBAAkBH,GACnB,qBAAhBF,EACYxZ,KAAK8Z,WAAWJ,GAEhBA,EAIH,wBAAhBF,GAEFL,EAAeY,OAAO,gBAK1B,IAAIC,EAuBJ,GApBE1B,EAAe2B,KAWfD,QAAoBnM,MAAMgL,EAAYQ,GAGxCV,EAAe,CACbF,QAAS,IAAIV,IAAI9Q,MAAMiT,KAAKF,EAAYvB,UACxC0B,OAAQH,EAAYG,OACpB5C,IAAKyC,EAAYzC,KAGfgB,EAAK,OAAOyB,EAEhB,GAAIA,EAAYI,GAAI,CAClB,MAAMC,QAAqBL,EAAYzV,OAEvC,IACE,MAAM+V,EACoB,MAAvBN,EAAYG,OACRI,KAAKC,MACLxa,KAAK2W,iBAAmB0D,EAAeA,GAAgB,MAEvD,CAAED,IAAI,GAEb,GAAI9B,EAAemC,mBAAmBtI,SACpC,aAAamG,EAAemC,QAAQH,GAGtC5B,EAAiB4B,EACjB,MAAO3N,GACP+L,EAAiB1Y,KAAK0a,kBAAkB/N,EAAK0N,SAG/C3B,EAAiB1Y,KAAK2a,cAAcX,GAEtC,MAAOY,GACPlC,EAAiB1Y,KAAK0a,kBAAkBE,GAU1C,OAPAzb,OAAO2I,eAAe4Q,EAAgB,QAAS,CAC7CnV,MAAOoV,EACPkC,cAAc,EACdC,YAAY,EACZC,UAAU,IAGLrC,GAUXN,YAAYJ,GAOV,MANwB,iBAAbA,IACTA,EAAW,CACThU,KAAMgU,IAIH,CACLV,OAAQ,MACR2C,UAAMxP,EACNgQ,aAAShQ,EACTyN,WAAOzN,KACJuN,GAIPkB,kBAAkB5B,GAChB,OAAQA,GACN,IAAK,OACL,IAAK,QACL,IAAK,SACH,MAAO,CACL,eAAgB,oBAGpB,QACE,MAAO,IAUbwB,UAAUkC,EAAUC,EAAO,GAAInD,GAC7B,MAAMP,EAAM,IAAIC,IAAIxX,KAAK4T,SACnBsH,EAAW,IACTlX,KAAMmX,EAAc7D,OAAQ8D,GAAmBpb,KAAKqb,gBAC1DL,EACAC,GAQIK,EANO,GACVlU,UAAW0Q,QAAAA,EAAc,GAAKqD,GAC9B9T,QAAQkU,QAAY9Q,IAAN8Q,IACdlX,KAAK,KACLD,QAAQ,UAAW,KAEKA,QAAQ,aAAa,IAAInB,KAClD,MAAMuY,EAASvY,EAAI,IACZtD,EAAK8b,GAAYD,EAAOvX,MAAM,gBAAgByX,MAAM,EAAG,GACxD1I,EAASiI,EAAKtb,GAIpB,GAFAub,EAAS7X,KAAK1D,QAEC8K,IAAXuI,EAAsB,CACxB,GAAiB,MAAbyI,EAAkB,MAAO,GAC7B,MAAM,IAAIE,MAAO,oBAAmBhc,eAGtC,OAAOqT,KAeT,OAZAuE,EAAIK,UAAY0D,EACblX,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,IAEhB6W,GAAwB,iBAATA,GACjB9b,OAAOyE,QAAQqX,GAAM5M,SAAQ,EAAE1O,EAAK4D,MAC7B2X,EAAS7Q,SAAS1K,IACrB4X,EAAIqE,aAAaC,IAAIlc,EAAK4D,MAKzB,CACLgU,IAAKA,EAAI1T,WACTyT,OAAQ8D,GASZC,gBAAgBL,EAAUC,GAAM,MAC9B,IAAIa,EAEFA,EADEd,aAAoB7I,SACN6I,EAASC,GAETD,EAGlB,MAAMe,EAAe,6CAIrB,MAAO,CAAEzE,OAHG,UAAGwE,EAAc7X,MAAM8X,UAAvB,aAAG,EAAoC,GAGlC/X,KAFJ8X,EAAc1X,QAAQ2X,EAAc,KAUnDlC,kBAAkBhV,GAChB,GAAIA,aAAgB8U,SAAU,OAAO9U,EAErC,MAAMmX,EAAW,IAAIrC,SAMrB,OAJAxa,OAAOyE,QAAQiB,GAAMwJ,SAAQ,EAAE1O,EAAK4D,MAClCyY,EAASpC,OAAOja,EAAK4D,MAGhByY,EAOTlC,WAAWjV,GACT,MAAMoX,EhBvZoBD,KAC5B,GAAIA,aAAoBrC,SAAU,CAChC,MAAM/V,EAAUoY,EAASpY,UAEzB,OAAOqD,MAAMiT,KAAKtW,GAASZ,QAAO,CAACC,GAAMtD,EAAK4D,MACrC,IAAKN,EAAK,CAACtD,GAAM4D,KACvB,IAGL,OAAOyY,GgB8YUE,CAAcrX,GAC7B,OAAO0V,KAAK4B,UAAUF,GAQL,oBAACG,EAAexB,GAAW,MAC5C,MAAM5H,EAAS,WACb,MAAMzO,QAAa6X,EAAc7X,OACjC,IACE,OAAOgW,KAAKC,MAAMjW,GAClB,MAAOkL,GACP,OAAOlL,IALI,GASf,MAAO,CACL4V,OAAQiC,EAAcjC,OACtBkC,OAAO,UAACzB,aAAD,EAACA,EAAWzP,eAAZ,QAAuBiR,EAAcE,aAAe,eAC3DC,eAAgBvJ,GASpB0H,kBAAkBE,EAAW4B,GAC3BC,QAAQJ,MAAMzB,GAQd,MAAO,CACLyB,MAAOzB,EAAUzP,QACjBqR,QAToB,MACpB,IACE,OAAOjC,KAAKC,MAAMgC,GAClB,MAAO/M,GACP,OAAO+M,IAKAE,IAUbC,YAAYpF,EAAKqF,EAAQC,EAAS7E,GAChC,OAAO,IAAIlJ,SAAQC,UACjB,IAAIwN,EAAW,KACXnC,GAAK,EAET,IACE,MAAM0C,EAAc,IAAIC,QAAQF,GAEJ,iBAAjBA,EAAQhY,OACjBiY,EAAYjY,KAAO0V,KAAKC,MAAMqC,EAAQhY,OAGxC0X,QAAiBvE,EAASiC,KAAK1C,EAAKqF,QAAAA,EAAU,GAAIE,GAClD,MAAOnQ,GACP8P,QAAQJ,MAAM1P,GACdyN,GAAK,EAGPlO,YAAW,KACTiD,EAAQ,CACNiL,KACA4C,KAAI,IACKlO,QAAQK,QAAQoN,OAG1Bvc,KAAKiX,gBD7dWtD,IAEZsJ,IAAavX,EAAAA,EAAAA,iBAC1BuX,GAAWpU,YAAc,aAEzB,IAAIqU,IAAY,EAEhB,MAAMC,GAAkBnK,IAAW,YACjC,MAAM,SAACuJ,GAAYvJ,EAGnB,MAAO,CACLoK,WAH+D,oBAA9C7Q,OAAM,UAACgQ,aAAD,EAACA,EAAUc,cAAX,QAAqBrK,aAArB,EAAqBA,EAAQqJ,OAIpDnR,MAAO8H,EAAOqJ,MAAQ,gBAAkB,eACxClR,QAAO,UAAEoR,aAAF,EAAEA,EAAUc,cAAZ,QAAsBrK,aAAtB,EAAsBA,EAAQqJ,MACrChR,WAAU,UAAEkR,aAAF,EAAEA,EAAUe,gBAAZ,QAAwB,KAClC/R,QAASgR,aAAF,EAAEA,EAAUhR,QACnBD,WAAYnM,OAAOyE,QAAP,UAAe2Y,aAAf,EAAeA,EAAUgB,yBAAzB,QAA8C,MAIxDC,GAAczO,MAAOwN,EAAUkB,GAAY,KAC/C,IAAIzK,EAASuJ,EAMb,GAJIvJ,aAAkB0K,WACpB1K,QAAe4D,GAAI+D,cAAc4B,IAGX,MAApBA,EAASpC,OAEX,YADA1C,SAASxN,KAAOlG,GAAY,MAI9B,MAAM,WAACqZ,KAAeO,GAAkBR,GAAenK,GAoBvD,OAlBIyK,GAEFlK,GAAM,CACJ1D,YAAauN,EACbvY,KAAMuY,GACJ,UAACnS,GAAD,CACES,QAAQ,EACRR,MAAO,qBACPC,QAAS,iDAGX,UAACF,GAAD,IAAkB0S,IAEpB/K,QAAQ,EACRjO,MAAO,CAAEvE,MAAO,OAIbgd,GAGIvK,IAAczK,EAAAA,EAAAA,aAAW,EAAEsB,YAAWjJ,KACjD,MAAO4b,EAAOuB,IAAY7R,EAAAA,EAAAA,UAAS,MAE7B+B,GAAU7B,EAAAA,EAAAA,cAAY8C,MAAOuI,GAAUsF,SAAS,GAAIiB,iBAAgBvV,GAAS,MACjF,GAAI4U,GAAW,OAEfU,EAAS,MAET,MAAM5K,QAAe4D,GAAIU,GAAQsF,EAAQtU,GAEzC,GAAsB,MAAlB0K,EAAOmH,OAGT,OAFA+C,IAAY,OACZzF,SAASxN,KAAOlG,GAAY,MAI9B,GAAIiP,EAAOqJ,MAAO,CAChB,MAAMyB,GAA6C,KAA1BD,aAAA,EAAAA,EAAc7K,IAEvC,IAAK6K,GAAeC,EAAiB,CACnCF,EAAS5K,GACT,MAAMoK,QAAmBI,GAAYxK,EAAQ3F,EAAaoQ,WAI1D,OAFAP,GAAYA,IAAaE,EAElB,MAIX,OAAOpK,IACN,IAEG3F,GAAezB,EAAAA,EAAAA,UAAQ,KAAM,CACjC6B,IAAKmJ,GACL9I,UACA0P,eACAnB,QACAoB,WAAW,EACXN,kBACA9F,cAAa,IAAI0G,IACRnH,GAAIS,iBAAiB0G,MAE5B,CAAC1B,IAQL,OANArO,EAAAA,EAAAA,YAAU,KACJvN,IACFA,EAAIkP,QAAUtC,KAEf,CAAC5M,KAGF,UAACwc,GAAWrU,SAAZ,CAAqBrF,MAAO8J,EAA5B,SACG3D,OAKMgE,GAAS,KACb1E,EAAAA,EAAAA,YAAWiU,IE/Gde,GAAkBvU,EAAAA,cAA6B,IACrDuU,GAAgBnV,YAAc,kBAEvB,MAAMoV,GAA4C,EAAEvU,eACzD,MAAOwU,EAAOC,GAAY1U,EAAAA,SAAe,IAEnC0D,EAAS1D,EAAAA,aAAmB2U,IAChCD,EAAS,IAAID,KAAWE,QAAAA,EAAW,OAClC,CAACF,IAEE7Q,EAAe5D,EAAAA,SAAc,KAAM,CACvCyU,QACA/Q,YACE,CAAC+Q,EAAO/Q,IAEZ,OACE,UAAC6Q,GAAgBpV,SAAjB,CAA0BrF,MAAO8J,EAAjC,SACG3D,KAKM2U,GAAc,IAClB5U,EAAAA,WAAiBuU,IC/BpBM,GAAe,IAAIvG,IAEnBwG,GAAa,IAAIxG,IA2DVyG,IAAiB9Y,EAAAA,EAAAA,eAAc,IAE/B+Y,GAAkB,EAAEC,YAAWhV,eAC1C,MAAMiV,GAAiB/S,EAAAA,EAAAA,UAAQ,IA5DL8S,IAAc3P,UAAmB,MAC3D,MAAM,UAAC6P,EAAD,OAAYC,EAAZ,kBAAoBC,GAAqBJ,EAAUK,GACnDC,EAAmBF,IAEnBG,EAAQ,UAAGX,GAAa7E,IAAIsF,UAApB,QAAgC,IAAIG,IAGlD,GAFAZ,GAAazC,IAAIkD,EAASE,GAEtBD,EAAkB,OAAOA,EAE7B,MAAMG,EAAkB,IAAIrQ,SAASK,IACnC8P,EAASG,KAAI,KACXlT,YAAW,KACTiD,EAAQ2P,OACP,UAyCP,OArCKP,GAAWc,IAAIN,IAClBR,GAAW1C,IAAIkD,EAAS,WACtB,MAAMO,EAAS,GAEXV,GACFU,EAAOjc,KAAK,IAAIyL,SAASK,IACvB,MAAMoQ,EAAS9a,SAASC,cAAc,UACtC6a,EAAO5V,KAAO,kBACd4V,EAAOC,OAAS,KACdrQ,KAEFoQ,EAAOpT,IAAMyS,EACbW,EAAOE,QAAQC,UAAW,EAC1Bjb,SAASkb,KAAK7a,YAAYya,OAI1BV,GACFS,EAAOjc,KAAK,IAAIyL,SAASK,IACvB,MAAMyQ,EAAOnb,SAASC,cAAc,QACpCkb,EAAKC,IAAM,aACXD,EAAKjW,KAAO,WACZiW,EAAKJ,OAAS,KACZrQ,KAEFyQ,EAAK3V,KAAO4U,EACZe,EAAKH,QAAQC,UAAW,EACxBjb,SAASkb,KAAK7a,YAAY8a,aAIxB9Q,QAAQgR,IAAIR,GAElBL,EAAS5Q,SAAQ0R,GAAYA,OAhCP,IAoCnBZ,GAOEa,CAAmBtB,IACzB,CAACA,IAEJ,OACE,UAACF,GAAe5V,SAAhB,CAAyBrF,MAAO,CAAEob,kBAAlC,SACGjV,KAKMuW,GAAcC,IACzB,MAAMC,GAAMnX,EAAAA,EAAAA,YAAWwV,KAChBO,EAASqB,IAAcrU,EAAAA,EAAAA,YAExBsU,GAAepU,EAAAA,EAAAA,cAAY8C,UAC/B,MAAMuR,QAAkBH,EAAIxB,eAAeuB,GAE3CE,IAAaE,KACZ,CAACH,EAAKD,IAMT,OAJAlS,EAAAA,EAAAA,YAAU,KACRqS,MACC,CAACA,IAEGtB,G,0BCvFT,MA4BawB,GAAgB,CAACnd,EAAM9D,EAAQ0L,EAAQ,cAAewV,EAAU,KAC3E,IAAIC,EAAa,EACbC,EAAY,EAEhB,MAAMC,EAhCW,EAACjhB,EAAQJ,KAC1B,MAAMshB,EAAiBlhB,EAAOmhB,wBACxBC,EAAiBxhB,EAAOuhB,wBAC9B,MAAO,CACLnhB,OAAQkhB,EACRthB,OAAQwhB,EACJC,UACF,OAAOH,EAAeG,IAAMD,EAAezgB,QAEzC2gB,aACF,OAAOJ,EAAeG,IAAMH,EAAevgB,QAEzC4gB,uBACF,OACEL,EAAeM,KACfN,EAAexgB,MAAQ,EACvB0gB,EAAe1gB,MAAQ,GAGvB+gB,qBACF,OAAOP,EAAeM,MAEpBE,sBACF,OAAOR,EAAeM,KAAON,EAAexgB,MAAQ0gB,EAAe1gB,SAS3DihB,CAAWje,EAAM9D,GAC7B,IAAIgiB,EAActW,EAAMtD,MAAM,KAE9B,OAAQsD,GACN,IAAK,aACH0V,EAAYC,EAAII,IAAMP,EACtBC,EAAaE,EAAIM,iBACjB,MACF,IAAK,WACHP,EAAYC,EAAII,IAAMP,EACtBC,EAAaE,EAAIQ,eACjB,MACF,IAAK,YACHT,EAAYC,EAAII,IAAMP,EACtBC,EAAaE,EAAIS,gBACjB,MACF,IAAK,gBACHV,EAAYC,EAAIK,OAASR,EACzBC,EAAaE,EAAIM,iBACjB,MACF,IAAK,cACHP,EAAYC,EAAIK,OAASR,EACzBC,EAAaE,EAAIQ,eACjB,MACF,IAAK,eACHT,EAAYC,EAAIK,OAASR,EACzBC,EAAaE,EAAIS,gBAyBrB,OAnBIV,EAAY5T,OAAOyU,SACrBb,EAAYC,EAAIK,OAASR,EACzBc,EAAY,GAAK,UAEjBZ,EAAYC,EAAIrhB,OAAOe,OACvByM,OAAOyU,QAAUzU,OAAO0U,cAExBd,EAAYC,EAAII,IAAMP,EACtBc,EAAY,GAAK,OAGfb,EAAa,GACfA,EAAaE,EAAIQ,eACjBG,EAAY,GAAK,QACRb,EAAaE,EAAIrhB,OAAOc,MAAQ0M,OAAO2U,aAChDhB,EAAaE,EAAIS,gBACjBE,EAAY,GAAK,SAGZ,CAAEP,IAAKL,EAAWQ,KAAMT,EAAYE,MAAK3V,MAAOsW,EAAYjd,KAAK,OCrF7Dqd,GAAkBjY,EAAAA,gBCElBkY,IAAkBvZ,EAAAA,EAAAA,aAC7B,EAEIC,MACAqB,WACAkY,WACA1T,UACA2T,SACAjS,uBAAsB,KACnB1P,GAELO,KACG,UACH,MAAMqhB,EAAW,UAAGrhB,QAAAA,EAAOmhB,SAAV,SAAsBG,EAAAA,EAAAA,UACjCC,EAAYC,EAAAA,SAAAA,KAAcvY,IACzBwY,IAAYnW,EAAAA,EAAAA,UAAS,IAAImT,KAG1BiD,EAAU,UAAGH,EAAU9hB,MAAMO,WAAnB,SAA0BshB,EAAAA,EAAAA,UACpCK,GAAiBpZ,EAAAA,EAAAA,YAAW0Y,IAE5BW,GAAyBpW,EAAAA,EAAAA,cAAa3M,IAAW,cACrD,MAAMgjB,EAAc,UAAGH,EAAWxS,eAAd,iBAAG,EAAoBI,gBAAvB,aAAG,SAA+BzQ,GAChDijB,EAAe,UAAGT,EAAYnS,eAAf,iBAAG,EAAqBiS,gBAAxB,iBAAG,EAA+B7R,gBAAlC,aAAG,SACtBzQ,GAEIkjB,EAAuBvb,MAAMiT,KAAKgI,GAAUlf,QAChD,CAACC,EAAKwf,IACGxf,GAAOwf,EAAMC,UAAUpjB,KAEhC,GAGF,OAAOgjB,GAAkBC,GAAmBC,IAC3C,CAACL,EAAYL,IAEVa,GAAc1W,EAAAA,EAAAA,cAAawD,IAAM,QAChCG,IACDyS,EAAuB5S,EAAEnQ,SAE7B,UAAAwiB,EAAYnS,eAAZ,mBAAqBK,aAArB,oBACC,CAACJ,EAAqByS,IAEnBO,GAAe3W,EAAAA,EAAAA,cAAawD,IAAM,cAGtC,OAFgB,UAAGqS,EAAYnS,eAAf,iBAAG,EAAqBiS,gBAAxB,iBAAG,EAA+B7R,gBAAlC,aAAG,SAA0CN,EAAEnQ,SAExCmQ,EAAEW,mBAEV,IAAXyR,EAAyBC,SAAP,UAAOA,EAAanS,eAApB,aAAO,EAAsBkT,YAEnDf,SAAA,UAAAA,EAAanS,eAAb,SAAsBkS,YACrB,CAACC,IAEEgB,GAAeC,EAAAA,EAAAA,cAAaf,EAAW,IACxCA,EAAU9hB,MACbmI,MACA1I,IAAK,aACLc,IAAK0hB,EACLa,eAAgB,UAAAhB,EAAU9hB,aAAV,SAAiB0M,QAAU,KAAOgW,IAG9CK,EAAgB/U,GACpB,UAAC,GAAD,IAAchO,EAAOO,IAAKqhB,EAA1B,SACG5T,IAED,MAEJF,EAAAA,EAAAA,YAAU,KACRvJ,SAAS2K,iBAAiB,QAASuT,EAAa,CAAEhS,SAAS,IACpD,IACLlM,SAASyK,oBAAoB,QAASyT,EAAa,CAAEhS,SAAS,MAC/D,CAACgS,IAEJ,MAAMtV,GAAezB,EAAAA,EAAAA,UAAQ,KAAM,CACjCuW,aACAP,SAAUE,EACVY,UAAWL,EACXa,SAAWT,GAAUP,EAAS9C,IAAIqD,GAClCU,YAAcV,GAAUP,EAASnI,OAAO0I,GACxCI,KAAM,oBAAMf,SAAN,UAAMA,EAAanS,eAAnB,iBAAM,EAAsBkT,YAA5B,aAAM,WACZ7S,MAAO,oBAAM8R,SAAN,UAAMA,EAAanS,eAAnB,iBAAM,EAAsBK,aAA5B,aAAM,cACX,CAACmS,EAAYL,IASjB,OAPA9T,EAAAA,EAAAA,YAAU,KACR,GAAKoU,EAGL,OADAA,EAAec,SAAS7V,GACjB,IAAM+U,EAAee,YAAY9V,KACvC,KAGD,WAACqU,GAAgB9Y,SAAjB,CAA0BrF,MAAO8J,EAAjC,UACGyV,EACAG,QCxFT,IAAIG,GAAY,EAET,MAAMC,IAAWjb,EAAAA,EAAAA,aACtB,EAAGkb,YAAW,EAAMnT,WAAU,KAAUjQ,GAASO,KAAQ,QACvD,MAAMmG,EAAWjB,GAAG,YAGdic,GAAWG,EAAAA,EAAAA,WACX,WAAEI,GAAF,WAAiBnZ,EAAAA,EAAAA,YAAW0Y,WAA5B,QAAgD,GAChD6B,OAA0B9Y,IAAf0X,GAEX,SAAEzY,GAAaxJ,GACdsjB,EAAYC,IAAiB1X,EAAAA,EAAAA,UAASoE,IACtCuT,EAAgBC,IAAc5X,EAAAA,EAAAA,UAASoE,IACvCyT,EAAQC,IAAa9X,EAAAA,EAAAA,UAAS,KAC9B+X,EAAYC,IAAiBhY,EAAAA,EAAAA,UAClCoE,EAAU,UAAY,MAGlB6T,GAAoB/X,EAAAA,EAAAA,cAAY,KAAM,QAC1C,MAAMgY,EAAarC,EAASjS,QACtBuU,EAAM,UAAG/B,aAAH,EAAGA,EAAYxS,eAAf,QAA0BsU,EAAWE,YAC3C,KAAEjD,EAAF,IAAQH,GAAQR,GAAc2D,EAAQD,EAAa,UAAD,UAAU/jB,EAAM8K,aAAhB,QAAyB,UAEjF6Y,EAAU,CAAE3C,OAAMH,UACjB,CAACoB,IAEEiC,GAAgBxY,EAAAA,EAAAA,UAAQ,IACrBwX,MACN,IAEGiB,GAAmBpY,EAAAA,EAAAA,cAAY8C,MAAOoB,GAAU,KACpD,IAAsB,IAAlBjQ,EAAMokB,UAAiC,IAAZnU,EAE/B,OAAO,IAAIrB,SAASK,IAClB,MAAMoV,EAAO3C,EAASjS,SAEL,IAAb2T,EACF/U,GAAiBgW,EAAM,CACrB7V,WAAY,KACVqV,EAAc5T,EAAU,SAAW,cAErCvB,iBAAkB,KAChBmV,EAAc5T,EAAU,gBAAkB,qBAE5CtB,gBAAiB,KACfkV,EAAc5T,EAAU,UAAY,MACpChB,QAIJ4U,EAAc5T,EAAU,UAAY,MACpChB,UAGH,CAACmU,IAEEkB,GAAmBvY,EAAAA,EAAAA,cAAY8C,UAAsB,QACzD,UAAA7O,EAAMukB,gBAAN,cAAAvkB,EAAiB4jB,SACXO,EAAiBP,GACvBH,EAAWG,GACX,UAAA5jB,EAAMwkB,2BAAN,cAAAxkB,EAA4B4jB,KAC3B,CAAC5jB,EAAOmkB,IAELrU,GAAQ/D,EAAAA,EAAAA,cAAY8C,WACD,IAAnB2U,IAA2C,IAAfF,UAE1BgB,GAAiB,GACvBf,GAAc,MACb,CAACC,EAAgBW,EAAkBnkB,EAAOsjB,IAEvCX,GAAO5W,EAAAA,EAAAA,cAAY8C,WACA,IAAnB2U,IAA0C,IAAfF,GAE/BC,GAAc,KACb,CAACC,EAAgBW,EAAkBnkB,EAAOsjB,IAEvC3B,GAAS5V,EAAAA,EAAAA,cAAY8C,WACP2U,EAGhBb,IAEA7S,MAED,CAACA,EAAO0T,EAAgBb,KAE3B7U,EAAAA,EAAAA,YAAU,KACHvN,IAELA,EAAIkP,QAAU,CACZiS,SAAUA,EAASjS,QACnBQ,QAAwB,OAAf2T,EACTjC,SACAgB,OACA7S,YAED,CAACA,EAAO6S,EAAMpiB,EAAKohB,EAAQD,EAAUkC,KAExC9V,EAAAA,EAAAA,YAAU,KACR2V,EAAWxT,KACV,CAACA,KAEJnC,EAAAA,EAAAA,YAAU,KACHuV,GAA2B,kBAAfO,GACfE,MAED,CAACF,EAAYE,EAAmBT,KAEnCvV,EAAAA,EAAAA,YAAU,MACc,IAAlB9N,EAAMokB,SAAmBD,GAAiB,KAC7C,CAACnkB,EAAMokB,WAEVtW,EAAAA,EAAAA,YAAU,KACJwV,GAAYgB,GAAiB,KAChC,CAAChB,IAEJ,MAAMtV,EACJxE,EAASxJ,OAAiC,SAAxBwJ,EAASxJ,MAAMyJ,MAC7BoZ,EAAAA,EAAAA,cAAarZ,EAAU,IACpBA,EAASxJ,MACZwI,UAAW9B,EAASxD,KAAK,QAAQ0C,IAAI4D,EAASxJ,MAAMwI,aAEpDgB,EAEAib,GAAoB/Y,EAAAA,EAAAA,UAAQ,KAChC,OAAQkY,GACN,IAAK,gBACH,MAAO,gBACT,IAAK,SACH,MAAO,uBACT,IAAK,mBACH,MAAO,mBACT,IAAK,YACH,MAAO,6BACT,IAAK,UACH,MAAO,UACT,QACE,OAAO3T,EAAU,UAAY,QAEhC,CAAC2T,EAAY3T,IAEVyU,EAAkB,IACtB,UAAI1kB,EAAMyE,aAAV,QAAmB,MACfif,QAAAA,EAAU,GACdiB,OAAQ,IAAOT,GAGXpR,GACJ,UAAC,GAAD,CACEvS,IAAKmhB,EACL1b,KAAK,WACLJ,IAAK,CAAC5F,EAAMwI,UAAWic,GACvBhgB,MAAOigB,EACPhY,QAAU6C,GAAMA,EAAEW,kBALpB,SAOGlC,IAIL,OAAOsV,GACY,IAAjBtjB,EAAM4kB,OACF9R,EACA+R,EAAAA,aAAsB/R,EAAQvO,SAASI,MACzC,QAIRwe,GAASxa,YAAc,WAEvBwa,GAAS2B,QAAUrD,GChLnB0B,GAAAA,QAAmB1B,GCFnB,MCEasD,GAAcxb,EAAAA,iBACb1B,MAAD,GAAQC,KAAIA,IAAIC,KCGhBid,IAAO9c,EAAAA,EAAAA,aAClB,EAAGsB,WAAUhB,YAAW/D,QAAOkF,OAAMsb,eAAcC,4BAA4B3kB,KAC7E,MAAMmhB,GL+FD5Y,EAAAA,EAAAA,YAAW0Y,IK7FV2D,GAAWzZ,EAAAA,EAAAA,UAAQ,IAChB,IAAIsT,IAAIiG,QAAAA,EAAgB,KAC9B,CAACA,IAEEG,GAAerZ,EAAAA,EAAAA,cAAawD,IAChC,MAAMrM,EAAOuC,GAAG,aAAavC,KAAK,QAAQuD,QAAQ8I,EAAEnQ,QAEhDsiB,GAAYxe,IAAqC,IAA7BgiB,GACtBxD,EAAS5R,UAEV,CAAC4R,IAEEjX,GAAYiB,EAAAA,EAAAA,UAAQ,MACfgW,GACR,CAACA,IAEJ,OACE,UAACqD,GAAYrc,SAAb,CAAsBrF,MAAO,CAAE8hB,YAA/B,UACE,UAAC,GAAD,CAAO5kB,IAAKA,EAAK4H,IAAI,KAAKnC,KAAK,YAAYH,IAAK,CAAC8D,OAAMc,aAAY7E,IAAK4C,EAAW/D,MAAOA,EAAOiI,QAAS0Y,EAA1G,SACG5b,SAOXwb,GAAKK,KChCmB,EACtB7b,WACA8b,QACAzb,OACA0b,KACA/c,YACAuB,OACAyb,SAAQ,EACRC,eAAc,EACdC,UAAS,EACThZ,aACGtE,MAEH,MAAMC,EAAY5C,GAAG,YAAa,CAACvC,KAAM,SACnCyiB,EAAY,CAACtd,EAAUf,gBACZ,MACf,MAAMoQ,EAAWH,SAASG,SAASxT,QAAQ,MAAO,IAC5CmT,EAAMkO,QAAAA,EAAMxb,EAElB,OAAIyb,EACK9N,IAAaL,EAEbK,EAASvN,SAASkN,IAPZ,IAWDqO,IAAQC,EAAUxiB,KAAKkF,EAAUxC,IAAI,CAAE6f,QAAQ,KAE3Dld,GAAWmd,EAAUxiB,KAAKqF,GAE9B,MAAMod,GACJ,kCACG/b,IAAQ,kBAAMrB,UAAWH,EAAUnF,KAAK,aAAhC,SAA+C2G,IACvDL,QAAAA,EAAY8b,KAIXO,EAAiB,CACrBrd,UAAWmd,EAAUxhB,KAAK,KAC1BuI,aACGtE,GAGC0d,EAAkBzd,EAAUxC,IAAI,CAAC6f,QAAQ,IAAOpe,cAChDye,EAAYR,QAAAA,EAAMxb,EAMxB,OAJI0b,IACFI,EAAenZ,QAAU,IAAM6K,SAASxN,KAAOwb,QAAAA,EAAMxb,IAIrD,yBACGwb,GACC,UAAC,MAAD,CAASA,GAAIQ,KACPF,EACJL,MAAOA,EACPM,gBAAiBA,EACjB,mBAJF,SAMGF,IAEDG,GACF,eAAGhc,KAAMlG,GAAYkiB,MAAgBF,EAArC,SACGD,KAGH,qBAAUC,EAAV,SACGD,ODlCXZ,GAAKgB,OAAS,KAAM,UAAC,GAAD,CAAOtgB,MAAM,YAAYyC,IAAI,KAAKnC,KAAK,WAC3Dgf,GAAKiB,QAAU,KAAM,UAAC,GAAD,CAAOvgB,MAAM,YAAYyC,IAAI,KAAKnC,KAAK,YAC5Dgf,GAAKkB,QAAU,CAAC7O,EAAK8O,KACXA,QAAAA,EAAa,IAAI9e,KAAI,CAACrE,EAAMojB,KAClC,GAAa,WAATpjB,EAAmB,OAAO,UAAC,GAAKgjB,OAAN,GAAkBI,GAChD,GAAa,YAATpjB,EAAoB,OAAO,UAAC,GAAKijB,QAAN,GAAmBG,GAElD,IAAIC,EAAWC,EAEf,GAAIvf,MAAMC,QAAQhE,IACfsjB,EAAUD,GAAarjB,MACnB,CACL,MAAM,SAACujB,EAAD,MAAWvb,EAAX,KAAkBlH,GAAQd,EAChCqjB,EAAYrb,QAAAA,EAASub,EACrBD,EAAWxiB,EAGb,GAAwB,mBAAbwiB,EACT,OAAO,UAAC,GAAKjB,KAAN,CAAuB3Y,QAAS4Z,EAAhC,SAA2CD,GAA3BD,GAGzB,MAAM7O,EAAY,GAAEF,IAAMiP,IAAWpiB,QAAQ,UAAW,KAExD,OAAO,UAAC,GAAKmhB,KAAN,CAAuBE,GAAIhO,EAAUiO,OAAK,EAA1C,SAA4Ca,GAA5BD,MAI3BpB,GAAKxa,MAAQ,EAAGhB,WAAUwB,QAAOxC,YAAW/D,YAExC,WAAC,GAAD,CAAOuB,KAAK,aAAaJ,IAAK4C,EAAW/D,MAAOA,EAAhD,WACE,UAAC,GAAD,CAAMuB,KAAK,QAAX,SAAoBgF,KACpB,UAAC,GAAD,CAAM7C,IAAI,KAAKnC,KAAK,OAApB,SAA6BwD,OEpEnC,MCSO3B,MAAD,GAAQC,KAAIA,IAAIC,KAETye,GAAc,KACzB,MAAMzZ,EAASK,KACTqZ,EAAmBC,KACnBC,EAAgBC,MACfC,EAAaC,IAAkBjb,EAAAA,EAAAA,UAAS4a,GAU/C,OARA3Y,EAAAA,EAAAA,YAAU,KACJ2Y,EAAiBlnB,OACnBunB,EAAeL,GACN1Z,EAAO8Z,aAChBC,EAAe/Z,EAAO8Z,eAEvB,CAACJ,EAAkB1Z,KAGpB,UAAC,GAAD,CAAO/G,KAAK,cAAZ,UACE,UAAC,GAAD,CAAMmC,IAAI,KAAKnC,KAAK,OAApB,SACG6gB,EAAYxf,KAAI,CAACrE,EAAMojB,EAAO3jB,KAAS,MACtC,MAAMskB,EAAaX,IAAU3jB,EAAKlD,OAAS,EAErCE,EAAO,QAAO2mB,KAASpjB,EAAKgI,QAE5BjB,EAAI,UAAG/G,EAAK+G,YAAR,QAAgB/G,EAAKc,KAEzBkjB,EAAqC,OAAxBL,EAAc5c,GAE3BiB,GACJ,UAAC,GAAD,CAAM7C,IAAI,OAAOnC,KAAK,QAAQH,IAAK,CAACohB,MAAOb,IAAUpjB,EAAKzD,OAAS,GAAnE,SACGyD,EAAKgI,QAIJkc,EAAkBlkB,EAAKmkB,SAC3B,UAAC,GAAD,WACE,UAAC,GAAD,UACGnkB,EAAKmkB,QAAQ9f,KAAI,CAAC+f,EAAKhB,KAAU,MAChC,OAAO,UAAC,QAAD,CAELd,MAAO8B,EAAIpc,MACXnB,KAAMud,EAAIvd,KACVE,KAAI,UAAEqd,EAAIrd,YAAN,QAAcqd,EAAItjB,KACtB4hB,OAAQ0B,EAAI1B,QAJN,GAAEU,KAASpjB,EAAKgI,gBAS5B,KAEJ,OAAOhI,EAAK0J,SACV,UAAC,GAAD,CAAgBvE,IAAI,KAAKnC,KAAK,OAAOH,IAAK,CAACwhB,KAAMN,GAAjD,UACE,kBAAMra,QAAS1J,EAAK0J,QAApB,SAA8B1B,KADrBvL,GAGTynB,GACF,UAAC,GAAD,CAAgB/e,IAAI,KAAKS,UAAWua,GAAAA,QAAkBnd,KAAK,OAAOH,IAAK,CAACwhB,KAAMN,GAAa/Y,QAASkZ,EAApG,UACE,2BAAOlc,KADEvL,GAGRsK,IAASgd,GACZ,UAAC,GAAD,CAAgB5e,IAAI,KAAKnC,KAAK,OAAOH,IAAK,CAACwhB,KAAMN,GAAjD,SACGC,GACC,UAAC,MAAD,CAASzB,GAAIxb,EAAM,iBAAe,EAAlC,SAAyCiB,KAEzC,eAAGjB,KAAMlG,GAAYkG,GAArB,SAA6BiB,KAJtBvL,IAQX,UAAC,GAAD,CAAgB0I,IAAI,KAAKnC,KAAK,OAAOH,IAAK,CAACwhB,KAAMN,GAAjD,SACG/b,GADQvL,WCzEV6nB,GAAO,EAAEC,SAAQ7d,QAAOF,WAAU/E,YAC7C,MAAM4D,EAAY5C,GAAG,QACrB,OAAO,kBAAK+C,UAAWH,EAAW5D,MAAOA,EAAlC,WACH8iB,GAAU7d,KACV,kBAAKlB,UAAWH,EAAUnF,KAAK,UAA/B,WACE,iBAAKsF,UAAWH,EAAUnF,KAAK,kBAA/B,SACGqkB,IAGF7d,IACC,iBAAKlB,UAAWH,EAAUnF,KAAK,gBAA/B,SACGwG,QAKT,iBAAKlB,UAAWH,EAAUnF,KAAK,WAA/B,SACGsG,QCjBMge,GAAU,EAAEhe,WAAUie,QAAO9d,OAAM+d,UAE9C,MAAMnnB,EAAMgJ,EAAAA,SAGN9E,EAAQ,CACZ,YAAaW,KAAKD,IAAI,EAAGsiB,QAAAA,EAAS,GAClC,iBAAkB9d,EAClB,eAAgB+d,GAGlB,OACE,iBACEnnB,IAAKA,EACLiI,UAAW/C,GAAG,WACdhB,MAAOA,EACP+E,SAAUA,KAKhBge,GAAQG,OAAS,EAAE3c,QAAOxB,eAEtB,kBAAKhB,UAAW/C,GAAG,WAAWvC,KAAK,QAAnC,WACE,iBAAKsF,UAAW/C,GAAG,WAAWvC,KAAK,SAAnC,SAA8C8H,IAC7CxB,KC5BP,MCGaoe,GAAY,EAAEC,SAAQzE,YAAW,MAC5C,MAAMhd,EAAOX,GAAG,aAEhB,OACE,mBAAM+C,UAAWpC,EAAKP,IAAI,CAACud,WAAUyE,WAArC,WACE,sBACA,sBACA,yB,0BCVN,MAAMC,GAAgB,IAAI9I,IAmBb+I,GAAgB,CAACC,EAAWC,MAZhC,CAAC,UAAM1d,EAAW,GAAI,mBAAmBJ,SAc/B6d,EAd+Cve,cAmBzBc,IAAnCyd,EAAUzI,QAAQ2I,eACA,IAAhBD,IAAwBH,GAAc3I,IAAI6I,EAAUG,eAMrDH,EAAU/D,YAeXmE,GAAc,CAACC,EAAcC,IAC1B,IAAI1Z,SAASK,IAAY,MAE9B,MAAMsZ,EAAYhkB,SAASC,cAAc,UAMnCyH,GAJNqc,EAAY,UAAGA,SAAH,QAAmBD,GAINpc,KA3CHuc,KACxB,MAAMC,EAAO,IAAIC,KAAK,CAACF,GAAgB,CAAC/e,KAAM,oBAC9C,OAAO6N,IAAIqR,gBAAgBF,GAAM9kB,YAyCCilB,CAAiBN,EAAajkB,MAO9D,GAJAyjB,GAAc5I,IAAIoJ,EAAaH,WAI1BG,EAAazZ,MAUhBI,QAVuB,CACvB,MAAM4Z,EAAiB,EAAEpf,WACvB8e,EAAUvZ,oBAAoB,OAAQ6Z,GACtCN,EAAUvZ,oBAAoB,QAAS6Z,GACvC5Z,EAAiB,UAATxF,GAA2B8e,IAGrCA,EAAUrZ,iBAAiB,OAAQ2Z,GACnCN,EAAUrZ,iBAAiB,QAAS2Z,QAKIte,IAAtC+d,EAAa/I,QAAQ2I,eACvBK,EAAUhJ,QAAQ2I,aAAe,IAG/BI,EAAa5mB,KAAI6mB,EAAU7mB,GAAK4mB,EAAa5mB,IAC7C4mB,EAAa9f,YAAW+f,EAAU/f,UAAY8f,EAAa9f,WAE/D+f,EAAUhJ,QAAQC,SAAW,OAC7B+I,EAAU1Z,MAAQyZ,EAAazZ,MAC/B0Z,EAAUO,MAAQR,EAAaQ,MAC/BP,EAAU9e,KAAO,kBACjB8e,EAAUtc,IAAMA,EAEhBoc,EAAapE,WAAW8E,aAAaR,EAAWF,GAChDA,EAAarjB,YAQJgkB,GAAgBna,MAAOmZ,GAAYM,eAAcL,eAAc,GAAS,MAAO,MAG1F,GAFAK,EAAY,UAAGA,SAAH,QAAmBN,EAE1BD,GAAcC,EAAWC,KAC1BK,IAAiBN,GAAcD,GAAcO,EAAcL,IAE/D,OAAOG,GAAYJ,EAAWM,IAkBnBW,GAAkBpa,UAC7B,MAAMqa,EAAU9iB,EAAKI,iBAAiB,UAEtC,IAAK0iB,EAAQ3pB,OAAQ,MAAO,GAE5B,MAAM4pB,EApBe,UAAYD,GACjC,KAAMA,EAAQ3pB,QAAQ,CACpB,MAAM6pB,EAAaF,EAAQG,cACrBL,GAAcI,GAAYvb,MAAMiF,GAC7BA,KAgBMwW,CAAeviB,MAAMiT,KAAKkP,IACrCpW,EAAS,GAEf,UAAU,MAAMuM,KAAU8J,EACxBrW,EAAO3P,KAAKkc,GAGd,OAAOvM,GChIHyW,GAAY,IAAI1R,IA4DhB2R,GAAY3a,MAAO4a,EAASC,KAC5BD,GAAWC,IACbD,EAAQE,YAAYD,SACdT,GAAgBS,KAkEpBE,GAAkB/a,MAAOgb,EAASC,KACtC,MAAMC,EAAe,CACnB,6BACA,6CACA5lB,KAAK,MACD6lB,EAAYjjB,MAAMiT,KAAK6P,EAAQrjB,iBAAiBujB,IAChDE,EAAYljB,MAAMiT,KAAK8P,EAAQtjB,iBAAiBujB,IAEhDG,GAtCmBC,EAsCoBH,EArCtC,IAAIhL,IAAIjY,MAAMiT,KAAKmQ,GAAO9iB,KAAI+iB,GAAKA,EAAEjC,cADnBgC,MAuCzB,MAAME,EAAkBJ,EAAU9iB,QAAO1C,IAAUylB,EAAmB/K,IAAI1a,EAAM0jB,mBAE1EvZ,QAAQgR,IACZyK,EAAgBhjB,KAAI5C,GAAS,IAAImK,SAASK,IACxCxK,EAAM6a,OAAS,IAAMrQ,EAAQxK,EAAM0jB,WACnC5jB,SAASkb,KAAK/F,OAAOjV,UAOrB6lB,GAAgBzb,MAAOib,EAASS,KACpChmB,SAASyG,MAAQ8e,EAAQ9e,YAEnB4e,GAAgBrlB,SAAUulB,QA7CVjb,OAAO2b,EAASC,KACtCjB,GAAUgB,EAAQnkB,cAAc,SAAUokB,EAAQpkB,cAAc,UAEhE,MAAMqkB,EAAWnmB,SAASomB,yBAE1B5jB,MAAMiT,KAAKyQ,EAAQjkB,iBAAiB,WACjCW,QAAOkY,GAAU0I,GAAc1I,KAC/BlR,SAAQkR,GAAUqL,EAAS9lB,YAAYya,KAE1CtY,MAAMiT,KAAKwQ,EAAQhkB,iBAAiB,WACjCW,QAAOkY,GAAU0I,GAAc1I,KAC/BlR,SAAQkR,GAAUA,EAAOra,WAE5BwlB,EAAQ5lB,YAAY8lB,SACdzB,GAAgBuB,IAgChBI,CAAgBrmB,SAASkb,KAAMqK,EAAQrK,WAnFvB5Q,OAAOgb,EAASC,KACtC,MAAMe,EAAchB,EAAQxjB,cAAc,uBACpCykB,EAAchB,EAAQzjB,cAAc,uBAEtCwkB,GAAeC,SACX9B,GAAc6B,EAAa,CAC/BvC,aAAcwC,EACd7C,aAAa,KA6EX8C,CAAgBxmB,SAAUulB,QApEdjb,OAAOgb,EAASC,KAClC,MAAMkB,EAAiBnB,EAAQxjB,cAAc,oBACvC4kB,EAAanB,EAAQzjB,cAAc,oBAErC2kB,GAAkBC,QACdzB,GAAUwB,EAAgBC,SAE1BzB,GAAUK,EAAQllB,KAAK6E,SAAS,GAAIyhB,IA8DtCC,CAAY3mB,SAAUulB,GAC5BS,SAAAA,KAYIY,GAAsB,KAC1B,MAAM,KAACphB,GAAQwN,SACf,OAAOxN,EAAK7F,QAAQ,SAAU,KAG1BknB,GAAYvc,UAChB,MAAMwc,OAvKcxc,WACpB,IACE,GAAI0a,GAAUpK,IAAI9H,GAChB,OAAOkS,GAAUhQ,IAAIlC,GAChB,CACL,MAAMgF,QAAiB1O,MAAM0J,GACvBgU,QAAahP,EAAShY,OAE5B,OAAwB,MAApBgY,EAASpC,YACX1C,SAASxN,KAAOlG,GAAY,MAIzBwY,EAASnC,IAedqP,GAAU5N,IAAItE,EAAKgU,GACZA,IAfLhY,GAAM,CACJ1O,KAAM,KACJ,UAACoG,GAAD,CACEC,MAAQ,SAAQqR,EAASpC,WAAWoC,EAASD,aAC7ClR,QAASmR,EAASpC,OAClB9O,WAAa,mBAAkBkM,QAAUgU,MAG7C1b,YAAY,EACZlL,MAAO,CAAEvE,MAAO,OAEX,OAMX,MAAOuM,GAaP,OAZA4G,GAAM,CACJ1O,KAAM,KACJ,UAACoG,GAAD,CACES,QAAQ,EACRR,MAAO,qBACPC,QAAS,gDAGbyH,QAAQ,EACR/C,YAAY,EACZlL,MAAO,CAAEvE,MAAO,OAEX,OA2HUorB,CAAcC,GACjC,OAAOF,EA9KaA,KACL,IAAIG,WACKC,gBAAgBJ,EAAM,aA4KhCK,CAAaL,GAAQ,MAGrC,IAAIM,GAAkBR,KAEtB,MAAMS,GAAmB,CAACC,EAAgBC,KACxC,MAAOC,EAAeC,IAAoBngB,EAAAA,EAAAA,UAASggB,GAgBnD,MAAO,CACLE,GAfoBhgB,EAAAA,EAAAA,cAAY8C,UAEhC8c,GAAkBJ,EDxJpBzD,GAAcmE,QC0JZ,MAAMnZ,QAAesY,GAAUG,GAE/B,QAAIzY,UACIwX,GAAcxX,EAAQgZ,GAC5BE,EAAiBlZ,IACV,KAGR,MAQQoZ,IAAmB1mB,EAAAA,EAAAA,eAAc,MAIjC2mB,IAFoBD,GAAiBrf,SAEzB,EAAErD,eACzB,MAAMqiB,EAAiBtnB,SAEjB6nB,GAAUC,EAAAA,EAAAA,MACVtf,GAASjE,EAAAA,EAAAA,YAAW6D,IACpB2f,GAAiBvgB,EAAAA,EAAAA,cAAY,KACjCgB,EAAOE,OAAOL,OAAO5I,gBACpB,KACI+nB,EAAeQ,GAAeX,GAAiBC,EAAgBS,GAEhEE,GAAczgB,EAAAA,EAAAA,cAAY8C,UAE9B,MAAMzP,EAASmQ,EAAEnQ,OAAOqH,QAAQ,yCAEhC,IA9DiBrH,MACdA,IACDA,EAAOmgB,QAAQkN,WACfrtB,EAAOstB,aAAa,QAAQ3oB,MAAM,MAClC3E,EAAOuY,SAAWJ,SAASI,OA0DxBgV,CAAYvtB,GAAS,OAC1B,GAAIA,EAAOwtB,QAAQ,mBAAoB,OACvC,GAAIrd,EAAEsd,SAAWtd,EAAEud,QAAS,OAE5Bvd,EAAEY,uBACoBoc,EAAYntB,EAAO2K,OAGvCqiB,EAAQjpB,KAAM,GnChJSW,KAC3B,GAAIE,aAAaC,SAAU,CACzB,MAAMA,EAAWD,aAAaC,SACxB8oB,EAAS,IAAIzV,IAAIrT,GAAUyT,SAASxT,QAAQ,UAAW,IAE7D,OAAOJ,EAAKI,QAAQ,IAAIuD,OAAQ,IAAGslB,KAAW,IAGhD,OAAOjpB,GAAQ,KmCwIKkpB,CAAa5tB,EAAOsY,YAAYtY,EAAOoY,YAExD,IAEGyV,GAAalhB,EAAAA,EAAAA,cAAY,KAC7B,MAAMmhB,EAAc/B,KACG+B,IAAgBvB,KAGrCA,GAAkBuB,EAClBX,EAAYW,MAEb,IAaH,OATApf,EAAAA,EAAAA,YAAU,KACRvJ,SAAS2K,iBAAiB,QAASsd,EAAa,CAAC/b,SAAS,IAC1D7D,OAAOsC,iBAAiB,WAAY+d,GAC7B,KACL1oB,SAASyK,oBAAoB,QAASwd,EAAa,CAAC/b,SAAS,IAC7D7D,OAAOoC,oBAAoB,WAAYie,MAExC,KAGD,UAACf,GAAiBxjB,SAAlB,CAA2BrF,MAAO0oB,EAAlC,SACGviB,MCpQD2jB,GAAe,CAACzrB,EAAIlC,EAAQgK,EAAU8Q,KAC1C,IAAIxH,EACAsa,GAAe,EAEnB,IAAK5jB,GAAgC,IAApBA,EAASjK,QAAgBiK,aAAoByI,SAAU,OACtE,MAAMob,EAAW7tB,EAAO6G,cAAe,YAAW3E,KAC5C4rB,EAAY,UAAGD,EAASE,iBAAZ,QAAyB,GAE3C,GAAIjT,EAAO,CACT,MAAMkT,GAASC,EAAAA,GAAAA,IAAUH,GAEzBxa,EADoBtJ,aAAoByI,UAAWzI,EAASgkB,IACpCA,MACnB,CACL,MAAME,EAAclkB,aAAoByI,UAAWzI,EAAS6jB,GAExDK,EACF5a,EAAS4a,GAET5a,EAASwa,EACTF,GAAe,SAInBta,EAAStJ,EAGX,MAAO,CAAEA,SAAUsJ,EAAQsa,iBAGvBO,GAAsBpkB,EAAAA,YAAiB,EAC3C7H,KACAksB,UACApkB,WACAhK,SACAquB,mBACAvT,SAAQ,EACRjC,OAAM,KACHrY,GACFO,KACD,MAAMutB,EAAUvtB,QAAAA,EAAOgJ,EAAAA,UAEhByE,EAAS+f,GAAcxkB,EAAAA,SAAe4jB,GAAazrB,EAAIlC,EAAQgK,EAAU8Q,IAiBhF,OAfA/Q,EAAAA,WAAgB,KACdwkB,EAAWZ,GAAazrB,EAAIlC,EAAQgK,EAAU8Q,MAC7C,CAAC9a,EAAQgK,IAEZD,EAAAA,WAAgB,KACVukB,EAAQre,SAASwZ,GAAgB6E,EAAQre,SAC7Coe,SAAAA,MACC,CAAC7f,IAEAA,EAAQof,aACVptB,EAAMmM,wBAA0B,CAAEC,OAAQ4B,EAAQxE,UAElDxJ,EAAMwJ,SAAWwE,EAAQxE,UAGX,IAAR6O,GAAgBrK,EAAQxE,UAC5B,UAAC,WAAD,CAAgBA,SAAUwE,EAAQxE,WAClCD,EAAAA,cAAoBqkB,QAAAA,EAAW,MAAO,IACnC5tB,EACHO,IAAKutB,OAIEE,GAAgBzkB,EAAAA,YAAiB,CAACvJ,EAAOO,KACpD,MAAM0tB,EAAa1kB,EAAAA,WAAiB2iB,IAEpC,OAAO+B,GACL,UAACN,GAAD,IAAyB3tB,EAAOR,OAAQyuB,EAAY1tB,IAAKA,IACvD,QCrEO2tB,IAAUhmB,EAAAA,EAAAA,aACrB,EAAG8C,QAAOxB,WAAU2kB,iBAAgB/jB,WAAU3F,SAASlE,KACrD,IAAKiJ,GAAYzC,MAAMC,QAAQwC,GAC7B,MAAM,IAAIiS,MAAM,2CAGlB,MAAM2S,EAAiB7tB,QAAAA,GAAOshB,EAAAA,EAAAA,UACxBwM,GAAiBxM,EAAAA,EAAAA,WAChB6B,EAAQC,IAAa9X,EAAAA,EAAAA,UAAS,KAC9B+X,EAAYC,IAAiBhY,EAAAA,EAAAA,UAClCsiB,EAAiB,UAAY,OAExBG,EAAUC,IAAe1iB,EAAAA,EAAAA,WAAS,IAClCf,EAAO0jB,IAAY3iB,EAAAA,EAAAA,UAAS,cAE7BiY,GAAoB/X,EAAAA,EAAAA,cAAY,KACpC,MAAM,KAAEiV,EAAF,IAAQH,EAAK/V,MAAOsW,GAAgBf,GACxC+N,EAAe3e,QACf4e,EAAe5e,QACf3E,EACA,IAGF6Y,EAAU,CAAE3C,OAAMH,QAClB2N,EAASpN,KACR,CAACgN,EAAe3e,QAAS4e,EAAe5e,UAErC0U,GAAmBpY,EAAAA,EAAAA,cACtBkE,IACKoe,EAAe5e,SACjBpB,GAAiBggB,EAAe5e,QAAS,CACvCf,mBACEmV,EAAc5T,EAAU,gBAAkB,qBAE5CzB,aACMyB,GAAS6T,IACbD,EAAc5T,EAAU,SAAW,cAErCtB,kBACEkV,EAAc5T,EAAU,UAAY,OACpB,IAAZA,GAAmBse,GAAY,QAK3C,CAACD,EAAUxK,EAAmBuK,IAG1B5J,GAAoB/Y,EAAAA,EAAAA,UAAQ,KAChC,OAAQkY,GACN,IAAK,gBACH,MAAO,gBACT,IAAK,SACH,MAAO,uBACT,IAAK,mBACH,MAAO,mBACT,IAAK,YACH,MAAO,6BACT,IAAK,UACH,MAAO,UACT,QACE,OAAOA,EAAa,UAAY,QAEnC,CAACA,IAEE6K,GAAU/iB,EAAAA,EAAAA,UACd,IACE4iB,GACE,UAAC,GAAD,CACE/tB,IAAK8tB,EACLroB,KAAK,UACLH,IAAK,CAACiF,SACNlF,IAAK6e,EACLhgB,MAAO,IAAKif,KAAYjf,QAAAA,EAAS,IALnC,UAOE,UAAC,GAAD,CAAMuB,KAAK,OAAX,SAAmBgF,MAEnB,MACN,CAACsjB,EAAU5K,EAAQ1Y,EAAOyZ,EAAmB4J,IAGzC9L,EAAQR,EAAAA,SAAAA,KAAcvY,GACtBklB,GAAQ7L,EAAAA,EAAAA,cAAaN,EAAO,IAC7BA,EAAMviB,MACTO,IAAK6tB,EACLO,aAAapf,GAAG,SACG,IAAbnF,IACJmkB,GAAY,GACZ,aAAAhM,EAAMviB,OAAM2uB,oBAAZ,gBAA2Bpf,KAE7Bqf,aAAarf,GAAG,SACG,IAAbnF,IACJ+Z,GAAiB,GACjB,aAAA5B,EAAMviB,OAAM4uB,oBAAZ,gBAA2Brf,OAQ/B,OAJAzB,EAAAA,EAAAA,YAAU,KACJwgB,GAAUnK,GAAiB,KAC9B,CAACmK,KAGF,kCACGI,GACA5c,EAAAA,EAAAA,cAAa2c,EAASlqB,SAASI,YAKxCupB,GAAQvlB,YAAc,UCnHtB,MCIMkmB,GAAiB,qHAEVC,IAAU5mB,EAAAA,EAAAA,aAAW,EAChC6mB,WACAplB,OACAsC,MACAwB,OACAjF,YACAwmB,eACAvqB,WACG2D,GACF7H,KAAQ,MACT,MAAM0uB,GAASpN,EAAAA,EAAAA,WACRqN,EAAeC,IAAoBtjB,EAAAA,EAAAA,UAASkjB,IAC5CK,EAAUC,IAAexjB,EAAAA,EAAAA,UAAQ,UAAC4B,aAAD,EAACA,EAAM6hB,cAAP,QAAiBrjB,IAClDsjB,EAAYC,IAAiB3jB,EAAAA,EAAAA,WAAS,IACtC4jB,EAAaC,IAAkB7jB,EAAAA,EAAAA,WAAS,GAE3ClC,IACFlF,EAAQxF,OAAOC,OAAO,CAAEgB,MAAOyJ,EAAMxJ,OAAQwJ,EAAMgmB,SAAiB,GAAPhmB,GAAclF,KAG7EqJ,EAAAA,EAAAA,YAAU,KACR,GAAIL,EAAM,CACR,MAAM,WAACmiB,EAAD,UAAaC,EAAb,MAAwBC,EAAxB,SAA+BC,EAA/B,SAAyChB,GAAYthB,EAEvDsiB,EACFZ,EAAiBY,GACRhB,EACTI,EAAiBJ,GACRa,GAAcC,EACvBV,EAAkB,GAAES,EAAW,KAAKC,EAAU,MACrCC,GACTX,EAAiBW,EAAME,UAAU,EAAG,IAGlCviB,EAAK6hB,QAAQD,EAAY5hB,EAAK6hB,aAElCH,EAAiBJ,GACjBM,EAAYpjB,KAEb,CAACwB,IAEJ,MAAMwiB,GAAgBlkB,EAAAA,EAAAA,cAAY,KAChCyjB,GAAc,GACVJ,IAAaP,IAAgBa,GAAe,KAC/C,CAACN,IAEEc,GACJ,WAAC,GAAD,CAAO3vB,IAAKA,EAAKyF,KAAK,UAAUJ,IAAK4C,EAAW/D,MAAOA,KAAW2D,EAAlE,WACE,UAAC,GAAD,CACED,IAAI,MACJnC,KAAK,SACLzF,IAAK0uB,EACLhjB,IAAKmjB,EACLljB,KAAMgjB,QAAAA,EAAiB,IAAIpW,cAC3BrU,MAAO,CAACjE,QAAS+uB,EAAa,EAAI,GAClCY,OAAQF,EACRG,QAAS,IAAMf,EAAYR,MAE5BY,IACC,UAAC,GAAD,CAAMtnB,IAAI,OAAOnC,KAAK,WAAtB,UACIkpB,QAAAA,EAAiB,IAAIpW,mBAMzBuX,GAAe3kB,EAAAA,EAAAA,UAAQ,KACc,QAAzC,OAAI+B,SAAAA,EAAMmiB,YAAcniB,SAAAA,EAAMoiB,UACpB,GAAD,UAAGpiB,aAAH,EAAGA,EAAMmiB,kBAAT,QAAuB,MAAvB,UAA6BniB,aAA7B,EAA6BA,EAAMoiB,iBAAnC,QAAgD,KAAKtsB,OACnDkK,SAAAA,EAAMqiB,MACRriB,EAAKqiB,MAELf,IAER,CAACthB,EAAMshB,IAEV,OAAQC,GAAgBqB,GACtB,UAAC,GAAD,CAASrlB,MAAOqlB,EAAhB,SACGH,IAEDA,KAENpB,GAAQnmB,YAAc,U,eCxFtB,MCOM2nB,IAAiB9qB,EAAAA,EAAAA,iBAEV+qB,GAAkB,EAAE/mB,eAC/B,MAAM+D,EAAMC,MAELwC,EAAOwgB,IAAYC,EAAAA,EAAAA,aAAW,CAACzgB,EAAO0gB,KAC3C,GAAoB,kBAAhBA,EAAOjnB,KACT,MAAO,IAAIuG,KAAU0gB,EAAOC,YAI1BC,GAAe7kB,EAAAA,EAAAA,cAAY8C,UAC/B,MAAMwN,QAAiB9O,EAAIK,QAAQ,WAEnC,GAAiB,OAAbyO,EAAmB,CACrB,MAAMtB,EAAOsB,EAAS,2BAEtBmU,EAAS,CACP/mB,KAAM,gBACNknB,QAAS,CACPtlB,QAAS0P,EAAK1P,QACdwlB,cAAe9V,EAAK+V,yBACpBC,WAAYhW,EAAKiW,4BACjBC,YAAYC,EAAAA,GAAAA,GAAO,IAAIC,KAAKpW,EAAKqW,4BAA6B,eAInE,CAAC7jB,IAMJ,OAJAO,EAAAA,EAAAA,YAAU,KACR8iB,MACC,KAGD,UAACN,GAAe5nB,SAAhB,CAAyBrF,MAAO2M,EAAhC,SACGxG,KCzBM6nB,IAAiB7rB,EAAAA,EAAAA,iBAExB8rB,GAAkB,EAAG9oB,gBACzB,UAACwlB,GAAD,CACEtsB,GAAG,oBACH8G,UAAWA,EAFb,SAGG6kB,IAAa,UAAC,GAAD,CAAakE,aAAclE,MAGvCmE,GAAmB,EAAGhpB,eAAcxI,MACxC,MAAM,iBAAEyxB,EAAF,aAAoBC,GAAiBC,KAE3C,OAAOF,GACL,iBAAKjpB,UAAWA,EAAhB,UACE,UAACipB,EAAD,IAAsBzxB,KAAY0xB,QAAAA,EAAgB,QAGpD,UAAC1D,GAAD,CACEtsB,GAAG,qBACH8G,UAAWA,KAKJopB,GAAU,EACrBxN,UACAyN,gBACAC,gBACAtoB,WACAuoB,kBACAC,mBAEA,MAAMC,GAAkBpQ,EAAAA,EAAAA,UAClBqQ,GAAarQ,EAAAA,EAAAA,UACbtK,EAAW4a,KAEXplB,EAASK,MACRglB,EAAeC,IAAoBxmB,EAAAA,EAAAA,UAASgmB,SAAAA,IAC5CS,EAAeC,IAAoB1mB,EAAAA,EAAAA,UAASimB,SAAAA,IAC5CU,EAAaC,IAAkB5mB,EAAAA,EAAAA,UAAS,CAC7C6mB,UAAW,KACX1yB,MAAO,KAGH2yB,EAAeltB,GAAG,eAClBmtB,EAAiBD,EAAazvB,KAAK,WACnC2vB,EAAeptB,GAAG,WAClBqtB,EAAertB,GAAG,mBAClBstB,EAAcJ,EAAazvB,KAAK,gBAEhC8vB,GAAajnB,EAAAA,EAAAA,cAAawD,IAC9BA,EAAEY,iBAEF,MAAM8iB,GAAYX,EAElBC,EAAiBU,GACjBjB,SAAAA,EAAeiB,KACd,CAACX,IAEEY,GAAgBnnB,EAAAA,EAAAA,cAAakE,IACjC,MAAMgjB,EAAWhjB,EAEjBoiB,EAAiBY,GACjBlB,SAAAA,EAAkBkB,KACjB,CAACb,IAEEe,GAAgBznB,EAAAA,EAAAA,UAAQ,KAAM,CAClC8mB,cAEAY,WAAWnT,GACTjU,YAAW,KACTymB,EAAe,IACVD,EACHE,UAAWzS,QAKjBoT,SAASrzB,GACPgM,YAAW,KACTymB,EAAe,IACVD,EACHxyB,cAKNszB,aAAarT,GACJuS,EAAYE,YAAczS,KAEjC,CAACuS,IASL,OAPA1kB,EAAAA,EAAAA,YAAU,KAAM,MACM,EAAfwkB,IACHL,SAAA,UAAAA,EAAiBxiB,eAAjB,SAA0BK,SAE5BoiB,SAAA,UAAAA,EAAYziB,eAAZ,SAAqBK,UACpB,CAACyH,KAGF,kBAAK/O,UAAWsqB,EAAhB,UACG1O,IACC,kBAAK5b,UAAWmqB,EAAhB,WACE,UAAC,WAAD,CACEjR,SAAUuQ,EACVviB,qBAAsB4iB,EAFxB,UAIE,kBAAK9pB,UAAY,GAAEmqB,EAAazvB,KAAK,+BAArC,WACE,kBAAMuB,MAAO,CAAE8uB,MAAO,OAAOC,WAAY,QAAzC,yBAIA,UAAC,GAAD,CAAW3L,OAAQuK,UAIvB,kBAAK5pB,UAAWoqB,EAAhB,WACE,UAACtB,GAAD,CAAiB9oB,UAAWuqB,EAAYltB,IAAI,CAAEmb,MAAM,OAEpD,UAACwQ,GAAD,CAAkBhpB,UAAWuqB,EAAYltB,IAAI,CAAE4tB,OAAO,UAGxD,UAAC,WAAD,CAAkBlzB,IAAK2xB,EAAYpnB,MAAM,QAAQkD,SAC/C,WAAC,GAAD,YACE,UAAC,QAAD,CACEnE,MAAM,UAAC,GAAD,IACNyb,OAAOoO,EAAAA,GAAAA,GAAE,sBACT3pB,KAAK,gBACL,sBAGF,UAAC,QAAD,CACEF,MAAM,UAAC,EAAD,IACNyb,OAAOoO,EAAAA,GAAAA,GAAE,WACT3pB,KAAMlG,GAAY,WAClB,wBAbN,UAiBE,iBAAK2E,UAAWmqB,EAAazvB,KAAK,QAAlC,UACE,UAAC,GAAD,CAASuK,KAAMV,EAAOU,eAM9B,UAAC8iB,GAAD,WACE,kBAAK/nB,UAAWsqB,EAAa5vB,KAAK,QAAlC,UACGkhB,IACC,UAAC,GAAD,CACE7jB,IAAK0xB,EACL1N,SAAU2O,EACV1O,oBAAqB,IAAM5X,OAAO+mB,cAAc,IAAIC,MAAM,WAC1D3jB,QAASmiB,EACT5pB,UAAW,CAACqqB,EAAcA,EAAahtB,IAAI,CAAEguB,UAAWvB,KAAkBnuB,KAAK,KAC/EM,MAAO,CAAEvE,MAAO,KANlB,UAQE,WAAC,GAAD,YACE,UAAC,QAAD,CACEolB,OAAOoO,EAAAA,GAAAA,GAAE,YACTnO,GAAG,YACH1b,MAAM,UAAC,EAAD,IACN,mBACA2b,OAAK,KAEP,UAAC,QAAD,CACEF,OAAOoO,EAAAA,GAAAA,GAAE,gBACTnO,GAAG,gBACH1b,MAAM,UAAC,GAAD,IACN,mBACA2b,OAAK,KAGP,UAAC,UAAD,KAEA,UAAC,WAAD,KAEA,UAAC,QAAD,CACE3b,MAAM,UAAC,GAAD,IACNrB,UAAWqqB,EAAa3vB,KAAK,OAC7BwJ,QAASsmB,EACTtN,OAAQ4M,EAJV,SAMGA,EAAiB,aAAe,mBAOzC,UAACjB,GAAe3oB,SAAhB,CAAyBrF,MAAO8vB,EAAhC,UACE,iBAAK3qB,UAAWsqB,EAAa5vB,KAAK,WAAW2C,IAAI,CAAEiuB,YAAaxB,GAAiBF,IAAjF,SACG5oB,eC7MFuqB,GAAc,EAAEvqB,WAAU6a,OAAMvgB,OAAMqiB,gBACjD,MAAM9d,EAAY5C,GAAG,gBAErB,OACE,kBAAK+C,UAAWH,EAAhB,UAEI8d,GAAaA,EAAU5mB,OAAS,GAC7B,iBAAKiJ,UAAWH,EAAUnF,KAAK,cAA/B,UACC,UAAC,GAAD,UACGijB,EAAYnB,GAAAA,QAAalhB,EAAMqiB,GAAa9B,MAIjD,MAEJ,iBAAK7b,UAAWH,EAAUnF,KAAK,WAA/B,SACGsG,QCjBIwqB,GAAU,EAAGxrB,YAAW/D,QAAOkF,OAAO,GAAIsqB,WAAU,MAC/D,MAAM5rB,EAAY5C,GAAG,WAEfyuB,EAA+B,iBAATvqB,EAAqB,GAAEA,MAAWA,EAE9D,OACE,iBAAKnB,UAAWH,EAAUzC,IAAI4C,GAAY/D,MAAO,IAAKA,QAAAA,EAAS,GAAK,iBAAkByvB,GAAtF,UACE,kBAAK1rB,UAAWH,EAAUnF,KAAK,QAAQ2C,IAAI,CAACouB,YAA5C,WACE,sBACA,sBACA,sBACA,2BCXKE,GAAc,EAAG3rB,YAAW/D,QAAO2vB,MAAKC,QAAO3O,SAAQ4O,eAQlE,MAAMjsB,EAAY5C,GAAG,gBAErB,OACE,gBAAI+C,UAAWH,EAAUxC,IAAI,CAAEuuB,QAAOxuB,IAAI4C,GAAW7E,WAAYc,MAAOA,EAAxE,SACGxF,OAAOs1B,KAAKF,GAAOhtB,KAAIrE,IACtB,gBAEEwF,UAAWH,EAAUnF,KAAK,QAAQ2C,IAAI,CAAE6f,OAAQ1iB,IAAS0iB,IAAU/hB,WACnE+I,QAAS,IAAM4nB,EAAStxB,GAH1B,SAIEqxB,EAAMrxB,IAHDA,QChBFwxB,GAAkB,CAC7BnxB,EACAoxB,KAEA,MAAMC,GAAehpB,EAAAA,EAAAA,UAAQ,KAAM,MACjC,eAAQ,EAAArI,QAAAA,EAASoxB,SAAjB,QAAiC,KAChC,CAACpxB,EAAOoxB,KAEJE,EAAYC,IAAY/oB,EAAAA,EAAAA,UAAY6oB,GAM3C,OAJA5mB,EAAAA,EAAAA,YAAU,KACR8mB,EAASF,KACR,CAACA,IAEG,CACLC,EACAC,I,eChBG,MAAMC,GAAQ,EAAExxB,QAAOmG,WAAUhB,gBACtC,MAAMssB,GAAgBppB,EAAAA,EAAAA,UAAQ,IACxB3E,MAAMC,QAAQwC,GACTA,EAASurB,MAAKC,GAAKA,EAAEh1B,MAAMi1B,OAAS5xB,KAAU,KAC5CmG,EAASxJ,MAAMi1B,OAAS5xB,EAC1BmG,OADF,GAGN,CAACA,EAAUnG,IAEd,OAAOyxB,EAAgBvrB,EAAAA,aAAmBurB,EAAe,IACpDA,EAAc90B,MACjBwI,UAAW,CAACA,EAAWssB,EAAc90B,MAAMwI,WAAWrE,KAAK,OACxD,MCVM+wB,GAAW,CAACC,EAAW9xB,KAClC,IAAKD,GAAUC,IAAUC,GAAcD,GACrC,MAAQ,GAAE8xB,iBAIDC,GAAgBC,GAAY,CAACF,EAAW9xB,KAGnD,GAFAgyB,EAA8B,iBAAZA,EAAwB,IAAI5tB,OAAO4tB,GAAWA,GAE3D/xB,GAAcD,IAAmC,OAAzBA,EAAMU,MAAMsxB,GACvC,MAAQ,GAAEF,4BAAoCE,KAIrCvY,GAAO,CAACqY,EAAW9xB,KAC9B,MAAMoJ,EAAO,GAAE0oB,8BAEf,GAAK/xB,GAAUC,IAAkC,IAAxBA,EAAME,OAAOhE,OAAtC,CAEA,IAA+B,IAA3B,WAAWmI,KAAKrE,KAA+C,IAA3B,WAAWqE,KAAKrE,GACtD,OAAOoJ,EAGT,IACE4N,KAAKC,MAAMjX,GACX,MAAOkM,GACP,OAAO9C,KAIE6oB,GAAS,CAACH,EAAW9xB,KAChC,IACE,IAAIoE,OAAOpE,GACX,MAAOoJ,GACP,MAAQ,GAAE0oB,yCCjCDI,IAAYrtB,EAAAA,EAAAA,aAAW,EAClCod,QACAtf,OACAwD,WACA0rB,WACAM,WACAC,OACAC,aACAC,eACAf,WACAgB,aACAC,gBACG71B,GACFO,KAAQ,MAET,MAAMyH,GAAUc,EAAAA,EAAAA,YAAWG,KACpB6sB,EAAiBC,IAAsBlqB,EAAAA,EAAAA,UAAS,MAEjDS,EAAQ/L,QAAAA,GAAOshB,EAAAA,EAAAA,UAEfzW,EAAa,IACboqB,QAAAA,EAAY,IAGlBK,SAAA,UAAAA,EAAY1nB,eAAZ,cAAA0nB,GAAsBG,IACpB,MAAOhwB,EAAM3C,GAAS2yB,EAAUxuB,MAAM,SAASgU,MAAM,EAAG,GAClDya,EAAgBC,EAAWlwB,GAE7B5C,GAAU6yB,KACR7yB,GAAUC,GACZ+H,EAAWjI,KAAK8yB,EAAc5yB,IAE9B+H,EAAWjI,KAAK8yB,OAKlBf,GAAU9pB,EAAWjI,KAAK+yB,KAE9BpoB,EAAAA,EAAAA,YAAU,KACR,IAAK9F,IAAY4tB,EAAY,OAE7B,IAAItpB,EAAQ,KACZ,MAAM6pB,EAAMnuB,EAAQouB,gBAAgBR,GAE9BS,EAAU,KAAM,MACpB,UAAAr2B,EAAMs2B,2BAAN,cAAAt2B,EAA4Bm2B,EAAI7pB,QAWlC,OARI6pB,GACFA,EAAI7pB,MAAM4C,iBAAiB,SAAUmnB,GACrC/pB,EAAQ6pB,EAAI7pB,OAEZiQ,QAAQga,KAAM,8BAA6BX,KAG7CG,EAAmBzpB,GACZ,IAAM6pB,EAAI7pB,MAAM0C,oBAAoB,SAAUqnB,KACpD,CAACruB,EAASsE,EAAOspB,IAEpB,MAAMY,GAAmBzqB,EAAAA,EAAAA,cAAa1I,IACpC,IAAKiJ,IAAUA,EAAMmD,QAAS,OAG9B,MAAMnL,EAAQgI,EAAMmD,QAEhBmlB,aAAoB3iB,SACtB2iB,EAASvxB,GACe,aAAfiB,EAAMmF,MAAsC,UAAfnF,EAAMmF,KAC5CnF,EAAMmyB,QAAUpzB,QAAAA,EAASiB,EAAMmyB,QAE/BnyB,EAAMjB,MADa,OAAVA,EACK,GAEAA,EAGhB,MAAMqzB,EAAMnyB,SAASoyB,YAAY,cAEjCD,EAAIE,UAAU,UAAU,GAAO,GAC/BtyB,EAAMqvB,cAAc+C,KACnB,CAACpqB,IAmBJ,OAjBAwB,EAAAA,EAAAA,YAAU,KACR,MAAM+oB,EAAclB,IAAiBD,GAAqC,aAAvBppB,EAAMmD,QAAQhG,KAajE,OAXAzB,SAAAA,EAAS8uB,cAAc,CACrBxR,QACAtf,OACAoF,aACAqqB,OACAC,aACAC,eACAkB,cACAvqB,MAAOA,EAAMmD,QACbmlB,SAAU4B,IAEL,IAAMxuB,aAAN,EAAMA,EAAS+uB,gBAAgB/wB,KACrC,CAACsG,EAAOkqB,IAEJhtB,EAAS8C,EAAOwpB,EAAiB9tB,MCpE1C,GAhCc,EAAE3D,OAAMmF,WAAU0rB,WAAU8B,YAAWC,cAAattB,OAAMutB,QAAOzyB,QAAOiO,SAAQykB,WAC5F,MAAM9uB,EAAY5C,GAAG,SACfkgB,EAAY,CAACtd,GACbulB,EAAUlb,EAAS,MAAQ,QAC3B1I,EAAO,CACXL,OACAutB,QACAC,OACAH,YACAI,kBAAmBH,EACnBI,OAAQ7tB,GAKV,OAFAmc,EAAUxiB,KAAKkF,EAAUxC,IAAImE,KAEtBxF,EAAAA,EAAAA,eAAcopB,EAAS,CAC5B,UAAajI,EAAUxhB,KAAK,KAC5B,gBAAiB+wB,EACjB,MAASzwB,IAET,mCACE,iBAAK+D,UAAWH,EAAUnF,KAAK,QAA/B,UACE,kBAAKsF,UAAWH,EAAUnF,KAAK,WAA/B,UACGmB,EACA4yB,IAAe,iBAAKzuB,UAAWH,EAAUnF,KAAK,eAA/B,SAAgD+zB,UAGpE,iBAAKzuB,UAAWH,EAAUnF,KAAK,SAA/B,SAA0CsG,SCvB1C8tB,GAAc,CAClB,UACA,YACA,YACA,SACA,SAGIC,GAAiBhuB,EAAAA,cAAoB,MA6IrCiuB,GAAgB,EAAE/tB,WACtB,MAAM,aAACguB,EAAD,IAAevyB,EAAf,IAAoBC,EAApB,SAAyBiF,EAAzB,IAAmC7J,EAAnC,eAAwCm3B,GAAkBnuB,EAAAA,WAAiBguB,IAE3EI,EAAwB,aAATluB,EAAsBtE,EAAMD,EAEjD,OACE,UAAC,GAAD,CACEiD,IAAI,IACJ4B,KAAK,IACL/D,KAAK,MACLH,IAAK,CACH4D,OACAW,SAAUqtB,IAAiBE,GAAgBvtB,GAE7CsC,QAASgrB,EAAejuB,EAAMlJ,GAC9Bq3B,mBAAoBroB,GAAKA,EAAEY,iBAT7B,UAWE,WAAC0kB,GAAD,CAAOxxB,MAAOoG,EAAd,WACE,UAAC,OAAD,CAASwrB,KAAK,cACd,UAAC,OAAD,CAAQA,KAAK,mBAMrB,GApKgB,EAAE3P,QAAO9c,YAAWgtB,WAAUN,WAAUO,OAAMoC,gBAAe73B,MAAW,cAEtF,MAAOkF,EAAKC,GAAO,WAACnF,EAAMkF,WAAP,SAAe4yB,IAAf,UAAyB93B,EAAMmF,WAA/B,QAAsC2yB,KAEnDC,EAAkB10B,GAAU+B,KAAKD,IAAID,EAAKE,KAAKF,IAAIC,EAAK9B,KAEvDo0B,EAAcO,GAAmBzuB,EAAAA,SAAewuB,EAAc,UAAC/3B,EAAMqD,aAAP,QAAgB,KAC9E40B,EAASC,GAAc3uB,EAAAA,SAAA,UAAevJ,EAAMm4B,iBAArB,WACvB/tB,EAAUguB,GAAe7uB,EAAAA,SAAA,UAAevJ,EAAMoK,gBAArB,QAAiC,MAE3DiuB,EAAeh1B,IACnB20B,EAAgBD,EAAeO,OAAOj1B,MAGlCk1B,EAAWhvB,EAAAA,aAAkB,KAAM,MACvC8uB,GAAaZ,QAAAA,EAAgB,IAAjB,UAAuBz3B,EAAMw4B,YAA7B,QAAqC,MAChD,CAACf,EAAcz3B,EAAMw4B,OAElBC,EAAWlvB,EAAAA,aAAkB,KAAM,MACvC8uB,GAAaZ,QAAAA,EAAgB,IAAjB,UAAuBz3B,EAAMw4B,YAA7B,QAAqC,MAChD,CAACf,EAAcz3B,EAAMw4B,OAGlBE,EAAkBnpB,IACtB,MAAMopB,EAAarB,GAAYvC,MAAK6D,GAAMA,aAAanxB,OAAUmxB,EAAElxB,KAAK6H,EAAE9P,KAAOm5B,IAAMrpB,EAAE9P,MAEpFk5B,GAAeppB,EAAEsd,SAAStd,EAAEY,iBAEd,YAAfwoB,GACFJ,IACAhpB,EAAEY,kBACsB,cAAfwoB,IACTF,IACAlpB,EAAEY,mBAMA0oB,EAAkBtpB,IACtB,MAAMvB,EAAUuB,EAAEupB,YAAYC,cAAcC,QAAQ,QAChC,WAAWtxB,KAAKsG,IAElBuB,EAAEY,kBAIhB8oB,EAAmB1pB,IAAM,MACzBA,EAAEnQ,OAAOiE,MACX20B,EAAgBD,EAAeO,OAAO/oB,EAAEnQ,OAAOiE,SAE/C20B,EAAgB,IAElB,UAAAh4B,EAAMk5B,gBAAN,cAAAl5B,EAAiBuP,IAGb4pB,EAAkB5pB,IAAM,MAC5B2oB,GAAW,GACX,UAAAl4B,EAAMo5B,eAAN,cAAAp5B,EAAgBuP,IAGZ8pB,EAAiB9pB,IAAM,MAC3B2oB,GAAW,GACX,UAAAl4B,EAAMs5B,cAAN,cAAAt5B,EAAeuP,IAGXmoB,EAAiB,CAACjuB,EAAMnF,IAAWiL,IAAM,MAO7C,OANAA,EAAEY,iBACFZ,EAAEW,kBACF,UAAA3L,SAASg1B,qBAAT,SAAwBC,OACxBtB,IACA5zB,EAAMmL,QAAQ5K,QACd40B,eAAeC,kBACF,aAATjwB,EAA4B8uB,IACd,aAAT9uB,EAA4BgvB,SAAhC,GAGDnsB,GACJ,UAACipB,GAAD,CACEjQ,MAAOA,EACPtf,KAAMhG,EAAMgG,KACZwvB,SAAUA,EACVN,SAAUA,EACVN,SAAUyD,EACV5C,KAAMA,EACNa,oBAAsBqD,IACL,aAAXA,EAAElwB,MAAqB2uB,GAAauB,EAAElD,aAExCz2B,EAVN,SAWE,CAACO,EAAK41B,KACJ,MAAMyD,EAA6B,cAAdzD,aAAA,EAAAA,EAAK1sB,QAAwC,KAAjB0sB,aAAA,EAAAA,EAAKM,WAAsB,EACtEoD,EAAgBzvB,QAAAA,EAAYwvB,EAC5BzsB,EAAe,CACnBsqB,eACAvyB,MACAC,MACAiF,SAAUyvB,EACVt5B,MACAm3B,kBAGF,OACE,UAACH,GAAe7uB,SAAhB,CAAyBrF,MAAO8J,EAAhC,UACE,WAAC,GAAD,CAAOnH,KAAK,UAAUH,IAAK,CAACoyB,UAAS7tB,SAAUyvB,GAAgBj0B,IAAK4C,EAApE,WACE,UAACgvB,GAAD,CAAe/tB,KAAK,cAEpB,UAAC,GAAD,CACElJ,IAAKA,EACL4H,IAAI,QACJnC,KAAK,QACLyD,KAAK,OACLW,SAAUyvB,EACVx2B,MAAOo0B,EACPqC,UAAWpB,EACXqB,QAASlB,EACTK,SAAUD,EACVG,QAASD,EACTG,OAAQD,KAGV,UAAC7B,GAAD,CAAe/tB,KAAK,qBAOhC,OAAQ6b,GACN,UAAC,GAAD,IACOuS,QAAAA,EAAc,GACnBxzB,KAAMihB,EACN4P,SAAUA,EACV1rB,SAAU8C,IAEVA,GC1HN,GAxBc,EAAEgZ,QAAO9c,YAAWgtB,WAAUN,WAAUO,OAAMoC,aAAYmC,WAAUh6B,MAChF,MAAM2lB,EAAY,CAChBlgB,GAAG,SAASI,IAAI,CAACm0B,UACjBxxB,GACArE,KAAK,KAAKZ,OAENe,GACJ,UAACixB,GAAD,CACEjQ,MAAOA,EACPtf,KAAMhG,EAAMgG,KACZwvB,SAAUA,EACVN,SAAUA,EACVO,KAAMA,KACFz1B,EANN,SAQGO,IACC,sBAAWP,EAAOO,IAAKA,EAAKiI,UAAWmd,MAK7C,OAAOL,GAAQ,UAAC,GAAD,IAAYuS,QAAAA,EAAc,GAAKxzB,KAAMihB,EAAO4P,SAAUA,EAAtD,SAAiE5wB,IAAiBA,GCuCnG,GA5De,EAAGghB,QAAO9c,YAAW7C,UAAS6vB,WAAUN,WAAUO,OAAMoC,aAAYmC,WAAUh6B,MAC3F,MAAMqI,EAAY5C,GAAG,UACfivB,GAAehpB,EAAAA,EAAAA,UAAQ,4BAAM1L,EAAMqD,aAAZ,QAAqB,KAAI,CAACrD,EAAMqD,SACtDA,EAAOuxB,IAAY/oB,EAAAA,EAAAA,UAAS6oB,GAE7B/O,EAAYtd,EAAUxC,IAAI,CAAEm0B,UAASp0B,IAAI4C,IAE/CsF,EAAAA,EAAAA,YAAU,KACR8mB,EAASF,KACR,CAACA,IAEJ,MAAMuF,GACJ,UAAC1E,GAAD,CACEvvB,KAAMhG,EAAMgG,KACZsf,MAAOA,EACPkQ,SAAUA,EACVN,SAAUA,EACVO,KAAMA,EACNb,SAAUsF,GAAOtF,EAASsF,MACtBl6B,EAPN,SASGO,IAEG,iBAAKiI,UAAWmd,EAAhB,UACE,wBACM3lB,EACJqD,MAAOA,EACP61B,SAAW3pB,IAAM,MACfqlB,EAASrlB,EAAEnQ,OAAOiE,OAAlB,UACArD,EAAMk5B,gBADN,OACA,OAAAl5B,EAAiBuP,IAEnBhP,IAAKA,EACLiI,UAAWH,EAAUnF,KAAK,QAR5B,UAUGlD,EAAMm6B,eAAiBn6B,EAAMo6B,cAAgBp6B,EAAMqD,SAClD,oBAAQA,MAAM,GAAG+G,UAAQ,EAACiwB,QAAM,EAAhC,SAAkCr6B,EAAMm6B,eAGxCx0B,QAAAA,EAAW,IAAI0B,KAAIizB,IAAU,YAC7B,MAAMj3B,EAAK,UAAGi3B,EAAOj3B,aAAV,QAAmBi3B,EACxBhV,EAAK,UAAGgV,EAAOhV,aAAV,QAAmBjiB,EACxB+G,EAAQ,UAAGkwB,EAAOlwB,gBAAV,SACRiwB,EAAM,UAAGC,EAAOD,cAAV,SAEZ,OACE,oBAAoBh3B,MAAOA,EAAO+G,SAAUA,EAAUiwB,OAAQA,EAA9D,SACG/U,GADUjiB,aAY7B,OAAOiiB,GAAQ,UAAC,GAAD,IAAYuS,QAAAA,EAAc,GAAKxzB,KAAMihB,EAAO4P,SAAUA,EAAtD,SAAiE+E,IAAyBA,GClC3G,GAxBiB,EAAE3U,QAAO9c,YAAWgtB,WAAUN,WAAUO,OAAMoC,gBAAe73B,MAC5E,MAAM2lB,EAAY,CAChBlgB,GAAG,YACH+C,GACArE,KAAK,KAAKZ,OAENe,GACJ,UAACixB,GAAD,CACEjQ,MAAOA,EACPtf,KAAMhG,EAAMgG,KACZwvB,SAAUA,EACVN,SAAUA,EACVO,KAAMA,KACFz1B,EANN,SAQGO,IACC,yBAAcP,EAAOO,IAAKA,EAAKiI,UAAWmd,MAKhD,OAAOL,GAAQ,UAAC,GAAD,IAAYuS,QAAAA,EAAc,GAAKxzB,KAAMihB,EAAO4P,SAAUA,EAAtD,SAAiE5wB,IAAiBA,GCyCnG,IA5De4D,EAAAA,EAAAA,aAAW,EAAGM,YAAW8c,QAAOuS,aAAYZ,cAAaR,UAAS8D,iBAAgBrB,WAAU1D,WAAUN,WAAUO,UAASz1B,GAASO,KAC/I,MAAM8H,EAAY5C,GAAG,UACf+0B,GAAiB9uB,EAAAA,EAAAA,UAAQ,4BAAM6uB,QAAAA,EAAkB9D,SAAxB,WAA0C,CAAC8D,EAAgB9D,KACnFgE,EAAWC,GAAgBlG,GAAgBiC,EAAS8D,SAAAA,GAErD5U,EAAY,CAACtd,GACb2B,EAAO,IAEb8D,EAAAA,EAAAA,YAAU,KACR4sB,EAAaF,KACZ,CAACA,IAEAC,IAAWzwB,EAAKysB,QAAUgE,GAC9BzwB,EAAKI,SAAWpK,EAAMoK,SAEtBub,EAAUxiB,KAAKkF,EAAUxC,IAAImE,GAAOxB,GAEpC,MAAMmyB,GACJ,UAACpF,GAAD,CACEh1B,IAAK+kB,EAAQ,KAAO/kB,EACpB+kB,MAAOA,EACPtf,KAAMhG,EAAMgG,KACZwvB,SAAUA,EACVN,SAAUA,EACVO,KAAMA,EACNb,SAAUvxB,GAASq3B,EAAar3B,MAC5BrD,EARN,SAUGO,IACC,kBAAKiI,UAAWmd,EAAUxhB,KAAK,KAA/B,WACE,mBACE5D,IAAKA,KACDP,EACJwI,UAAWH,EAAUnF,KAAK,SAC1BuG,KAAK,WACLgtB,QAASgE,EACTvB,SAAW3pB,IACTmrB,EAAanrB,EAAEnQ,OAAOq3B,SACtByC,SAAAA,EAAW3pB,OAGf,kBAAM/G,UAAWH,EAAUnF,KAAK,oBAMxC,OAAOoiB,GACL,UAAC,GAAD,CACE/kB,IAAKA,EACLy2B,UAAU,QACV9B,SAAUA,EACV7wB,KAAMihB,EACN9b,SAAUmxB,EACV1D,YAAaA,KACRY,QAAAA,EAAc,KAEnB8C,KCFC,MAAMC,GAAoC,CAACC,EAAQC,KACxD,MAAMC,EAbD,WACL,MAAMC,GAAUnZ,EAAAA,EAAAA,SAAO,GAEvB,OAAImZ,EAAQvrB,SACVurB,EAAQvrB,SAAU,GAEX,GAGFurB,EAAQvrB,QAIMwrB,IAErBntB,EAAAA,EAAAA,YAAU,KACR,IAAKitB,EACH,OAAOF,MAERC,ICnBQI,IAAkChzB,EAAAA,EAAAA,aAAW,EACxDizB,cAAa,EACbC,eAAc,EACdhxB,YAAW,EACXT,OAAO,SACP0xB,kBAAkB,MACfr7B,GACFO,KAAQ,QACT,MAAO+6B,EAAWC,IAAgB1vB,EAAAA,EAAAA,WAAS,IACpC2vB,EAAaC,GAAkBjH,GAAgBx0B,EAAM07B,OACrD9xB,EAAS+xB,GAAcnH,GAAgBx0B,EAAM4J,UAC7CgyB,EAAUC,GAAerH,GAC9Bx0B,EAAM47B,SADuC,oBAzBtB51B,KACzB,MAAM3C,EAAQy4B,aAAaC,QAAS,SAAQ/1B,KAE5C,GAAI5C,GAAUC,GACZ,OAAO24B,SAAS34B,IAuBhB44B,CAAkBj8B,EAAMgG,aAFqB,QAEZq1B,aAFY,EAEZA,EAAkB,UAFN,QAEY,IAGrDa,GAAaxwB,EAAAA,EAAAA,UAAQ,KAAM,MAC/B,iBAAO1L,EAAMk8B,kBAAb,QAA2B92B,KAAK+2B,KAAKn8B,EAAMo8B,WAAaR,KACvD,CAACA,EAAU57B,EAAMo8B,WAAYp8B,EAAMk8B,aAEhCG,GAAe3wB,EAAAA,EAAAA,UAAQ,KAC3B,MAAM,WAAE0wB,GAAep8B,EACjBs8B,EAASV,EAAWJ,EAAcI,EAAY,EAC9CW,EAAMD,EAAQV,EAAW,EAE/B,MAAO,CACLU,MAAOr3B,GAAMq3B,EAAO,EAAGF,GACvBG,IAAKt3B,GAAMs3B,EAAK,EAAGH,MAEpB,CAACZ,EAAaU,EAAYN,EAAU57B,EAAMo8B,aAEvCI,GAAiBzwB,EAAAA,EAAAA,cAAY8C,MAAO4tB,EAAoBb,KACxD57B,EAAM08B,aACRf,GAAW,SACL37B,EAAM08B,WAAWD,EAAYb,GACnCD,GAAW,MAEZ,CAAC37B,EAAM08B,aAEJC,GAAiB5wB,EAAAA,EAAAA,cAAY,CAAC1I,EAAeu5B,GAAQ,KACzD,MAAMH,EAAax3B,GAAM5B,EAAO,EAAG64B,GAE/BO,IAAejB,IAAyB,IAAVoB,IAChCnB,EAAegB,GACfI,EAAUJ,MAEX,CAACP,EAAYV,EAAaI,EAAUY,IAEjCK,GAAY9wB,EAAAA,EAAAA,cAAY,CAAC2vB,EAAc/1B,EAEzC,MACF,IAAK3F,EAAM88B,aAAc,OAEzB,MAAMxkB,EAAY,IAAIykB,gBAAgBxlB,SAASC,QAE/Cc,EAAUqD,IAAI3b,EAAM88B,aAAcpB,EAAK/3B,YAEvC,MAAMq5B,EAAqC,CACzC,CAAEtB,QACF,GACC,GAAEnkB,SAASG,YAAYY,EAAU3U,cAGhCgC,EAAQzB,QACVkoB,QAAQ6Q,gBAAgBD,GAExB5Q,QAAQ8Q,aAAaF,KAEtB,CAACh9B,EAAM88B,eAEJK,EAA4B5tB,IAChC,MAAMuD,EAASkpB,SAAUzsB,EAAEnQ,OAA4BiE,OAEvDs5B,EAAe7pB,GACfyoB,GAAa,IAyCf,OAtCAztB,EAAAA,EAAAA,YAAU,KAAM,MACd,UAAA9N,EAAMo9B,cAAN,cAAAp9B,EAAew7B,EAAaI,GAC5BiB,EAAUrB,EAAa,CAAEt3B,SAAS,MACjC,IAEH02B,IAAgB,KAGP,MAFHY,EAAcU,EAChBS,EAAe,GAAG,IAElB,UAAA38B,EAAMk5B,gBAAN,cAAAl5B,EAAiBw7B,EAAaI,GAE9BY,EAAehB,EAAaI,MAE7B,CAACA,EAAUM,IAEdtB,IAAgB,KAAM,MACpB,UAAA56B,EAAMk5B,gBAAN,cAAAl5B,EAAiBw7B,EAAaI,GAE9BY,EAAehB,EAAaI,KAC3B,CAACJ,KAEJ1tB,EAAAA,EAAAA,YAAU,KACR,MAAMuvB,EAAkB,KAAM,MAC5B,IAAKr9B,EAAM88B,aAAc,OAEzB,MAAMxkB,EAAY,IAAIykB,gBAAgBxlB,SAASC,QACzC8lB,EAAoBtB,SAAQ,UAAC1jB,EAAUiB,IAAIvZ,EAAM88B,qBAArB,QAAsC,IAEnES,MAAMD,IAAsBA,IAAsB9B,GACrDC,EAAe6B,IAMnB,OAFA1wB,OAAOsC,iBAAiB,WAAYmuB,GAE7B,IAAMzwB,OAAOoC,oBAAoB,WAAYquB,KACnD,CAACr9B,EAAM88B,eAEFZ,EAAa,GACnB,WAAC,GAAD,CAAOl2B,KAAK,aAAaH,IAAK,CAAEuE,WAAUT,OAAMC,WAAWnF,MAAOzE,EAAMyE,MAAxE,UACIzE,EAAMslB,OAASliB,GAAUw4B,KACzB,WAAC,GAAD,CAAM51B,KAAK,QAAX,UACGhG,EAAMslB,MADT,KACkB+W,EAAaC,MAD/B,IACuCD,EAAaE,QAGtD,WAAC,GAAD,CAAMv2B,KAAK,aAAX,UACGo1B,IACC,mCACE,UAACoC,GAAD,CACE33B,IAAK,CAAC,aAAc,qBACpB6G,QAAS,IAAMiwB,EAAe,GAC9BvyB,SAA0B,IAAhBoxB,KAEZ,UAAC,GAAD,CAAMx1B,KAAK,gBAGf,UAACw3B,GAAD,CACE33B,IAAK,CAAC,cACN6G,QAAS,IAAMiwB,EAAenB,EAAc,GAC5CpxB,SAA0B,IAAhBoxB,KAEZ,UAAC,GAAD,CAAMx1B,KAAK,QAAX,SACGs1B,GACC,mBACE7xB,KAAK,OACL6J,WAAS,EACTmhB,aAAc+G,EACdnG,QAAQ,QACRyE,UAAYvqB,IACK,WAAXA,EAAEkuB,KACJlC,GAAa,GACO,UAAXhsB,EAAEkuB,KACXN,EAAyB5tB,GACU,OAA1BA,EAAEkuB,KAAK15B,MAAM,UA5KjBwL,IAES,OAA3BA,EAAEkuB,KAAK15B,MAAM,WACbwL,EAAEmuB,UAAuC,OAA3BnuB,EAAEkuB,KAAK15B,MAAM,WAC3BwL,EAAEsd,SAAWtd,EAAEud,SAAsB,cAAXvd,EAAEkuB,KAwK6BE,CAAcpuB,KAC1DA,EAAEY,iBACFZ,EAAEW,oBAGNopB,OAAS/pB,IACP4tB,EAAyB5tB,OAI7B,WAAC,GAAD,CACEvJ,KAAK,iBACL0G,QAAS,KACHyuB,GAAYI,GAAa,IAHjC,UAMGC,EAAa,KAAI,mCAAUU,MAC5B,iBAAKxvB,QAAS,eAIpB,UAAC8wB,GAAD,CACE33B,IAAK,CAAC,eACN6G,QAAS,IAAMiwB,EAAenB,EAAc,GAC5CpxB,SAAUoxB,IAAgBU,IAE3Bd,IACC,mCACE,UAAC,GAAD,CAAMp1B,KAAK,aACX,UAACw3B,GAAD,CACE33B,IAAK,CAAC,cAAe,sBACrB6G,QAAS,IAAMiwB,EAAeT,GAC9B9xB,SAAUoxB,IAAgBU,WAMjCb,aAAA,EAAAA,EAAiB97B,QAAS,IACzB,UAAC,GAAD,CAAMyG,KAAK,YAAX,UACE,UAAC,GAAD,CACE3C,MAAOu4B,EACPj2B,QAAS01B,EAAgBh0B,KAAIu2B,IAAK,CAAGtY,MAAQ,GAAEsY,KAAKhxB,OAAO8mB,EAAE,cAAerwB,MAAOu6B,MACnF1E,SAAW3pB,IACT,MAAMsuB,EAAc7B,SAASzsB,EAAEnQ,OAAOiE,OAEtCw4B,EAAYgC,GAER79B,EAAMgG,MA1ME,EAACA,EAAc41B,KACvCE,aAAagC,QAAS,SAAQ93B,IAAQ41B,EAASj4B,aA0MjCo6B,CAAkB/9B,EAAMgG,KAAM63B,WAOxC,QAGAL,GAIAx9B,IACJ,MAAM6F,EAAM5G,OAAO2E,YAAY5D,EAAM6F,IAAIwB,KAAID,GAAK,CAACA,GAAG,MAItD,OAFAvB,EAAIuE,UAA8B,IAAnBpK,EAAMoK,UAGnB,UAAC,GAAD,CAAMpE,KAAK,MAAMH,IAAKA,EAAK6G,QAAS1M,EAAM0M,W,gJC9P9C,MAAMsxB,GAA2B,6BAElB,MAAMC,WAAa10B,EAAAA,UAAgB,8CACxC,CACN6B,WAAY,KACZ8yB,gBAAgB,EAChBC,YAAY,IAJkC,sBAQlC50B,EAAAA,aARkC,iBAUvCA,EAAAA,aAVuC,iBAavC,IAAIyV,KAbmC,qBAenC,IAAInH,KAf+B,2BAuG9BhJ,UAChBU,EAAEY,iBAEFrQ,KAAKs+B,iBAEAt+B,KAAKsL,WAAWzB,KAInB7J,KAAKkR,SAAS,CAAEwnB,KAAM,aAHtB14B,KAAKkR,SAAS,CAAEwnB,KAAM,eACtB14B,KAAKu+B,aA9GuC,yBAoHhC,KACdv+B,KAAKs+B,iBAEAt+B,KAAKsL,WAAWzB,MACnB7J,KAAKu+B,YAxHuC,uBA4HjCv+B,KAAKE,MAAMs+B,SCnIrB,SAAkBC,EAAMC,EAAMC,GACnC,IAAIC,EAEJ,OAAO,YAAY7gB,GACjB,MAOM8gB,EAAUF,IAAcC,EAC9BE,aAAaF,GACbA,EAAU1yB,YATI,KACZ0yB,EAAU,KACLD,GACHF,EAAK1+B,MAAMC,KAAM+d,KAMO2gB,GAExBG,GAASJ,EAAK1+B,MAAMC,KAAM+d,IDoHKygB,CAASx+B,KAAK++B,cAAe/+B,KAAKE,MAAMs+B,UAAYx+B,KAAK++B,eA5H9C,yBA8HhChwB,UAAa,QAC3BU,EAAEW,kBAEF,aAAApQ,KAAKE,OAAMk5B,gBAAX,gBAAsB3pB,GAEtBzP,KAAKg/B,gBAlHHvxB,UAAQ,OAAOzN,KAAKi/B,OAAOtvB,QAE/Ba,oBACMxQ,KAAKE,MAAM8b,UACb9P,YAAW,KACTlM,KAAKk/B,iBACJ,IAIPruB,mBAAmBC,GAAW,SACdquB,EAAAA,GAAAA,GAAmB,UAACruB,EAAUkL,gBAAX,QAAuB,GAAvB,UAA2Bhc,KAAKE,MAAM8b,gBAAtC,QAAkD,KAGjFhc,KAAKk/B,eAIT5tB,SACE,MAAMnD,EAAY,EAChB,UAAChF,GAAYP,SAAb,CAAqCrF,MAAOvD,MAAlB,aAC1B,UAACoJ,GAAsBR,SAAvB,CAA0DrF,MAAOvD,KAAKkQ,MAAM5E,YAAxC,wBACpC,UAACjC,GAAsBT,SAAvB,CAA0DrF,MAAOvD,KAAKkQ,MAAMmuB,YAAxC,wBACpC,UAAC/0B,GAAiBV,SAAlB,CAAgDrF,MAAOvD,KAAKkQ,MAAMA,OAAnC,mBAC/B,UAAC3G,GAAoBX,SAArB,CAAkDrF,MAAOvD,KAAKkQ,MAAMkvB,cAAlC,kBAClC,UAACvsB,GAAD,CAA4BpS,IAAKT,KAAKi/B,QAArB,aAGnB,OACE,UAAChxB,GAAD,CAAeE,UAAWA,EAA1B,UACE,mBACE1N,IAAKT,KAAKq/B,YACV32B,UAAW/C,GAAG,QACdirB,OAAQ5wB,KAAKE,MAAM0wB,OACnB0O,SAAUt/B,KAAKu/B,gBACfnG,SAAUp5B,KAAKw/B,cACfC,aAAcz/B,KAAKE,MAAMu/B,aACzBC,SAAU1/B,KAAKE,MAAMw/B,SACrB/6B,MAAO3E,KAAKE,MAAMyE,MARpB,UAUG3E,KAAKE,MAAMwJ,SAEX1J,KAAKkQ,MAAM5E,YAActL,KAAKkQ,MAAMkuB,iBACnC,UAACuB,GAAD,CAAoBr0B,WAAYtL,KAAKkQ,MAAM5E,kBAOrD0rB,cAAcxqB,GACZ,MAAMozB,EAAgB5/B,KAAKs2B,gBAAgB9pB,EAAMtG,MAE5C05B,EAOHzgC,OAAOC,OAAOwgC,EAAepzB,IAN7BxM,KAAK6/B,OAAOzgB,IAAI5S,GAEhBN,YAAW,KACTlM,KAAK8/B,iBAAiBtzB,KACrB,IAMPyqB,gBAAgB/wB,GACd,MAAMsG,EAAQxM,KAAKs2B,gBAAgBpwB,GAE/BsG,GAAOxM,KAAK6/B,OAAO9lB,OAAOvN,GAGhCuzB,SAAS75B,GAAM,MACb,iBAAOlG,KAAKs2B,gBAAgBpwB,UAA5B,aAAO,EAA4BsG,MAGrC8pB,gBAAgBpwB,GACd,OAAOe,MAAMiT,KAAKla,KAAK6/B,QAAQ5K,MAAK4E,GAAKA,EAAE3zB,OAASA,IAGtD85B,2BACEhgC,KAAKkR,SAAS,CAAEktB,gBAAgB,IAGlC6B,0BACEjgC,KAAKkR,SAAS,CAAEktB,gBAAgB,IAkClCY,aACMh/B,KAAKE,MAAM8+B,YACb9yB,YAAW,KACTlM,KAAKkgC,iBACJ,KAIPC,kBAAiB,OACfC,GAAS,EADM,KAEfC,GAAO,EAFQ,kBAGfC,GAAoB,EAHL,aAIfC,GACE,IACF,IAAIV,EAAS54B,MAAMiT,KAAKla,KAAK6/B,QAEzBU,aAAwBpuB,WAC1B0tB,EAASA,EAAOx4B,OAAOk5B,IAIzB,MAAMC,EAAcX,EAAO78B,QAAO,CAACC,GAAOiD,OAAMsG,QAAOmpB,OAAMC,aAAYmB,kBACvE,MAAM0J,EAAgB1J,GAAevqB,EAAMjJ,QAAU26B,GAC/CwC,EAAY/K,GAAQ8K,IAAmBzgC,KAAKE,MAAMygC,YAA4B,IAAf/K,KAA0BppB,EAAMjJ,MAErG,IAAa,IAAT88B,IAAkBK,EAAW,CAC/B,MAAMn9B,EAAQ,MACZ,MAAMq9B,EAAap0B,EAAMjJ,MAEzB,MAAI,CAAC,WAAY,SAAS8G,SAASmC,EAAM7C,MACnCrG,GAAUs9B,KAAgB,CAAC,GAAI,KAAM,MAAO,OAAQ,SAASv2B,SAASu2B,GACjEp0B,EAAMmqB,QAAUiK,EAAa,KAG/BN,EAAoB9H,OAAOhsB,EAAMmqB,SAAWnqB,EAAMmqB,QAGpDiK,GAXK,GAcA,OAAVr9B,GAAgBN,EAAII,KAAK,CAAC6C,EAAM3C,IAGtC,OAAON,IACN,IAEH,GAAIm9B,EACF,OAAOI,EAAYx9B,QAAO,CAACC,GAAMtD,EAAK4D,MAAZ,IAA6BN,EAAK,CAACtD,GAAM4D,KAAU,IACxE,CACL,MAAMyY,EAAW,IAAIrC,SAGrB,OADA6mB,EAAYnyB,SAAQ,EAAE1O,EAAK4D,KAAWyY,EAASpC,OAAOja,EAAK4D,KACpDyY,GAIC,cAAC,aAAEukB,GAAiB,IAAI,UAClCvgC,KAAKkR,SAAS,CAAEmtB,YAAY,EAAMe,aAAc,OAEhD,MAAMyB,EAAY7gC,KAAKq/B,YAAY1vB,QAAQid,aAAa,UAClDkU,EAAS9gC,KAAKyN,IAAI4J,cAAcwpB,GAChC5lB,EAAOjb,KAAKmgC,iBAAiB,CAAEC,OAAQU,EAAQP,iBAC/C17B,EAAI,qBAAG,EAAA7E,KAAKE,OAAM6gC,mBAAd,aAAG,SAAyB9lB,UAA5B,QAAqCA,EAC/C,IAAI+lB,GAAU,EAGZA,EADEF,QACc9gC,KAAKihC,cAAcJ,EAAWh8B,SAE9B7E,KAAKkhC,gBAAgBr8B,GAGvC7E,KAAKkR,SAAS,CACZmtB,YAAY,EACZnuB,MAAO8wB,EAAU,UAAY,SAC5B,KACD90B,YAAW,KACTlM,KAAKkR,SAAS,CAAEhB,MAAO,SACtB,SAIY,oBAAC0gB,EAAQ/rB,GAAM,MAChC,MAAM2T,EAAY9U,GAAW,UAAC1D,KAAKE,MAAM0c,cAAZ,QAAsB,IAC7CL,QAAiBvc,KAAKyN,IAAIK,QAAQ8iB,EAAQ,CAC9ChU,OAAQpE,EACR3T,SAKqB,QAGhB,IAHP,OAFA7E,KAAKkR,SAAS,CAAEkuB,aAAc7iB,IAEb,OAAbA,GACF,aAAAvc,KAAKE,OAAMowB,eAAX,kBACO,IAEP,aAAAtwB,KAAKE,OAAMo/B,gBAAX,gBAAsB/iB,IACf,GAIU,sBAAC1X,GAAM,MAC1B,MAAM+rB,EAAS5wB,KAAKq/B,YAAY1vB,QAAQihB,OAClCtZ,GAAS,UAACtX,KAAKE,MAAMoX,cAAZ,QAAsB,QAAQ0B,cACvCuD,QAAiB1O,MAAM+iB,EAAQ,CAAEtZ,SAAQzS,SAE/C,IACE,MAAMmO,QAAeuJ,EAASS,OAkBb,QAGV,IAHP,GAhBAhd,KAAKkR,SAAS,CAAEkuB,aAAcpsB,IAE1BA,EAAOuK,oBACTpe,OAAOyE,QAAQoP,EAAOuK,mBAAmBlP,SAAQ,EAAE1O,EAAKwhC,MACtD,MAAM30B,EAAQxM,KAAK+/B,SAASpgC,GAE5BK,KAAKsL,WAAWuQ,IAAIrP,EAAMtG,KAAM,CAC9Bsf,MAAOhZ,EAAMgZ,MACbhZ,MAAOA,EAAMA,MACb20B,gBAIJnhC,KAAKkR,SAAS,CAAE5F,WAAYtL,KAAKsL,cAG/BiR,EAASnC,GAEX,OADA,aAAApa,KAAKE,OAAMo/B,gBAAX,gBAAsBtsB,IACf,EAEP,aAAAhT,KAAKE,OAAMowB,eAAX,gBAAqBtd,GAEvB,MAAOrG,GAAK,QACZ8P,QAAQ2kB,IAAIz0B,GACZ,aAAA3M,KAAKE,OAAMowB,eAAX,gBAAqB3jB,GAEvB,OAAO,EAGT2xB,iBACEt+B,KAAKsL,WAAW6gB,QAEhB,IAAK,MAAM3f,KAASxM,KAAK6/B,OAAQ,CAC/B,MAAM7sB,EAAShT,KAAKqhC,cAAc70B,GAE9BwG,EAAOvT,QACTO,KAAKsL,WAAWuQ,IAAIrP,EAAMtG,KAAM,CAC9Bsf,MAAOhZ,EAAMgZ,MACb2b,SAAUnuB,EACVxG,MAAOA,EAAMA,QAWnB,OANIxM,KAAKsL,WAAWzB,KAClB7J,KAAKkR,SAAS,CAAE5F,WAAYtL,KAAKsL,aAEjCtL,KAAKkR,SAAS,CAAE5F,WAAY,OAGE,IAAzBtL,KAAKsL,WAAWzB,KAGzBw3B,cAAc70B,GAAO,MACnB,MAAM20B,EAAW,IACX,WAAE71B,EAAYkB,MAAOgC,GAAYhC,EACjCjJ,GAAQ,UAAAiL,EAAQjL,aAAR,eAAeE,SAAU,KAEvC,OAAI+I,EAAMuqB,aAAexzB,IAAU26B,IAInC5yB,EAAW+C,SAAS6nB,IAClB,MAAMljB,EAASkjB,EAAU1pB,EAAMgZ,MAAOjiB,GAElCyP,GAAQmuB,EAAS99B,KAAK2P,MANnBmuB,EAYXjC,eACOl/B,KAAKE,MAAM8b,UACS,IAArBhc,KAAK6/B,OAAOh2B,MAEhB5C,MAAMiT,KAAKla,KAAK6/B,QAAQxxB,SAAS7B,IAC/BxM,KAAK8/B,iBAAiBtzB,MAI1BszB,iBAAiBtzB,GAAO,MACtB,MAAMjJ,GAAQ,UAACvD,KAAKE,MAAM8b,gBAAZ,QAAwB,IAAIxP,EAAMtG,MAE5CsG,EAAMuqB,aAAe/2B,KAAKE,MAAM8b,SAClCxP,EAAMsoB,SAASoJ,IACN56B,GAAUC,IAAUiJ,EAAMjJ,QAAUA,IAAUiJ,EAAMqpB,cAC7DrpB,EAAMsoB,SAASvxB,IAKrB,MAAMo8B,GAAqB,EAAGr0B,iBAC5B,MAAM/C,EAAY5C,GAAG,mBAErB,OACE,iBAAK+C,UAAWH,EAAhB,SACGtB,MAAMiT,KAAK5O,GAAY/D,KAAI,EAAErB,EAAM8M,MAClC,kBAAgBtK,UAAWH,EAAUnF,KAAK,SAAUwJ,QAAS,IAAMoG,EAAOxG,MAAMzH,QAAhF,WACE,iBAAK2D,UAAWH,EAAUnF,KAAK,SAA/B,SAA0C4P,EAAOwS,SAEjD,iBAAK9c,UAAWH,EAAUnF,KAAK,YAA/B,SACG4P,EAAOmuB,SAAS55B,KAAI,CAAC4D,EAAS5L,KAC7B,iBAA0BmJ,UAAWH,EAAUnF,KAAK,WAApD,SACG+H,GADQ,GAAEjF,KAAQ3G,WALjB2G,QAgBlBi4B,GAAKmD,UAAYlL,EAEjB+H,GAAKoD,IAAM,EAAGC,cAAaC,SAAQ/3B,WAAU/E,QAAOmG,UAAS,MAC3D,MAAM42B,EAAS,GAKf,OAHIF,IAAaE,EAAO,kBAAoBF,GACxCC,IAAQC,EAAO,aAAeD,IAGhC,iBAAK/4B,UAAW/C,GAAG,QAAQvC,KAAK,OAAO2C,IAAI,CAAE+E,WAAWnG,MAAO,IAAMA,QAAAA,EAAS,MAAQ+8B,GAAtF,SACGh4B,KAKPy0B,GAAK/X,QAAU3c,EAAAA,YAAiB,EAC9Bo2B,OAAQ8B,EACR3lB,SAAU4lB,EACVC,cACAC,gBACAp4B,WACAq4B,eACAzC,WACA0C,iBACG9hC,GACFO,KACD,MAAMwhC,EAAUxhC,QAAAA,GAAOshB,EAAAA,EAAAA,WAChB8d,EAAQqC,IAAan2B,EAAAA,EAAAA,UAAS41B,QAAAA,EAAiB,KAC/C3lB,EAAUmmB,IAAep2B,EAAAA,EAAAA,UAAS61B,QAAAA,EAAmB,IAEtDQ,EAAgBvC,GACbA,EAAOt4B,KAAI,CAACiF,EAAO8Z,KAAU,QAClC,IAAK9Z,EAAO,OAAO,mBAAW,UAAS8Z,KAEvC,MAAMqR,EAAY,UAAG3b,aAAH,EAAGA,EAAWxP,EAAMtG,aAApB,aAA6BuE,EAEzC43B,EAAW,IACK71B,EAAMqpB,eAAiBrpB,EAAMopB,YAA6B,aAAfppB,EAAM7C,KAG5Du0B,GAGL1xB,EAAMqpB,aACD,KAGF8B,QAAAA,EAAgBnrB,EAAMjJ,MAGzB++B,EAAc,IAfuB,IAArBpiC,EAAM8+B,aAAqD,IAA9BxyB,EAAM+1B,sBAkBvDD,EAAYlJ,SAAWrqB,gBACfkzB,EAAQtyB,QAAQ4uB,OAAO,CAC3BgC,aAAe1G,GAAMA,EAAE3zB,OAASsG,EAAMtG,aAElCs8B,UACAC,MAIV,MAAMC,EAAiB,MACrB,OAAOl2B,EAAM7C,MACX,IAAK,SAAU,OAAOg5B,GACtB,IAAK,UAAW,OAAOC,GACvB,IAAK,SAAU,OAAOC,GACtB,QAAS,OAAOC,KALG,GAevB,MANI,CAAC,WAAY,QAAS,UAAUz4B,SAASmC,EAAM7C,MACjD24B,EAAY3L,QAAU0L,IAEtBC,EAAY3N,aAAe0N,KAI3B,UAACK,EAAD,IAEMl2B,KACA81B,GAHN,UACO91B,EAAMtG,YADb,QACqBogB,MAQrByc,EAAiBC,GACdA,EAAQz7B,KAAI,CAAC07B,EAAK3c,KACvB,iBAAK5d,UAAW/C,GAAG,QAAQvC,KAAK,UAAuBuB,MAAO,CAAEvE,MAAO6iC,EAAI7iC,OAA3E,SACGgiC,EAAaa,EAAIpD,SAD4BvZ,KAM9Ckc,GAAev2B,EAAAA,EAAAA,cAAY8C,UAC/B,GAAI8yB,EAAa,CACf,MAAMqB,QAAkBrB,IAEpBtnB,KAAK4B,UAAU0jB,KAAYtlB,KAAK4B,UAAU+mB,IAC5ChB,EAAUgB,MAGb,CAACrB,IAEEY,GAAiBx2B,EAAAA,EAAAA,cAAY8C,UACjC,GAAI+yB,EAAe,CACjB,MAAMqB,QAAoBrB,KAEyB,KAA/C3C,EAAAA,GAAAA,GAAoBnjB,EAAUmnB,IAChChB,EAAYgB,MAGf,CAACrB,IAEEsB,GAAiBn3B,EAAAA,EAAAA,cAAY8C,SAAUgP,KAC3CuhB,SAAAA,KAAcvhB,SACRykB,UACAC,MACL,CAACnD,EAAUwC,IAcd,OAZA9zB,EAAAA,EAAAA,YAAU,KACRw0B,MACC,CAACA,KAEJx0B,EAAAA,EAAAA,YAAU,KACRy0B,MACC,CAACA,KAEJz0B,EAAAA,EAAAA,YAAU,KACRk0B,EAAUP,KACT,CAACA,KAGF,WAAC,GAAD,IAAUzhC,EAAOo/B,SAAU8D,EAAgB3iC,IAAKwhC,EAAhD,WACIpC,QAAAA,EAAU,IAAIt4B,KAAI,EAAGi6B,cAAa3B,SAAQmD,WAAW1c,KACrD,UAAC,GAAKib,IAAN,CAAsBC,YAAaA,EAAa78B,MAAOo9B,EAAcj3B,QAAM,EAA3E,SACGk4B,EAAUD,EAAcC,GAAWZ,EAAavC,IADpCvZ,KAIhB5c,GACsB,IAArBxJ,EAAM8+B,aAAuC,IAAhBgD,IAC7B,UAAC,GAAKqB,QAAN,WACE,UAAC,GAAD,CACE15B,KAAK,SACLK,KAAK,UACLrF,MAAO,CAAEvE,MAAO,KAHlB,0BAaV+9B,GAAKkF,QAAU,EAAG35B,WAAU45B,QAAO15B,QAAOC,WACxC,MAAMtB,EAAY5C,GAAG,QAErB,OACE,kBAAK+C,UAAWH,EAAUnF,KAAK,UAAU2C,IAAI,CAAE8D,SAA/C,WACE,iBAAKnB,UAAWH,EAAUnF,KAAK,QAAQ2C,IAAI,CAAEu9B,UAA7C,SACG15B,KAGH,UAAC,GAAD,UACGF,QAMTy0B,GAAKoF,UAAY,KACf,MAAMrzB,EAAQzG,EAAAA,WAAiBH,IAE/B,OACE,UAAC,GAAD,CAAOpD,KAAK,iBAAZ,UACE,UAAC6uB,GAAD,CAAOxxB,MAAO2M,EAAd,UACE,UAAC,GAAD,CAAM7H,IAAI,OAAOtC,IAAK,CAAE4D,KAAMuG,GAAShK,KAAK,OAAOivB,KAAK,UAAxD,yBAMRgJ,GAAKqF,eAAiB,EAAG95B,eACvB,MAAM+5B,EAAW/5B,EAEjB,GAAI+5B,aAAoBtxB,WAAa,EACnC,MAAM,IAAIwJ,MAAM,oDAGlB,MAAMY,GAAWvT,EAAAA,EAAAA,YAAWO,IAE5B,OAAO,gCAAGgT,EAAWknB,EAASlnB,GAAY,QEpjBrC,MAAMmnB,GAAiB,+EAA+Eh8B,MAAM,KAAKH,KAAIo8B,GAAK,IAAMA,IAEhI,SAAUC,GAAQC,EAASH,IAChC,IAAIpd,EAAQ,EACZ,aACQud,EAAOvd,GACbA,GAASA,EAAQ,GAAKud,EAAOpkC,OAIjCqN,OAAO82B,QAAUA,GCVV,MAAME,GAAa,CACxBC,UAAW,UACXC,aAAc,UACdC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,MAAO,UACPC,OAAQ,UACRC,MAAO,UACPC,eAAgB,UAChBC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,MAAO,UACPC,eAAgB,UAChBC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACVC,SAAU,UACVC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,eAAgB,UAChBC,WAAY,UACZC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,aAAc,UACdC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,SAAU,UACVC,YAAa,UACbC,QAAS,UACTC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,YAAa,UACbC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZC,KAAM,UACNC,UAAW,UACXC,KAAM,UACNC,MAAO,UACPC,YAAa,UACbC,SAAU,UACVC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,SAAU,UACVC,cAAe,UACfC,UAAW,UACXC,aAAc,UACdC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,qBAAsB,UACtBC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,eAAgB,UAChBC,YAAa,UACbC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,QAAS,UACTC,OAAQ,UACRC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,UACdC,aAAc,UACdC,eAAgB,UAChBC,gBAAiB,UACjBC,kBAAmB,UACnBC,gBAAiB,UACjBC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,YAAa,UACbC,KAAM,UACNC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,cAAe,UACfC,UAAW,UACXC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,WAAY,UACZC,OAAQ,UACRC,cAAe,UACfC,IAAK,UACLC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,OAAQ,UACRC,WAAY,UACZC,SAAU,UACVC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,QAAS,UACTC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,YAAa,UACbC,UAAW,UACXC,IAAK,UACLC,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,OAAQ,UACRC,YAAa,WC7ITC,GAAU,CACdC,MAAO,CACLljC,KAAM,QACNqO,SAAU,CACRnX,YAAa,CACXqK,MAAO,0BACPvB,KAAM6uB,OACNsU,MAAO,CAACC,EAAMxpC,IAAUwpC,EAAKC,UAAU3+B,SAAQ4+B,GAAYA,EAASC,aAAa,cAAe3pC,KAChGA,MAAOwpC,IAAI,mCAAIA,EAAKC,UAAU,UAAnB,aAAI,EAAmBpgB,aAAa,sBAApC,QAAsD,IAEnEugB,KAAM,CACJjiC,MAAO,gCACPvB,KAAMyjC,QACNN,MAAO,QAETO,YAAa,CACXniC,MAAO,mCACPvB,KAAMyjC,QACNN,MAAO,eAETQ,cAAe,CACbpiC,MAAO,gCACPvB,KAAMyjC,QACNN,MAAO,mBAIbS,KAAM,CACJ5jC,KAAM,OACNqO,SAAU,CACRw1B,YAAa,CACXtiC,MAAO,uBACPvB,KAAMyjC,QACNN,MAAO,CAACC,EAAMxpC,IAAUA,EAAQwpC,EAAKG,aAAa,cAAe,QAAUH,EAAKU,gBAAgB,eAChGlqC,MAAOwpC,GAA6C,SAArCA,EAAKngB,aAAa,eACjC8gB,KAAMX,GAAQA,EAAKC,UAAU3lC,QAAO6tB,GAAKA,EAAEpH,QAAQ6f,SAAS,YAAWluC,OAAS,KAItFmuC,UAAW,CACTjkC,KAAM,aAERkkC,MAAO,CACLlkC,KAAM,SAERmkC,UAAW,CACTnkC,KAAM,aAERokC,WAAY,CACVpkC,KAAM,cAERqkC,WAAY,CACVrkC,KAAM,cAERskC,MAAO,CACLtkC,KAAM,SAERukC,MAAO,CACLvkC,KAAM,UAIJwkC,GAAS,CACbxkC,KAAM,SACNqO,SAAU,CACRo2B,gBAAiB,CACfljC,MAAO,kBACPvB,KAAM,CAAC,SAAU,OAAQ,QAAS,OAClC0kC,SAAS,EACTX,KAAMY,GAAiC,UAAzBA,EAAKC,QAAQzgB,QAC3Bgf,MAAO,CAACG,EAAU1pC,KAAU,UAC1B,IAAIirC,EAAavB,EAAS9oB,WACtBsqB,EAAUxB,EAEwC,YAAlD,UAAAuB,EAAWE,kBAAX,mBAAuB5gB,eAAvB,eAAgC9U,iBAClCy1B,EAAUD,EACVA,EAAaC,EAAQtqB,YAEvB,MAAM4oB,EAAOE,EAASsB,QAChBzpB,EAAS,CAAC,MAAO,UAAUza,SAAS9G,GAEpCsH,GAAaia,EAAS,SAAW,QADtB,CAAC,MAAO,QAAQza,SAAS9G,GACkB,WAAa,KACrD,UAAGirC,EAAW5hB,aAAa,gBAA3B,aAAG,EAAkCviB,SAAS,WAGhEmkC,EAAazB,EAAK4B,cAAcjqC,cAAc,QAC9C+pC,EAAQtqB,WAAW8E,aAAaulB,EAAYzB,GAC5CyB,EAAW1pC,YAAYioC,GACvByB,EAAW1pC,YAAY2pC,IAEzBxB,EAASC,aAAa,aAAc3yB,KAAK4B,UAAU2I,IACnD0pB,EAAWtB,aAAa,QAAS,yDAA2DriC,IAE9FtH,MAAO0pC,IAAY,QACjB,IAAIuB,EAAavB,EAAS9oB,WAE4B,YAAlD,UAAAqqB,EAAWE,kBAAX,mBAAuB5gB,eAAvB,eAAgC9U,iBAClCw1B,EAAaA,EAAWrqB,YAE1B,MAAMxf,EAAQ6pC,EAAW5hB,aAAa,SAChC/hB,EAAYlG,aAAH,EAAGA,EAAOV,MAAM,qCAE/B,IAAK4G,EAAW,CAGd,OAFiBoiC,EAAS2B,wBAAwB3B,EAASsB,SAEzCM,KAAKC,4BAA8B,MAAQ,SAE/D,MAAqB,WAAjBjkC,EAAU,GAAwBA,EAAU,GAAK,MAAQ,SACjDA,EAAU,GAAK,OAAS,UAGxCxD,OAAQ,CACN6D,MAAO,qCACPvB,KAAMyjC,QACNiB,SAAS,EACTvB,MAAO,CAACC,EAAMxpC,KACZ,GAAIA,EAAO,CACT,MAAMwrC,EAAUhC,EAAK4B,cAAcjqC,cAAc,UAC3C8pC,EAAazB,EAAK4B,cAAcjqC,cAAc,QAEpDqqC,EAAQ7B,aAAa,SAAUH,EAAKngB,aAAa,SACjDmiB,EAAQ7B,aAAa,YAAa,GAClC6B,EAAQ7B,aAAa,OAAQ,UAC7BH,EAAK5oB,WAAW8E,aAAaulB,EAAYzB,GACzCyB,EAAW1pC,YAAYiqC,GACvBP,EAAW1pC,YAAYioC,OAClB,CAGL,GAAsC,WAFtBA,EAAKiC,uBAETlhB,QAAQ9U,cAA4B,CAC9C,MAAMw1B,EAAazB,EAAK5oB,WAExBqqB,EAAWrqB,WAAW8E,aAAa8jB,EAAMyB,GACzCA,EAAWrqB,WAAWhB,YAAYqrB,MAIxCjrC,MAAO0pC,IAAQ,YAA+D,YAA3D,UAAAA,EAAS+B,8BAAT,eAAiClhB,QAAQ9U,mBAK5Di2B,GAAW,CACfd,UACAe,gBAAiBf,I,yHC7IZ,MAAMgB,GAAe,gBACfC,GAAiB,cACjBC,GAAgBpiC,GAAU,CAAC,GAAIkiC,IAAc9kC,SAAS4C,EAAO7I,QAAQ,OAAQ,KAEnF,MAAMkrC,GAMX//B,YAAYggC,GAAK,kBALP,IAKO,mBAJN,IAIM,mBAHP,GAGO,kBAFP3L,MAGR5jC,KAAKuvC,IAAMA,EACXvvC,KAAKiN,OAASsiC,EAAItiC,OAElB,MAAMuiC,EAAS,IAAI9jB,UACnB1rB,KAAKyvC,MAAQD,EAAO7jB,gBAAgB3rB,KAAKiN,OAAQ,mBAEjDjN,KAAK0vC,WAAa,IAAIC,cAEtB3vC,KAAK4vC,WAGPC,QAAQC,GACN,MAAMC,EAAO,GACb,IAAK,IAAI1nC,KAAOynC,EAAGpmC,SACjBqmC,EAAK1sC,KAAKgF,GACNA,EAAIqB,SAASjK,QAAQswC,EAAK1sC,QAAQrD,KAAK6vC,QAAQxnC,IAErD,OAAO0nC,EAGTC,kBAIA1+B,SACE,MAAMrE,EAASjN,KAAK0vC,WAAWO,kBAAkBjwC,KAAKyvC,OACtDzvC,KAAKgwC,eAAe/iC,GAGtB2iC,WACE,MAAMG,EAAO/vC,KAAK6vC,QAAQ7vC,KAAKyvC,OAC/BzvC,KAAKkwC,QAAUH,EAAK1oC,QAAOinC,GAAQA,EAAKxgB,WAAW8e,IAAW0B,EAAK1hB,aAAa,WAChF,MAAMujB,EAAQnwC,KAAKkwC,QAAQ3oC,KAAI+mC,GAAQA,EAAK1hB,aAAa,UACzD5sB,KAAKowC,SAAWL,EAAK1oC,QAAOinC,GAAQ6B,EAAM9lC,SAASikC,EAAK1hB,aAAa,aAErE,IAAK,IAAI2hB,KAAWvuC,KAAKkwC,QAAS,CAChC,MAAMj0B,EAAS2wB,GAAQ2B,EAAQzgB,SAC/BygB,EAAQvB,UAAYhtC,KAAKowC,SAAS/oC,QAAOinC,GAAQA,EAAK1hB,aAAa,YAAc2hB,EAAQ3hB,aAAa,UACtG2hB,EAAQvB,UAAU3+B,SAAQ4+B,GAAYA,EAASsB,QAAUA,IAEzD,IAAK,IAAIrrC,KAAQ+Y,EAAOjE,SACtBiE,EAAOjE,SAAS9U,GAAM+Y,OAASsyB,EAGjC,IAAIv2B,EAAW,IAAKiE,EAAOjE,UAC3Bu2B,EAAQvB,UAAU3+B,SAAQ4+B,IACxB,IAAIoB,EAAUY,GAAShC,EAASnf,SAEhC,GAAIugB,EAAS,CACX,IAAK,IAAInrC,KAAQmrC,EAAQr2B,SACvBq2B,EAAQr2B,SAAS9U,GAAMmrC,QAAUpB,EACjCoB,EAAQr2B,SAAS9U,GAAM+Y,OAASsyB,EAGlCv2B,EAAW,IAAKA,KAAaq2B,EAAQr2B,cAGzChY,KAAKgY,SAAWA,GAKpBq4B,WAAWrN,GACT,GAAuB,IAAnBA,EAAQvjC,QAAgBujC,EAAQ,KAAOoM,GAAgB,OAC3D,MAAMkB,EAAWtwC,KAAKkwC,QAAQ3oC,KAAIgpC,GAAOA,EAAI3jB,aAAa,SAASxoB,QAAQ,MAAO,MAClF,IAAIosC,EAAOxN,EAAQ37B,QAAO6tB,IAAMob,EAASjmC,SAAS6qB,KAClD,IAAK,IAAIqb,KAAOvwC,KAAKkwC,QAAS,CACyC,MAArE,IAAKlN,EAAQ34B,SAASkmC,EAAI3jB,aAAa,SAASxoB,QAAQ,MAAO,KAC7DmsC,EAAIrD,aAAa,QAAS,eAAOsD,EAAKjnB,eAAZ,QAAuByZ,EAAQ,KAI7DhjC,KAAKsR,SAGPm/B,UAAUpC,EAASqC,GACjB,IAAKA,EAAQ,OAIb,GAHKzpC,MAAMC,QAAQwpC,KACjBA,EAASA,EAAOhpC,MAAM,MAAMH,KAAIo8B,GAAKA,EAAElgC,SAAQ4D,OAAO+lC,WAEnDsD,EAAOjxC,OAAQ,OAEpB,MAAM6wC,EAAW,IAAIjC,EAAQ3kC,UAAUnC,KAAIopC,GAAMA,EAAG/jB,aAAa,WAC3DgkB,EAAgC,YAApBvC,EAAQvgB,QAE1B4iB,EAAOriC,SAAQmX,IACb,GAAI8qB,EAASjmC,SAASmb,GAAQ,OAC9B8qB,EAASjtC,KAAKmiB,GACd,MAAMqrB,EAAS7wC,KAAKyvC,MAAM/qC,cAAcksC,EAAY,SAAW,SAC/DC,EAAO3D,aAAa,QAAS1nB,GACxBorB,GAAWC,EAAO3D,aAAa,aAAcltC,KAAK8wC,QAAQC,OAAOxtC,OACtE8qC,EAAQvpC,YAAY+rC,MAGtB7wC,KAAKsR,SAGP0/B,YAAYH,GACVA,EAAO1sB,WAAWhB,YAAY0tB,GAC9B7wC,KAAKsR,SAGP2/B,YAAYJ,EAAQK,GAClB,IAAK,IAAIC,KAAQhyC,OAAOs1B,KAAKyc,GAC3BL,EAAO3D,aAAaiE,EAAMD,EAAMC,IAElCnxC,KAAKsR,UCjHT,MAAM8/B,GAAczrC,GAAG,aAEV0rC,GAAU,EAAGpkC,SAAQgO,OAAMoB,YAAY,oBAClD,MAAMi1B,EAAcrxB,GAAW,OACzBsxB,GAAUxvB,EAAAA,EAAAA,UACVyvB,GAAMzvB,EAAAA,EAAAA,UAmCZ,OAjCA/T,EAAAA,EAAAA,YAAU,KACR,IAAKsjC,EAAa,OAClB,IAAKC,EAAQ5hC,QAAS,OACtB,GAAI0M,EAAO,OACX,IAAKpB,EAAM,OAEX,MAAMw2B,EAAM3kC,OAAOwkC,YACnB,IAAI,MACF,UAAAE,EAAI7hC,eAAJ,SAAa+hC,UACbF,EAAI7hC,QAAU,IAAI8hC,EAAIF,EAAQ5hC,QAAS,CACrC1C,OAAQA,GAAUkiC,GAClBwC,WAAY,CACV,eAEFC,KAAM,CACJC,YAAa,GACbC,YAAa,GACblwC,GAAI,EACJqZ,QAEF82B,kBAAmB,SAASC,GAC1BA,EAAGh6B,SAASi6B,iBAAkB,EAC9B,IAAI/c,EAAI8c,EAAGE,gBAAgBC,cAAc,CACvCC,cAAc,IAEhBJ,EAAGE,gBAAgBG,iBAAiBnd,EAAEtzB,OAG1C,MAAM6N,GACNgN,QAAQJ,MAAM5M,MAEf,CAACxC,EAAQgO,EAAMq2B,EAAaC,KAG7B,kBAAK7oC,UAAW0oC,GAAYhuC,KAAK,WAAjC,WACE,wCACCiZ,IAAS,kBAAK3T,UAAW0oC,GAAYhuC,KAAK,iBAAjC,WACR,2BAAKiZ,EAAMgB,OAAX,IAAoBhB,EAAMza,MADlB,UAEPya,EAAMkB,yBAFC,iBAEP,EAAyB+0B,wBAFlB,iBAEP,EAA2C/qC,WAFpC,aAEP,UAAiDoF,IAAO,wBAAcA,GAANA,KAFzD,UAGP0P,EAAMkB,yBAHC,iBAGP,EAAyBg1B,oBAHlB,iBAGP,EAAuChrC,WAHhC,aAGP,UAA6CoF,IAAO,wBAAcA,GAANA,KAHrD,UAIP0P,EAAMkB,yBAJC,iBAIP,EAAyBhW,WAJlB,aAIP,UAA+BoF,IAAO,wBAAcA,GAANA,SAE/CsO,IAAQ,UAAC,GAAD,CAAStW,MAAO,CAAEvE,MAAO,OAAQC,OAAQ,WACnD,iBAAKuB,GAAG,eAAenB,IAAK8wC,QC/C5BiB,GAAY7sC,GAAG,kBAEf8sC,GAAQ,KACZ,iBAAKryC,MAAM,IAAIC,OAAO,KAAKC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,6BAAhE,UACE,kBAAME,QAAQ,MAAMC,EAAE,gBAAgBC,OAAO,eAAeC,YAAY,IAAIC,cAAc,aAIxF4xC,GAAmB,EAAGC,YAAWC,QAAOC,qBAC5C,MAAMC,EAASH,EACZtrC,QAAO0rC,GAAUA,EAAOH,QAAUA,IAElCI,MAAK,CAAClwC,EAAGC,KAAJ,eAAU,UAACD,EAAEmwC,aAAH,QAAYjb,MAAZ,UAAyBj1B,EAAEkwC,aAA3B,QAAoCjb,QAEtD,OACE,yBACG8a,EAAOvrC,KAAIwrC,IACV,iBAEEnmC,QAAS,IAAMimC,EAAeE,GAC9BrqC,UAAW8pC,GAAUpvC,KAAK,YAH5B,WAKE,iBAAK+I,IAAK4mC,EAAOG,SACjB,yBAAKH,EAAO7nC,UALP6nC,EAAO7nC,YAYTioC,GAAgB,EAAGC,gBAAeC,iBAAgBC,mBAAkBC,gBAAeV,qBAC9F,MAAOW,EAAQC,GAAahqC,EAAAA,SAAe,KACpCkpC,EAAWe,GAAgBjqC,EAAAA,WAC5BgE,EAAMC,KAEZjE,EAAAA,WAAgBsF,UACd,MAAM9L,QAAYwK,EAAIK,QAAQ,mBAE9B,IAAK7K,EAAK,OACV,MAAM,UAAE0vC,EAAF,OAAaa,GAAWvwC,EAE9BywC,EAAaf,GACbc,EAAUD,KACT,IAEH,MAAMnuB,EAAW+tB,GAAiBI,EAAO,GAEzC,OACE,kBAAK9qC,UAAW8pC,GAAhB,WACE,oBAAO9pC,UAAW8pC,GAAUpvC,KAAK,WAAjC,WACE,yBACGowC,EAAOjsC,KAAIqrC,IACV,iBAEEhmC,QAAS,IAAM2mC,EAAcX,GAC7BlqC,UAAW8pC,GAAUpvC,KAAK,SAAS2C,IAAI,CACrC6f,OAAQP,IAAautB,EACrBvtB,UAAUguB,aAAA,EAAAA,EAAgBT,SAAUA,IALxC,UAQGA,GACD,UAACH,GAAD,MARKG,QAYX,oBAAQjpC,KAAK,SAASiD,QAAS0mC,EAAkB5qC,UAAW8pC,GAAUpvC,KAAK,mBAA3E,iCAEF,8BACIuvC,IAAa,UAAC,GAAD,CAAShuC,MAAO,CAAEvE,MAAO,OAAQC,OAAQ,QACxD,UAACqyC,GAAD,CAAkBC,UAAWA,GAAa,GAAIC,MAAOvtB,EAAUwtB,eAAgBA,QAEjF,2BChEAc,GAAaC,IAEjB,GAAIA,EAAIC,QAAQ,OAAS,EACvB,OAAOD,EAGT,IAAIE,EAAQ,EAEZ,IACE,OAAOF,EAAIxvC,QAAQ,2BAA2B,CAACiE,EAAK0rC,EAAQC,KAC1D,GAAKD,EAOH,OADAD,IACO,KAAKG,OAAOH,GAASzrC,EAAI5E,OAAS,KAP9B,CACX,MAAMR,EAAM,KAAKgxC,OAAOH,GAASzrC,EAAI5E,OAAS,KAG9C,OADKuwC,GAAQF,IACN7wC,MAMX,MAAOwM,GACP,OAAOmkC,IAILM,GAAcvuC,GAAG,UACjByrC,GAAczrC,GAAG,aAEjBwuC,GAAyB,KAC7B,iBAAKzrC,UAAW0oC,GAAYhuC,KAAK,gBAAjC,UACE,uGAIEgxC,GAAQ,EAAG5uB,QAAO+H,WAAUkG,YAChC,MAAMlwB,EAAQiiB,EAAMoH,aAAa,SAEjC,OACE,iBAAIlkB,UAAW0oC,GAAYhuC,KAAK,SAAS2C,IAAI,CAAEsuC,OAA0B,WAAlB7uB,EAAMsI,UAA7D,WACE,mBAAOnpB,MAAO,CAAE2vC,WAAY7gB,GAA5B,UACE,mBACE9pB,KAAK,QACLjB,UAAW0oC,GAAYhuC,KAAK,eAC5BG,MAAOugC,GAAWrQ,IAAUA,EAC5B2F,SAAU3pB,GAAK8d,EAAS0jB,YAAYzrB,EAAO,CAAE8uB,WAAY7kC,EAAEnQ,OAAOiE,aAGtE,2BAAOA,KACP,oBAAQoG,KAAK,SAASjB,UAAW0oC,GAAYhuC,KAAK,gBAAiBwJ,QAAS,IAAM2gB,EAASyjB,YAAYxrB,GAAvG,UACE,kBAAKplB,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOK,OAAO,MAAMC,YAAY,IAAIC,cAAc,SAASN,MAAM,6BAAtH,WACE,kBAAMG,EAAE,gBACR,kBAAMA,EAAE,wBAOZ4zC,GAAmB,EAAGlG,UAAS9gB,eACnC,MAAMinB,EAAY/qC,EAAAA,SACZgrC,EAAUpG,EAAQvgB,QAExB,GAAgB,YAAZ2mB,IAA0BA,EAAQ9G,SAAS,UAAW,OAAO,KACjE,MAAMmD,EAAUlN,KAEV8Q,EAAc,KACbF,EAAU7kC,UACf4d,EAASkjB,UAAUpC,EAASmG,EAAU7kC,QAAQpM,OAC9CixC,EAAU7kC,QAAQpM,MAAQ,KAS5B,OACE,kBAAKmF,UAAW0oC,GAAYhuC,KAAK,UAAjC,WACE,mBAAMsF,UAAW0oC,GAAYhuC,KAAK,cAAewtB,OAAO,GAAxD,WACE,yBAAiB,YAAZ6jB,EAAwB,cAAgB,qBAC7C,sBAAUvuC,KAAK,SAAStE,GAAG,GAAG+yC,KAAK,KAAKC,KAAK,IAAIn0C,IAAK+zC,EAAWK,WAXpDplC,IACH,UAAVA,EAAE9P,KAAmB8P,EAAEud,UACzBvd,EAAEY,iBACFqkC,SASE,mBAAO/qC,KAAK,SAASpG,MAAM,MAAMqJ,QAAS8nC,QAE5C,kBAAKhsC,UAAW0oC,GAAYhuC,KAAK,kBAAjC,WACE,2BAAiB,YAAZqxC,EAAwB,UAAY,SAAzC,KAAqDpG,EAAQ3kC,SAASjK,OAAtE,QACA,yBACGwH,MAAMiT,KAAKm0B,EAAQ3kC,UAAUnC,KAAIie,IAChC,UAAC,GAAD,CACEA,MAAOA,EACP+H,SAAUA,EAEVkG,MAAOjO,EAAMoH,aAAa,eAAiBkkB,EAAQC,OAAOxtC,OADrDiiB,EAAMoH,aAAa,qBAUhCkoB,GAAoB,EAAGvnB,eAC3B,MAAM,SAAEvV,GAAauV,EAErB,IAAKvV,EAAU,OAAO,KACtB,MAEMuc,EAFOp1B,OAAOs1B,KAAKzc,GAENzQ,KAAI5H,IACrB,MAAMkG,EAAUmS,EAASrY,GACnBgK,EAAO1C,MAAMC,QAAQrB,EAAQ8D,MAAQ1C,MAAQpB,EAAQ8D,KACrD4kC,EAAU1oC,EAAQoW,OAClBqyB,EAAOzoC,EAAQwoC,QAAUxoC,EAAQwoC,QAAUE,EAEjD,IAAKD,EAAM,OAAO,KAClB,GAAIzoC,EAAQ6nC,OAAS7nC,EAAQ6nC,KAAKY,GAAO,OACzC,IAMIlV,EACAvvB,EAPAtG,GAAQ,EASZ,OAPIsC,EAAQtC,MAAOA,EAAQsC,EAAQtC,MAAM+qC,GACP,iBAAlBzoC,EAAQinC,QAAoBvpC,EAAQ+qC,EAAK1hB,aAAa/mB,EAAQinC,QAChE,SAAVvpC,IAAkBA,GAAQ,GAChB,UAAVA,IAAmBA,GAAQ,GAIvBoG,GACN,KAAK1C,MASH,OARAmyB,EAAW3pB,IACoB,mBAAlB5J,EAAQinC,MACjBjnC,EAAQinC,MAAMwB,EAAM7+B,EAAEnQ,OAAOiE,OAE7BgrC,EAAQrB,aAAarnC,EAAQinC,MAAOr9B,EAAEnQ,OAAOiE,OAE/CgqB,EAASjc,WAGT,0BAAc,8BAAQzL,EAAQqF,MAAhB,KAAuB,oBAAQ3H,MAAOA,EAAO61B,SAAUA,EAAhC,SAA2CvzB,EAAQ8D,KAAKpC,KAAIizB,IAC/F,oBAAqBj3B,MAAOi3B,EAA5B,SAAqCA,GAAxBA,WADN76B,GAIb,KAAKytC,QASH,OARAhU,EAAW3pB,IACoB,mBAAlB5J,EAAQinC,MACjBjnC,EAAQinC,MAAMwB,EAAM7+B,EAAEnQ,OAAOq3B,SAE7B4X,EAAQrB,aAAarnC,EAAQinC,MAAOr9B,EAAEnQ,OAAOq3B,QAAU,OAAS,SAElEpJ,EAASjc,WAGT,0BAAc,+BAAO,mBAAO3H,KAAK,WAAWgtB,QAASpzB,EAAO61B,SAAUA,IAAxD,IAAsEvzB,EAAQqF,UAAnFvL,GAEb,KAAK4M,OACL,KAAKisB,OAUH,OATA3uB,EAAOhE,EAAQ8D,OAAS6uB,OAAS,OAAI/tB,EACrC2uB,EAAW3pB,IACoB,mBAAlB5J,EAAQinC,MACjBjnC,EAAQinC,MAAMwB,EAAM7+B,EAAEnQ,OAAOiE,OAE7BgrC,EAAQrB,aAAarnC,EAAQinC,MAAOr9B,EAAEnQ,OAAOiE,OAE/CgqB,EAASjc,WAGT,0BAAc,8BAAQzL,EAAQqF,MAAhB,KAAuB,mBAAOvB,KAAK,OAAOorC,QAAS3b,EAAU71B,MAAOA,EAAOsG,KAAMA,QAAtFlK,OAMjB,OAAK40B,EAAMltB,OAAO+lC,SAAS3tC,QAGzB,gBAAIiJ,UAAW0oC,GAAYhuC,KAAK,YAAhC,UACE,4BACE,iDACA,gBAAIsF,UAAW0oC,GAAYhuC,KAAK,mBAAhC,SACGmxB,SAPiC,MActCygB,GAAmB,EAAGhS,UAASzV,eACnC,MAAM0nB,EAAc1E,GAAO9gC,IACzB,MAAMylC,EAAWzlC,EAAEnQ,OAAOiE,MAAMa,QAAQ,MAAO,IAE/CmsC,EAAIrD,aAAa,QAAS,IAAMgI,GAChC3nB,EAASjc,UAGX,OAAKic,EAAS2iB,QAAQzwC,QAGpB,kBAAKiJ,UAAW0oC,GAAYhuC,KAAK,UAAjC,WACE,4CACCmqB,EAAS2iB,QAAQzwC,OAAS,IAAKujC,aAAA,EAAAA,EAASvjC,QAAS,GAAKujC,EAAQvjC,OAAS8tB,EAAS2iB,QAAQzwC,SACvF,eAAGiJ,UAAW0oC,GAAYhuC,KAAK,gBAA/B,oEAEmB,KAApB4/B,aAAA,EAAAA,EAASvjC,UACR,eAAGiJ,UAAW0oC,GAAYhuC,KAAK,gBAA/B,+HAIDmqB,EAAS2iB,QAAQ3oC,KAAIgpC,IAAG,eACvB,iCACOA,EAAIziB,QAAQqnB,cAChB5nB,EAAS2iB,QAAU,GAAM,QAAOK,EAAI3jB,aAAa,UACjD,UACAoW,aAAA,EAAAA,EAASvjC,QAAS,GAAKujC,EAAQ,KAAOoM,IAAkB,UACzD,qBAAQhW,SAAU6b,EAAY1E,GAAMhtC,MAAK,UAAEgtC,EAAI3jB,aAAa,gBAAnB,aAAE,EAA2BxoB,QAAQ,MAAO,IAArF,UACG4+B,aADH,EACGA,EAASz7B,KAAI6tC,IACZ,oBAAqB7xC,MAAO6xC,EAA5B,SACGA,IAAWhG,GAAiB,kBAAqB,IAAGgG,KAD1CA,OAIbpS,SAAAA,EAASvjC,UACT,oBAAQ8D,MAAK,UAAEgtC,EAAI3jB,aAAa,gBAAnB,aAAE,EAA2BxoB,QAAQ,MAAO,IAAzD,SAA+D,yBAZ7DmsC,EAAI3jB,aAAa,eAdM,MAmCjCyoB,GAAe,EAAGrS,UAAS/1B,SAAQmH,UAASmZ,WAAU+nB,cAAaC,WAAUC,cAAaC,aAAYC,wBAC1G,MAAOC,EAAWC,GAAgBnsC,EAAAA,SAAe4lC,GAAcpiC,GAAU,OAAS,WAC3E4oC,EAAcC,GAAcrsC,EAAAA,SAA6B,WAAdksC,IAC3C7rC,EAAS+xB,GAAcpyB,EAAAA,UAAe,IACtC4S,EAAOuB,GAAYnU,EAAAA,YACnBssC,EAAeC,GAAoBvsC,EAAAA,YACnCwR,EAAMg7B,GAAWxsC,EAAAA,WAClBysC,EAAgBzsC,EAAAA,SAChBgE,EAAMC,KAEZjE,EAAAA,WAAgB,KAEdysC,EAAcvmC,QAAU7C,OAAOZ,YAAW,IAAM8pC,EAAiB/oC,IAAS8oC,EAAgB,IAAM,IACzF,IAAMjpC,OAAOgyB,aAAaoX,EAAcvmC,WAC9C,CAAC1C,IAEJxD,EAAAA,WAAgBsF,UACd,IAAKgnC,EAAe,OAEpB,MAAMzqC,QAAmBmC,EAAIK,QAAS,iBAAiB,CACrD8O,OAAQ,CAAEu5B,GAAI/hC,EAAQxS,IACtBiD,KAAM,CAAE0tC,aAAcwD,GACtBl4B,YAAa,KAAM,IAGrB,GAAIvS,SAAAA,EAAY+Q,MAEd,YADAuB,EAAStS,EAAWiR,UAItBqB,EAAS,MACT63B,SAAAA,EAAanqC,GAEb,MAAM8qC,QAAe3oC,EAAIK,QAAQ,mBAAoB,CACnD8O,OAAQ,CAAEu5B,GAAI/hC,EAAQxS,IACtBiD,KAAM,CAAE0tC,aAAcwD,GACtBl4B,YAAa,KAAM,IAGjBu4B,IAAWA,EAAO/5B,MACpB45B,EAAQG,EAAOC,aAIfz4B,EAASw4B,aAAD,EAACA,EAAQ75B,YAElB,CAACw5B,IAEJtsC,EAAAA,WAAgB,KAAQmU,EAAS,QAAU,CAAC2P,EAAUtgB,IAKtD,MAgBMrD,GACJ,gBAAGlB,UAAW0oC,GAAYhuC,KAAK,aAA/B,yDAEE,oBACA,eAAG6G,KAAK,6BAA6B3K,OAAO,SAA5C,oCAHF,OAQF,OACE,kBAAKoJ,UAAW0oC,GAAhB,WACE,kBAAK1oC,UAAW0oC,GAAYhuC,KAAK,aAAjC,WACE,gCACE,oBAAQwJ,QAAS2oC,EAAjB,+BACA,UAAC,GAAD,CAAahhB,MAAO,CAAEoJ,KAAM,OAAQ2Y,OAAQ,UAAY1wB,OAAQ+vB,EAAWnhB,SA9BlEjxB,IACfqyC,EAAaryC,GACC,WAAVA,GAAoBuyC,GAAW,UA8B/B,kBAAKptC,UAAW0oC,GAAYhuC,KAAK,UAAjC,UACiB,SAAduyC,IACC,iBAAKjtC,UAAW0oC,GAAYhuC,KAAK,QAASuB,MAAO,CAAE4xC,QAAuB,SAAdZ,OAAuBlrC,EAAY,QAA/F,UACE,UAAC,MAAD,CACEvE,KAAK,OACLtE,GAAG,YACH2B,MAAOowC,GAAU1mC,GACjBupC,QAAM,EACN3wC,QAAS,CAAEyT,KAAM,MAAOm9B,MAAO,UAAWC,aAAa,GACvDtd,SAAU,CAACud,EAAQ17B,EAAM1X,IAAU+xC,EAAY/xC,OAIpDsyC,IACC,kBAAKntC,UAAW0oC,GAAYhuC,KAAK,UAAWuB,MAAO,CAAE4xC,QAAuB,WAAdZ,OAAyBlrC,EAAY,QAAnG,UACG4kC,GAAcpiC,KAAW,UAACknC,GAAD,KAC1B,UAACa,GAAD,CAAkBhS,QAASA,EAAS5uB,QAASA,EAASmZ,SAAUA,IAC/DA,EAAS6iB,SAAS7oC,KAAI8mC,IAAW,UAACkG,GAAD,CAAkBlG,QAASA,EAAS9gB,SAAUA,GAAe8gB,EAAQzhB,aAAa,YACpH,UAACkoB,GAAD,CAAmBvnB,SAAUA,WAIZ,IAAtBmoB,GAA8BF,IAC7B,UAAC,WAAD,CAAc3rC,KAAK,QAAQD,MAAqB,SAAd+rC,GAAwB/rC,EAAO05B,OAAK,EAAtE,UACE,UAAC,GAAD,CAAQt5B,KAAK,UAAUH,KAAK,UAAUlF,MAAO,CAAEvE,MAAO,KAAOwM,QAnDxDmC,UACb6O,EAAS,MACTie,GAAW,GACX,MAAM54B,QAAYuyC,IAElB3Z,GAAW,IACC,IAAR54B,GACF2a,EAAS3a,IA4C2E6G,QAASA,EAAvF,wBAMN,UAACunC,GAAD,CAASpkC,OAAQA,EAAQgO,KAAMA,EAAMoB,MAAOA,QAKrCu6B,GAAa,EAAG3pC,OAAQ4pC,EAAgB,GAAI7T,QAAS8T,EAAiB1iC,UAAS2iC,WAAUvB,cAAaC,aAAYC,oBAAmBjlC,QAAO,MACvJ,MAAOxD,EAAQ+pC,GAAcvtC,EAAAA,SAAe,KACrC6P,EAAM29B,GAAWxtC,EAAAA,SAAe,SAChC2pC,EAAe8D,GAAoBztC,EAAAA,SAAe,OAClD4pC,EAAgB8D,GAAqB1tC,EAAAA,SAAe,OACpD8jB,EAAU6pB,GAAsB3tC,EAAAA,SAAe,MAChDgE,EAAMC,KAENR,EAAYzD,EAAAA,aAAkBwD,IAClC+pC,EAAW/pC,GACX8pC,EAAS9pC,KACR,CAAC+pC,EAAYD,IAEVzB,EAAc7rC,EAAAA,aAAkBwD,IACpC,MAAMsiC,EAAM,IAAID,GAAS,CAAEriC,WAE3BsiC,EAAIS,eAAiB9iC,EACrBA,EAAUD,GACVmqC,EAAmB7H,KAClB,CAACriC,EAAWkqC,KAERpU,EAASqU,GAAc5tC,EAAAA,WAE9BA,EAAAA,WAAgB,KAAYqtC,SAAAA,EAAiBr3C,QAAQ43C,EAAWP,KAAqB,CAACA,IAEtFrtC,EAAAA,WAAgBsF,UACd,IAAKqF,GAAW4uB,EAAS,OACzB,MAAM//B,QAAYwK,EAAIK,QAAQ,cAAe,CAC3C8O,OAAQ,CAAEu5B,GAAI/hC,EAAQxS,IAEtBic,YAAa,KAAM,IAGjB5a,SAAAA,EAAKq0C,qBACPD,EAAWp0C,EAAIq0C,uBAEhB,CAACtU,EAAS5uB,IAEb3K,EAAAA,WAAgB,KACVu5B,SAAAA,EAASvjC,QAAU8tB,GACrBA,EAAS8iB,WAAWrN,KAErB,CAACA,EAASzV,IAEb,MAAMslB,EAAiBppC,EAAAA,aAAkBspC,IACvC,IAAKA,EAGH,OAFAoE,EAAkB,WAClBF,EAAQ,QAGV3B,EAAYvC,EAAO9lC,QACnBkqC,EAAkBpE,GAClBkE,EAAQ,WAGJ3D,EAAmB7pC,EAAAA,aAAkB,KACzC6rC,EAAYnG,IACZ8H,EAAQ,WAUV,OAPAxtC,EAAAA,WAAgB,KACVotC,IACFvB,EAAYuB,GACZI,EAAQ,WAET,IAEExmC,GAGH,iBAAK/H,UAAWwrC,GAAa,YAAU,OAAOtyC,GAAG,gBAAjD,UACE,WAACmzB,GAAD,CAAOxxB,MAAO+V,EAAd,WACE,UAAC65B,GAAD,CACEhe,KAAK,OACLie,cAAeA,EACfC,eAAgBA,EAChBE,cAAe2D,EACfrE,eAAgBA,EAChBS,iBAAkBA,KAEpB,UAAC+B,GAAD,CACElgB,KAAK,OACL6N,QAASA,EACT/1B,OAAQA,EACRmH,QAASA,EACTi/B,eAAgBA,EAChB9lB,SAAUA,EACV+nB,YAAaA,EACbC,SAAU0B,EAAQ53C,KAAK,KAAM,QAC7Bo2C,WAAYA,EACZC,kBAAmBA,EACnBF,YAAaA,SAxBH,MCtad+B,GAAc5xC,GAAG,eACjB6xC,GAAgB7xC,GAAG,YAEzB,SAASkqC,GAAQ4H,GACf,MAAO,GAAGrwC,UAAUqwC,GAGtB,SAASC,GAAiBx0C,EAAMc,GAC9B,OAAO,IAAI8K,SAASK,IAElB,GADAnL,EAAOA,GAAQ,GACXd,EAAKy0C,OAAQ,CAEf,GAAqB,MAAjBz0C,EAAKgD,KAAK,GAAY,OAAOiJ,EAAQ,IAEzCA,EAAQ,CAACjM,SACJ,GAAIA,EAAK00C,YAAa,CAE3B,MAAMC,EAAY30C,EAAK40C,eACjBC,EAAU/zC,EAAOd,EAAKgD,KAAO,IAEnC2xC,EAAUG,aAAY,SAASp0C,GAC7BkL,QAAQgR,IAAIlc,EAAQ2D,KAAI0wC,GAASP,GAAiBO,EAAOF,MACtDhqC,KAAK8hC,IACL9hC,KAAKoB,UAuBhB,MAAM2C,GAAS,KAEX,UAAC,UAAD,UACG,KAKDomC,GAAS,EAAGxuC,WAAUyuC,gBAC1B,MAAOC,EAASC,IAActsC,EAAAA,EAAAA,WAAS,GACjCusC,EAAW7oC,IACfA,EAAEY,iBACFgoC,GAAW,IAEPE,EAAUF,EAAWh5C,KAAK,MAAM,GAChCm5C,GAAcz2B,EAAAA,EAAAA,UAEd02B,GAASxsC,EAAAA,EAAAA,cAAYwD,IAlC7B,IAAkBipC,EAmCdjpC,EAAEY,iBACFkoC,KApCcG,EAqCLjpC,EAAEkpC,aAAapkB,MAnCnB,IAAIzlB,SAAQK,IACjB,IAAKupC,EAAMj5C,OAAQ,OAAO0P,EAAQ,IAClC,IAAKupC,EAAM,GAAGE,iBAAkB,OAAOzpC,EAAQupC,GAG/C,MAAM90C,EAAUqD,MAAMiT,KAAKw+B,GAAOnxC,KAAIsxC,GAAQA,EAAKD,qBAEnD9pC,QAAQgR,IAAIlc,EAAQ2D,IAAImwC,KACrB3pC,KAAK8hC,IACL9hC,MAAK+qC,GAAeA,EAAYvxC,KAAIwxC,GAAa,IAAIjqC,SAAQ7L,GAAO81C,EAAUF,KAAK51C,SACnF8K,MAAKirC,GAAgBlqC,QAAQgR,IAAIk5B,KACjCjrC,KAAKoB,OAwBuBpB,MAAK2qC,GAASP,EAAUO,OACtD,CAACH,EAASJ,IAEb,OACE,iBAAKv2C,GAAG,SAAS8G,UAAW8uC,GAAczxC,IAAI,CAAEqyC,YAAY33C,IAAK+3C,EAC/DS,YAAaX,EACbY,WAAYZ,EACZa,YAAaZ,EACbE,OAAQA,EAJV,SAOG/uC,KAKD0vC,GAAe,EAAG/8B,YAAY,MAClC,IAAKA,EAAO,OAAO,KACnB,IAAIzS,EAAK,UAAGyS,EAAMkB,yBAAT,QAA8BlB,EAAMzS,MAGoB,MAA7DA,GAA0B,iBAAVA,IAAuB3C,MAAMC,QAAQ0C,KACvDA,EAAK,UAAGA,EAAM0oC,wBAAT,QAA6BnzC,OAAOk6C,OAAOzvC,IAIlD,OAFI3C,MAAMC,QAAQ0C,KAAQA,EAAQA,EAAMvF,KAAK,QAG3C,kBAAKqE,UAAW6uC,GAAYn0C,KAAK,SAAjC,WACE,UAAC,EAAD,CAAWuB,MAAO,CAAE20C,YAAa,KAChCj9B,EAAMza,IAAO,IAAGya,EAAMza,OACtBya,EAAMgB,QAAUhB,EAAMlR,QACtBvB,GAAU,KAAIA,SAKR2vC,GAAa,EACxBnlC,UACA3D,QAAO,EACP+oC,YACAC,mBACAC,uBACAC,uBAAsB,EACtBC,cACAC,iBACAC,iBACI,QACJ,MAAOC,EAASC,IAAcjuC,EAAAA,EAAAA,WAAS,IAChCsQ,EAAOuB,IAAY7R,EAAAA,EAAAA,aACnBkuC,EAAKC,IAAWnuC,EAAAA,EAAAA,UAAS,IAC1B0B,EAAMC,MAmBLgrC,EAAOhoB,IAAYC,EAAAA,EAAAA,aAjBL,CAACzgB,EAAO0gB,IACvBA,EAAOupB,QACF,IAAKjqC,EAAOkqC,UAAW,IAAIxpB,EAAOupB,WAAYjqC,EAAMkqC,YAEzDxpB,EAAOypB,KACF,IAAKnqC,EAAOkqC,UAAWlqC,EAAMkqC,UAAU/yC,QAAOwyB,IAAMjJ,EAAOypB,KAAKhwC,SAASwvB,MAE9EjJ,EAAO0pB,SACF,IAAKpqC,EAAOoqC,SAAU53C,GAAO,IAAIwN,EAAMoqC,YAAa1pB,EAAO0pB,WAAW,CAACx3C,EAAGC,IAAMD,EAAElB,KAAOmB,EAAEnB,MAO7FsO,GAE0C,CAAEoqC,SAAU,GAAIF,UAAW,KACxEG,EAAWnN,SAAQ,UAAAsL,EAAM4B,gBAAN,eAAgB76C,UAAhB,UAA0Bi5C,EAAM0B,iBAAhC,aAA0B,EAAiB36C,SAE9D+6C,EAAUP,IACdC,EAAQD,GACRR,SAAAA,EAAmBQ,IAGfQ,GAAgBxuC,EAAAA,EAAAA,cAAY8C,UAChC,MAAM2rC,EAAQ,GAEVC,IAEFD,EAAMT,IAAM1/B,KAAK4B,UAAUw+B,IAE7B,MAAMjC,QAAcjrC,EAAIK,QAAQ,cAAe,CAC7C8O,OAAQ,CAAEu5B,GAAI/hC,EAAQxS,MAAO84C,KAO/B,OAJAhqB,EAAS,CAAE4pB,SAAU5B,QAAAA,EAAS,KAC1BA,SAAAA,EAAOj5C,QACT+6C,EAAO93C,GAAO,IAAIu3C,KAAQvB,EAAMnxC,KAAIsyB,GAAKA,EAAEj4B,QAEtC82C,IACN,CAACtkC,IAEEzF,EAAU,KACdqrC,GAAW,GACXp8B,EAAS,OAEL0S,EAAU3jB,IAGd,GAFA8P,QAAQJ,MAAM1P,GAEK,iBAARA,GAAoBA,EAAItC,SAAS,qBAAsB,OAChE,MAAMc,EAAU,2BACVvB,EAAK,UAAG+C,EAAI1I,MAAM,wCAAb,aAAG,EAA6C,GAE3D0I,EAAM,CAAExB,UAASvB,SAEnBgU,EAASjR,GACTqtC,GAAW,GACXR,SAAAA,GAAY,IAERvnC,GAAWhG,EAAAA,EAAAA,cAAYhJ,IAC3B,MAAM,oBAAE23C,EAAF,aAAuBC,EAAvB,gBAAqCF,GAAoB13C,EACzD63C,EAAW,IAAIb,KAAQU,GAO7B,OALAH,EAAOM,GACHF,IAAwBhB,GAAaC,EAAe,UACxDG,GAAW,GACXR,SAAAA,GAAY,GACZM,EAAWe,GACJJ,EAAcK,GAAU/sC,MAAK,IAAMisC,GAAW,OACpD,CAACF,EAAYW,EAAeD,EAAQP,EAAKD,IAEtCnlC,GAAc5I,EAAAA,EAAAA,cAAY8C,MAAO2pC,EAAO7zC,KAC5C6rB,EAAS,CAAEypB,QAASzB,IAEpB,MAAMgC,EAAQf,EAAsB,CAAEoB,kBAAmB,SAAY,GAE/DvhC,EAAc3U,aAAgB8U,SAChC,sBACA,oCACE1W,QAAYwK,EAAIK,QAAQ,cAAe,CAC3C8O,OAAQ,CAAEu5B,GAAI/hC,EAAQxS,MAAO84C,GAC7BjiC,QAAS,CAAE,eAAgBe,GAC3B3U,OACAgZ,YAAa,KAAM,IAGjB5a,IAAQA,EAAIoZ,MAAOpK,SAAAA,EAAWhP,GAC7BqtB,SAAAA,EAAUrtB,aAAH,EAAGA,EAAKsZ,UAEpBmU,EAAS,CAAE2pB,KAAM3B,MAChB,CAACtkC,EAASnC,IAEPkmC,GAAYlsC,EAAAA,EAAAA,cAAYysC,IAC5B/pC,IACA6qC,SAAAA,GAAY,GACZd,EAAQ,IAAIA,GACZ,MAAMsC,EAAK,IAAIrhC,SAEf,IAAK,IAAIkgB,KAAK6e,EAAOsC,EAAGphC,OAAOigB,EAAE3zB,KAAM2zB,GACvC,OAAOhlB,EAAY6jC,EAAOsC,KACzB,CAACnmC,EAAalG,IAEXssC,GAAWhvC,EAAAA,EAAAA,cAAYwD,IAC3B0oC,EAAU1oC,EAAEnQ,OAAOo5C,OACnBjpC,EAAEnQ,OAAOiE,MAAQ,KAChB,CAAC40C,IAEE+C,GAAYjvC,EAAAA,EAAAA,cAAYwD,IAAK,MACjCA,EAAEY,iBACF1B,IACA,MAAM4I,EAAG,UAAG4jC,EAAOxrC,eAAV,aAAG,EAAgBpM,MAE5B,IAAKgU,EAEH,YADAyiC,GAAW,GAGbmB,EAAOxrC,QAAQpM,MAAQ,GACvBi2C,SAAAA,GAAY,GACZ,MAAM30C,EAAO,IAAIo4B,gBAAgB,CAAE1lB,QAEnC1C,EAAY,CAAC,CAAE3O,KAAMqR,IAAQ1S,KAC5B,CAACgQ,KAEJ7G,EAAAA,EAAAA,YAAU,UACYvD,KAAhB2J,aAAA,EAAAA,EAASxS,KACX64C,IAAgB1sC,MAAK2qC,IACfkB,GAEA3yC,MAAMC,QAAQwxC,IAAUA,EAAM0C,MAAK,EAAGvC,UAAW,YAAYjxC,KAAKixC,MACpEgB,EAAe,eAIpB,CAACzlC,EAASqmC,IAEb,MAAMU,GAASp5B,EAAAA,EAAAA,UAEf,IAAK3N,EAAS,OAAO,KACrB,IAAK3D,EAAM,OAAO,KAElB,MAAM4qC,EAAW,CACfn1C,KAAM,MACNyD,KAAM,QACNyvB,SAAU3pB,GAAKoqC,EAAepqC,EAAEnQ,OAAOiE,QAGzC,OACE,kBAAKmF,UAAW6uC,GAAhB,UACGmC,IAAwB,iBAAKhxC,UAAW6uC,GAAYn0C,KAAK,iBAC1D,mBAAOxB,GAAG,aAAa+H,KAAK,OAAOzD,KAAK,OAAOo1C,UAAQ,EAACliB,SAAU6hB,EAAUt2C,MAAO,CAAE4xC,QAAS,WAE9F,gCACE,mBAAM7tC,UAAW6uC,GAAYn0C,KAAK,YAAc,UAAWkU,OAAO,OAAOgoB,SAAU4b,EAAnF,WACE,mBAAO7gB,YAAY,cAAcn0B,KAAK,MAAMzF,IAAK06C,KACjD,oBAAQxxC,KAAK,SAAb,yBAEF,mCACA,qBAAQiD,QAAS,IAAMnI,SAAS82C,eAAe,cAAcC,QAAS9yC,UAAW6uC,GAAYn0C,KAAK,iBAAlG,WACE,UAAC,GAAD,CAAYhD,MAAM,KAAKC,OAAO,KAAKqI,UAAW6uC,GAAYn0C,KAAK,iBADjE,UAEUs1C,EAAM4B,SAAS76C,OAAS,QAAU,GAF5C,YAIA,kBAAKiJ,UAAW6uC,GAAYn0C,KAAK,gBAAgB2C,IAAI,CAAE01C,YAAa/B,EAAsBnf,QAASqf,IAAnG,WACE,iDACA,+BAAO,sBAAWyB,EAAU93C,MAAM,QAAQozB,QAAyB,UAAhBijB,IAAnD,qBACA,+BAAO,sBAAWyB,EAAU93C,MAAM,KAAKozB,QAAyB,OAAhBijB,IAAhD,sBAEF,iBAAKlxC,UAAW6uC,GAAYn0C,KAAK,UAAjC,SACGs1C,EAAM4B,SAAS76C,OACX,GAAEi5C,EAAM4B,SAAS76C,wBAClB,SAIR,UAAC25C,GAAD,CAAc/8B,MAAOA,KAErB,4BACE,WAAC67B,GAAD,CAAQC,UAAWA,EAAW/jC,QAASA,EAAvC,WACImmC,IACA,mBAAOmB,QAAQ,aAAf,UACE,kBAAKhzC,UAAW8uC,GAAcp0C,KAAK,WAAnC,WACE,yDAA8B,mBAA9B,yBACA,UAAC,GAAD,CAAY/C,OAAO,KAAKqI,UAAW8uC,GAAcp0C,KAAK,WACtD,4BACE,mCAAa,kCACb,oCAAc,iEACd,qCAAe,4DACf,mCAAa,6CACb,0CAAoB,uCACpB,6CAAuB,yDAM9Bm3C,IACC,6BACE,8BACG7B,EAAM0B,UAAU7yC,KAAIsxC,IACnB,4BACE,yBAAKA,EAAK3yC,QACV,0BAAI,kBAAMwC,UAAW6uC,GAAYn0C,KAAK,eAAe2C,IAAI,CAAEq0C,WAAW,UAF/DvB,EAAK3yC,QAKfwyC,EAAM4B,SAAS/yC,KAAIsxC,IAClB,4BACE,yBAAKA,EAAKA,QACV,0BAAI,kBAAMnwC,UAAW6uC,GAAYn0C,KAAK,oBACtC,yBAAKy1C,EAAKhvC,SAHHgvC,EAAKA,mBAY1B,UAAC/mC,GAAD,QCjVO6pC,GAAiBvnC,IAC5B,MAAOgmC,EAAWwB,GAAsBnyC,EAAAA,UAAe,IAChDoyC,EAASC,GAAcryC,EAAAA,SAAe,KACtCsyC,EAAUC,GAAevyC,EAAAA,SAAe,KAKxCmwC,EAAaC,GAAkBpwC,EAAAA,WAChCwyC,EAAiC,WAAhBrC,EACjBnsC,EAAMC,KAgCZ,MAAO,CAAEs1B,QA7BO,CAAC,SAAU,MAAM34B,SAASuvC,GAAe,CAfpC,eAeuDmC,EA6B1D3B,YAAW6B,iBAAgBC,aA3BxBntC,UACnB6sC,GAAmB,GACnB,MAAMO,QAAiB1uC,EAAIK,QAAQ,gBAAiB,CAClD8O,OAAQ,CACNu5B,GAAI/hC,EAAQxS,IAEdiD,KAAM,CACJ81C,gBAAiBkB,EACjBO,oBAAqC,UAAhBxC,KAKzB,OADAgC,GAAmB,GACZO,GAckDN,UAASQ,UAXlD,CAChB7C,UAAWoC,EAEXlC,qBAAsBuC,EACtBnC,WA/BiBnF,GAAQqH,GAAYrsC,GAAWjN,GAAOiN,EAAQvI,OAAOutC,MAgCtEiF,cACAC,iBACAJ,iBAAkBqC,EAClBnC,qBAAqB,KCtBnB2C,GAAc,EAAGp2C,OAAMq2C,UAASC,aAAYld,WAAUjjB,QAAO8a,cAAaslB,iBAAgBhsC,QAAO,KAAYA,GACjH,mBAAM/H,UAAW/C,GAAG,gBAAiB25B,SAAU7vB,IAAOA,EAAEY,iBAAkBivB,KAA1E,WACE,kBAAK52B,UAAU,oBAAf,WACE,mBAAOgzC,QAAQ,eAAf,2BACA,mBAAOx1C,KAAK,OAAOtE,GAAG,eAAe2B,MAAO2C,EAAMkzB,SAAU3pB,GAAK8sC,EAAQ9sC,EAAEnQ,OAAOiE,OAAQi2B,OAAQgjB,IACjGngC,IAAS,kBAAM3T,UAAU,QAAhB,SAAyB2T,QAErC,kBAAK3T,UAAU,oBAAf,WACE,mBAAOgzC,QAAQ,sBAAf,0BACA,sBACEx1C,KAAK,cACLtE,GAAG,sBACHy4B,YAAY,uCACZua,KAAK,IACLrxC,MAAO4zB,EACPiC,SAAU3pB,GAAKgtC,EAAehtC,EAAEnQ,OAAOiE,eAf2E,KAqB7Gm5C,GAAgB,EAAGC,cAC9B,MAAOjkB,EAAMkkB,GAAWnzC,EAAAA,SAAe,SAChCK,EAAS+yC,GAAoBpzC,EAAAA,UAAe,GAE7C2K,EC7CuB,MAC7B,MAAM3G,EAAMC,MACL0G,EAAS0oC,GAAcrzC,EAAAA,WAExBszC,EAAoBtzC,EAAAA,aAAkBsF,UAAY,MACtD,MAAMwN,QAAiB9O,EAAIK,QAAQ,YAG7BqG,EAAQ,UAAGoI,aAAH,EAAGA,EAAUygC,eAAb,QAAwB,GAEtC,IAAIC,EADc9oC,EAAS1U,OACK,EAC5By9C,EAAe,gBAAeD,IAGlC,KAAM9oC,EAAS8gB,MAAK,EAAG/pB,WAAYA,IAAUgyC,KAC3CD,IACAC,EAAe,gBAAeD,IAGhC,MAAME,QAAc1vC,EAAIK,QAAQ,gBAAiB,CAC/CjJ,KAAM,CACJqG,MAAOgyC,KAIPC,GAAOL,EAAWK,KACrB,IAMH,OAJA1zC,EAAAA,WAAgB,KACdszC,MACC,IAEI3oC,GDaSgpC,GACV9wB,GAAUC,EAAAA,EAAAA,MACV9e,EAAMC,MAELxH,EAAMq2C,GAAW9yC,EAAAA,SAAe,KAChC4S,EAAOuB,GAAYnU,EAAAA,YACnB0tB,EAAaslB,GAAkBhzC,EAAAA,SAAe,KAC9CwD,EAAQC,GAAazD,EAAAA,SAAe,iBAE3CA,EAAAA,WAAgB,KAAQmU,EAAS,QAAU,CAAC1X,IAE5C,MAAM,QAAE88B,EAAF,UAAWoX,EAAX,eAAsB6B,EAAtB,aAAsCC,EAAtC,UAAoDG,GAAcV,GAAcvnC,GAEhF7L,EAAY5C,GAAG,kBACf03C,EAAW90C,EAAUnF,KAAK,OAC1Bk6C,EAAQ,CACZp3C,MAAM,kBAAMwC,UAAW20C,EAASt3C,IAAI,CAAEuE,WAAY+R,IAA5C,0BACNkhC,QAAQ,kBAAM70C,UAAW20C,EAASt3C,IAAI,CAAEuE,SAAU2xC,IAA1C,yBACRhvC,OAAQ,kBAKVxD,EAAAA,WAAgB,IAAM2K,IAAYlO,GAAQq2C,EAAQnoC,EAAQlJ,QAAQ,CAACkJ,IAEnE,MAAMopC,EAAc/zC,EAAAA,SAAc,KAAM,CACtCyB,MAAOhF,EACPixB,cACAob,aAActlC,KACZ,CAAC/G,EAAMixB,EAAalqB,IAElBwwC,EAAWh0C,EAAAA,aAAkBsF,UAGjC,UAFuBmtC,IAER,OAEfW,GAAiB,GACjB,MAAMtgC,QAAiB9O,EAAIK,QAAQ,gBAAgB,CACjD8O,OAAQ,CACNu5B,GAAI/hC,EAAQxS,IAEdiD,KAAM24C,IAGRX,GAAiB,GAEA,OAAbtgC,GACF+P,EAAQjpB,KAAM,aAAYkZ,EAAS3a,aAEpC,CAACwS,EAASopC,EAAatB,IAmBpBwB,EAAWj0C,EAAAA,aAAkBsF,UACjC8tC,GAAiB,GACbzoC,SAAe3G,EAAIK,QAAQ,gBAAiB,CAC9C8O,OAAQ,CACNu5B,GAAI/hC,EAAQxS,MAGhBi7C,GAAiB,GACjBvwB,EAAQloB,QAAQ,aAChBu4C,SAAAA,MACC,CAACvoC,IAEJ,OACE,UAAC,GAAD,CAAO/C,OAAQqsC,EAAUlsC,YAAU,EAACrB,SAAO,EAACoB,MAAI,EAAC3B,qBAAqB,EAAtE,UACE,kBAAKlH,UAAWH,EAAhB,WACE,WAAC,UAAD,YACE,6CACA,UAAC,GAAD,CAAagsB,MAAO+oB,EAAO13B,OAAQ8S,EAAMlE,SAAUooB,KAEnD,WAAC,GAAD,YACE,UAAC,GAAD,CAAQ5yC,KAAK,SAASH,KAAK,UAAU+C,QAAS8wC,EAAU5zC,QAASA,EAAjE,qBACA,UAAC,GAAD,CAAQE,KAAK,UAAUH,KAAK,UAAU+C,QAAS6wC,EAAU3zC,QAASA,GAAWswC,EAAW9vC,UAAW8J,GAAW6nC,GAAkB5/B,EAAhI,yBAGJ,UAACigC,GAAD,CACEp2C,KAAMA,EACNq2C,QAASA,EACTlgC,MAAOA,EACPmgC,WA7CWztC,UAAY,MAC7B,GAAIsN,EAAO,OACX,MAAMpZ,QAAYwK,EAAIK,QAAQ,mBAAoB,CAChD8O,OAAQ,CACNu5B,GAAI/hC,EAAQxS,IAEdiD,KAAM,CACJqG,MAAOhF,KAIX,GAAIjD,EAAImX,GAAI,OACZ,MAAMzN,QAAY1J,EAAI+Z,OAEtBY,EAAQ,UAACjR,EAAI4Q,yBAAL,aAAC,EAAuBrS,QAgC1Bo0B,SAAUme,EACVtmB,YAAaA,EACbslB,eAAgBA,EAChBhsC,KAAe,SAATioB,KAER,UAAC6gB,GAAD,CAAYnlC,QAASA,EAAS3D,KAAe,WAATioB,KAAuB2jB,KAC3D,UAACzF,GAAD,CAAYxiC,QAASA,EAAS2iC,SAAU7pC,EAAWuD,KAAe,WAATioB,EAAmBsK,QAASA,EAAS0S,mBAAmB,EAAMzoC,OAzIvG,kQ,eEVxB,MAAM0wC,GAAqB,GAErBC,GAAO,KACPp4C,GAKC,IAAIwhB,GAAiB42B,GAEjBC,GAAWD,GAEXE,GAAcF,GAEdG,GAAYH,GAEZI,GAAeJ,GAEtBK,GAAc,GAEX,MAAMC,IAAwBC,EAAAA,GAAAA,IAAcR,IAAoB,KACrE,MAAO52B,EAAaq3B,IAAuBryC,EAAAA,EAAAA,UAAS4xC,IAgDpD,OA9CAM,GAAcl3B,EACdC,GAAkBq3B,IAChB,MAAMC,EAAS,IAAKD,QAAAA,EAAa,IAEjCD,EAAoBE,GACpBL,GAAcK,GAGhBT,IAAW5xC,EAAAA,EAAAA,cAAasyC,IACtB,IAAKj7C,GAAUi7C,aAAD,EAACA,EAAO5+C,KAAM,MAAMgc,MAAM,yBACxC,MAAM2iC,EAAS,IAAIL,GAAaM,GAEhCv3B,GAAes3B,GACfL,GAAcK,IACb,CAACv3B,IAEJ+2B,IAAc7xC,EAAAA,EAAAA,cAAatM,IACzB,MAAM2+C,EAASL,GAAY52C,QAAO6tB,GAAKA,EAAEv1B,MAAQA,IAEjDqnB,GAAes3B,GACfL,GAAcK,IACb,CAACv3B,IAEJg3B,IAAY9xC,EAAAA,EAAAA,cAAY,CAACtM,EAAKiN,KAC5B,MAAM0xC,EAASL,GAAY12C,KAAIg3C,GACzBA,EAAM5+C,MAAQA,EACT,IAAI4+C,EAAO3xC,QAASA,GAEtB2xC,IAGTv3B,GAAes3B,GACfL,GAAcK,IACb,CAACv3B,IAEJi3B,IAAe/xC,EAAAA,EAAAA,cAAatM,IAC1B,MAAM2+C,EAASL,GAAY12C,KAAIg3C,IACzBA,EAAM5+C,MAAQA,UAAY4+C,EAAM3xC,QAE7B2xC,KAGTv3B,GAAes3B,GACfL,GAAcK,IACb,CAACv3B,IAEGA,KC5DIy3B,GAAQ,KACnB,MAAMlyB,GAAUC,EAAAA,EAAAA,MACV9U,EAAW4a,KACX9e,GAAQwO,EAAAA,EAAAA,UACR08B,EhBgBkB,MACxB,MAAMnyB,GAAUC,EAAAA,EAAAA,OACV,SAAE3U,GAAaya,KAYrB,OAVgBpmB,EAAAA,EAAAA,cAAayyC,IAC3BpyB,EAAQloB,QAAQ,KAEhB8H,YAAW,KACTogB,EAAQloB,QAAQs6C,QAAAA,EAAgB9mC,KAC/B,IAEIA,IACN,CAACA,KgB5BY+mC,IACV,QAACvqC,GAAWwqC,MACX90C,EAAS+yC,IAAoB9wC,EAAAA,EAAAA,WAAS,GACvC0B,EAAMC,MAEN,UAAE0sC,EAAF,eAAa6B,EAAb,aAA6BC,EAA7B,QAA2CL,EAA3C,UAAoDQ,GAAcV,GAAcvnC,GAEhFyqC,GAAW5yC,EAAAA,EAAAA,cAAY,KAC3B,MAAMjI,EAAOyT,EAASG,SAASxT,QAAQ06C,GAAY96C,KAAM,IACnD0T,EAASD,EAASC,OAGxB,OAAO+mC,EAFW,GAAEz6C,IAAkB,MAAX0T,EAAiBA,EAAS,QAGpD,CAACD,EAAU6U,IAERjZ,GAAWpH,EAAAA,EAAAA,cAAY8C,UAAY,MACvC8tC,GAAiB,SACXpvC,EAAIK,QAAQ,oBAAqB,CACrC8O,OAAQ,CACNu5B,GAAI/hC,EAAQxS,IAEdiD,KAAM,CACJ81C,gBAAiBkB,KAGrBgB,GAAiB,GACjBtpC,SAAA,UAAAA,EAAO5D,eAAP,SAAgBM,OAChB4uC,MACC,CAACtrC,EAAOa,EAASynC,EAASgD,IAEvB5sC,GAAWhG,EAAAA,EAAAA,cAAY8C,gBACJmtC,KAEvB2C,MACC,CAACA,EAAU3C,IAEd,OACE,WAAC,GAAD,CACEhxC,MAAM,cACNzK,IAAK8S,EACLlC,OAAQ,IAAMwtC,IACdjvC,qBAAqB,EACrB4B,YAAU,EACVrB,SAAO,EACPoB,MAAI,EAPN,WASE,WAAC,UAAD,CAAca,SAAO,EAArB,WACE,UAAC,GAAD,CAAMxM,MAAM,QAAQM,KAAK,QAAzB,0BAEA,WAAC,GAAD,YACE,UAAC,GAAD,CAAQ4D,QAASA,EAAS8C,QAASyG,EAAnC,qBACA,UAAC,GAAD,CAAQrJ,KAAK,UAAU4C,QAASqF,EAAUnI,QAASA,GAAWswC,EAAW9vC,SAAU2xC,EAAnF,2BAKJ,UAAC1C,GAAD,CAAYnlC,QAASA,KAAaioC,QAI3ByC,GAAc,KAEvB,UAACC,GAAD,WACE,UAACP,GAAD,MAKNM,GAAY96C,KAAO,UACnB86C,GAAYvrC,OAAQ,ECrFpB,MCuBOxL,MAAD,GAAQC,KAAIA,IAAIC,KAIT+2C,GAAa,KACxB,MAAM1yB,GAAUC,EAAAA,EAAAA,MACV9U,EAAW4a,KACX4sB,EAAaC,KACbzxC,EAAMC,MAELyI,EAAiBgpC,IAAsBpzC,EAAAA,EAAAA,UAAS,KAChDqzC,EAAaC,IAAkBtzC,EAAAA,EAAAA,WAAS,IACxCuzC,EAAoBC,IAAyBxzC,EAAAA,EAAAA,WAAS,IACtDyzC,EAAkBC,IAAuB1zC,EAAAA,EAAAA,UAAS,KAClD2zC,EAAeC,IAAoB5zC,EAAAA,EAAAA,UAAS,QAG7C6zC,GAAO79B,EAAAA,EAAAA,UAoGb,OAlEA/T,EAAAA,EAAAA,YAAU,KACJ1K,GAAU27C,EAAWr9C,MACvB6L,EAAIK,QAAQ,kBAAmB,CAC7B8O,OAAQ,CACNu5B,GAAI8I,EAAWr9C,MAEhBmM,MAAK,EAAE8xC,mBACRV,EAAmBU,EAAankC,MAAM,EAAG,OAG3CjO,EAAIK,QAAQ,gBAAiB,CAC3B8O,OAAQ,CACNu5B,GAAI8I,EAAWr9C,MAEhBmM,MAAK+xC,IAAW,MACjBL,EAAoBK,GACpBH,EAAgB,UAACG,EAAQ,UAAT,aAAC,EAAY55C,YAGhC,CAAC+4C,KAgDF,UAAC,GAAD,CACE5tC,OAAQ,KACN,MAAMrN,EAAOyT,EAASG,SAASxT,QAAQ46C,GAAWh7C,KAAM,IAClD0T,EAASD,EAASC,OACxB4U,EAAQloB,QAAS,GAAEJ,IAAkB,MAAX0T,EAAiBA,EAAS,OAEtDxM,MAAM,cACNvG,MAAO,CAACvE,MAAO,KACfwP,qBAAqB,EACrBC,YAAauvC,EAEbjvC,SAAO,EAXT,UAaE,WAAC,GAAD,CAAOjK,KAAK,cAAZ,WACE,UAAC65C,GAAD,CACEP,iBAAkBA,EAClBn6B,SAAUq6B,EACV9yC,QAASwkB,GAAUuuB,EAAiBvuB,EAAOlrB,SAG7C,UAAC,GAAD,CAAMzF,IAAKm/C,EAAX,UACE,UAAC,GAAD,CAAOj2C,KAAK,SAASzD,KAAK,aAAa3C,MAAOm8C,OAWhD,UAAC,GAAD,CAAMx5C,KAAK,SAAX,UACE,WAAC,GAAD,CAAOvB,MAAO,CAACvE,MAAO,QAAS0K,QAAM,EAArC,WACE,UAAC,GAAD,CAAM5E,KAAK,YAGX,UAAC,GAAD,CAAMA,KAAK,UAAX,UACE,WAAC,GAAD,WACGo5C,GACC,sDAEF,UAAC,GAAD,CACEj3C,IAAKmB,GACLtD,KAAK,SACL8D,KAAK,UACL4C,QAjJMmC,UACpBswC,GAAe,GAEf,MAAMl0C,EAAUe,YAAW,KACzBqzC,GAAsB,KACrB,KAEG3iC,EAASgjC,EAAKjwC,QAAQwwB,iBAAiB,CAC3CC,QAAQ,EACRC,MAAM,EACNC,mBAAmB,IAGf/jB,QAAiB9O,EAAIK,QAAQ,YAAa,CAC9C8O,OAAQ,CACNu5B,GAAI8I,EAAWr9C,MACZgb,KAIP,GAAIL,EAASnC,GAAI,CA9CA,EAACuO,EAAMq3B,KAC1B,MAAMpgC,EAAOnb,SAASC,cAAc,KACpCkb,EAAK3V,KAAOuN,IAAIqR,gBAAgBF,GAChC/I,EAAKqgC,SAAWD,EAChBpgC,EAAK47B,SA4CD0E,OADmB3jC,EAASoM,OACTpM,EAAS9D,QAAQgB,IAAI,kBAExChM,EAAI+P,YAAYjB,GAGlB8iC,GAAe,GACfE,GAAsB,GACtBzgB,aAAa3zB,IAqHCrB,QAASs1C,EALX,oCAkBVW,GAAa,EAAEP,mBAAkBn6B,WAAUzY,cAE7C,WAAC,GAAD,CAAO1G,KAAK,UAAZ,WACE,UAAC,GAAD,CAAMA,KAAK,OAAX,sEACA,UAAC,GAAD,CAAMA,KAAK,OAAX,SACGs5C,EAAiBj4C,KAAI6pB,IAAM,eAC1B,WAAC,GAAD,CAEElrB,KAAK,OACLH,IAAK,CACH6f,QAASwL,EAAO9mB,SAChB+a,SAAU+L,EAAOlrB,OAASmf,GAE5BzY,QAAUwkB,EAAO9mB,SAAmC,KAAxB,IAAMsC,EAAQwkB,GAP5C,WASE,WAAC,GAAD,CAAMlrB,KAAK,OAAX,UACGkrB,EAAOlmB,OAER,UAAC,GAAD,CAAOrB,KAAK,QAAZ,mBACGunB,EAAO2e,YADV,iBACG,EAAaxoC,WADhB,aACG,UAAmB,CAACc,EAAKie,KACxB,UAAC,GAAD,CAAkBpgB,KAAK,MAAvB,SAA8BmC,GAAnBie,UAKhB8K,EAAO+F,cAAe,UAAC,GAAD,CAAMjxB,KAAK,cAAX,SAA0BkrB,EAAO+F,gBAlBnD/F,EAAOlrB,YAsBlB,WAAC,GAAD,CAAMA,KAAK,WAAX,0CAEE,mBAFF,0BAGwB,eAAGwC,UAAU,QAAQuB,KAAK,+DAA1B,mBAHxB,+BAGqJ,eAAGvB,UAAU,QAAQuB,KAAK,+DAA1B,8BAM3J+0C,GAAWh7C,KAAO,UAClBg7C,GAAWzrC,OAAQ,EC9OZ,MAAM4sC,GAAY,CACvBvsC,QAAS,UACTC,UAAW,CAETO,QAAS,WAGT4uB,QAAS,WAGTod,KAAM,SAGNC,UAAW,cAGXC,UAAW,sBAGXC,UAAW,uBAGX1O,YAAa,4BAGbD,KAAM,oBAGN4O,MAAO,YAGPC,SAAU,cAGVC,WAAY,sBAGZC,SAAU,CACRrpC,OAAQ,OACRtT,KAAO4Y,IACL,MAAMgkC,EAAW,gCAGjB,OAFyBt9C,GAAUsZ,EAAOikC,cAEjBD,EAAY,GAAEA,oBAK3CE,iBAAkB,qCAGlBC,iBAAkB,sCAGlBC,iBAAkB,uCAGlBC,iBAAkB,oCAGlBC,gBAAiB,qCAGjBC,QAAS,WAGTC,mBAAoB,sCAGpBC,aAAc,kBClBZC,GAAY,CAACt9C,EAAM4Y,KAChB2kC,EAAAA,EAAAA,IAAc,gBAAev9C,IAAQ4Y,GAGjC4kC,GAAkB,KAAMthD,MACnC,MAAMoG,GAAOyb,EAAAA,EAAAA,UACPnF,EAASsiC,KACT5yB,GAAUC,EAAAA,EAAAA,MACV9e,EAAMC,MACN,QAAE0G,GAAYwqC,KACdtN,EAAcrxB,GAAW,OACzBwhC,EAAcxhC,GAAW,MACzByhC,EAAkBC,MACjBC,EAASC,IAAc91C,EAAAA,EAAAA,WAAS,GACjC+1C,GAAiB//B,EAAAA,EAAAA,UACjBggC,EAAY3tC,aAAH,EAAGA,EAASxS,GAErB6M,GAAOxC,EAAAA,EAAAA,cAAY8C,UAAY,MACnC,IAAKuiC,EAAa,OAClB,IAAKmQ,EAAa,OAClB,IAAKn7C,EAAKqJ,QAAS,OACnB,GAAKyE,UAAAA,EAASxS,GAAI,OAClB,GAAIkgD,EAAenyC,QAAS,OAE5B,MAAM8F,QAAmBhI,EAAIK,QAAQ,aAAc,CACjD8O,OAAQ,CAAExI,QAASA,EAAQxS,MAGvBogD,GAAqBvsC,QAAAA,EAAc,IAAIwf,MAAK,EAAGgtB,oBAAqBA,IAEpEC,EAAeJ,EAAenyC,QAAf,UAAyBmyC,EAAenyC,eAAxC,aAhEKZ,OAAOzI,EAAMpG,EAAO0c,KAChD,IAAK9P,OAAOwkC,YAAa,MAAM31B,MAAM,mDACrC,IAAKrV,GAAQA,EAAKmZ,QAAQ0iC,cAAe,OAEzC77C,EAAKmZ,QAAQ0iC,eAAgB,EAE7B,SAAWnqC,GAAa1R,EAAKmZ,QAEvB2iC,EAAW,CACf97C,OACAy7C,UAAWnlC,EAAOhb,GAClBygD,WAAa,GAAEv1C,OAAO5I,aAAaC,kBACnCm+C,WAAY,EACZluC,QAASwI,EAAOxI,QAChBmuC,SAAUz1C,OAAO5I,aACjBs+C,cAAc,EACdC,aAActC,GAAUtsC,UACxB89B,WAAY,CACV4L,QAAQ,EACRrnC,QAAQ,EACRwsC,YAAY,EACZC,gBAAgB,EAChBC,eAAgBhmC,EAAOgmC,gBAEzBC,YAAa,CACXC,OAAQh2C,OAAO5I,aAAa6+C,kBAE3B7iD,KACA8X,GAGL,OAAO,IAAIlL,OAAO20C,YAAYW,IAiCkDY,CAC5E18C,EAAKqJ,QACLzP,EACA,IACK0c,EACHxI,UACAwuC,eAAgBt/C,GAAU0+C,KAI9B7iD,OAAOC,OAAO0N,OAAQ,CAAEo1C,gBAExBA,EAAYe,GAAG,SAAS,IAAMpB,MAE9BK,EAAYe,GAAG,mBAAmB,KAChC32B,EAAQjpB,KAAKi+C,GAAU,qBAAsB,CAAE1/C,GAAIgb,EAAOhb,SAG5DsgD,EAAYe,GAAG,iBAAiB,KAC9B32B,EAAQjpB,KAAKi+C,GAAU,eAAgB,CAAE1/C,GAAIgb,EAAOhb,SAGtDsgD,EAAYe,GAAG,iBAAiB,KAC9B32B,EAAQjpB,KAAKi+C,GAAU,eAAgB,CAAE1/C,GAAIgb,EAAOhb,SAGtDsgD,EAAYe,GAAG,SAAS1mC,IACtB9O,EAAI+P,YAAYjB,MAGdylC,GACFE,EAAYe,GAAG,6BAA6B,CAACC,EAAKtQ,KAChD,MAAM,IAAEpB,EAAF,KAAOI,EAAMuR,kBAAmBzC,GAAewB,EAAY1Q,IAC3DyI,EAAMrH,EAAMrrC,KAAIrF,GAAKA,EAAEN,KACvBoR,EAAS0tC,EAAW0C,sBAAsB/7C,QAAQpE,GAAQg3C,EAAI5vC,SAASpH,EAAIrB,MAE3EyhD,EAAqB51C,EAAIK,QAAQ,gBAAiB,CACtD8O,OAAQ,CAAEu5B,GAAI6L,EAAkBpgD,IAChCiD,KAAM,CACJ+sC,KAAMA,EAAKhwC,GACXsG,QAAS,CAAE8K,aAIfw+B,EAAI8R,gBAAgBD,GAAqB9mC,GACnCA,EAAStB,KACJsB,EAAStB,KAAKjI,OAGhB,QAKb0uC,EAAgB,CAAE6B,MAAOrB,MACxB,CAAC5Q,EAAamQ,EAAaM,IAExByB,GAAYv3C,EAAAA,EAAAA,cAAY,KACxB61C,EAAenyC,UACjBmyC,EAAenyC,QAAQ+hC,UACvBoQ,EAAenyC,QAAU,QAE1B,CAACmyC,IASJ,OAPA9zC,EAAAA,EAAAA,YAAU,KACRS,IAEO,IAAM+0C,MACZ,CAACl9C,EAAMmI,IAGLgzC,GAAgBnQ,EAedsQ,GACL,WAAC,GAAD,CAAO17C,KAAK,QAAZ,WACE,UAAC,GAAD,CAAMA,KAAK,OAAX,qDAEA,UAAC,GAAD,CAAQuf,GAAG,YAAX,kCAKF,UAAC,GAAD,CAAOhlB,IAAK6F,EAAMJ,KAAK,iBAtBrB,iBAAKvB,MAAO,CACV8+C,KAAM,EACNrjD,MAAO,OACPC,OAAQ,OACRk2C,QAAS,OACTmN,WAAY,SACZC,eAAgB,UANlB,UAQE,UAAC,GAAD,CAAS95C,KAAM,QAkBvB23C,GAAgBx9C,KAAO,QACvBw9C,GAAgBoC,MAAQ,CACtB5E,WADsB,GAEtBF,YAAWA,IAEb0C,GAAgBt5C,QAAU,EAAGq7C,YAAY,MACvC,MAAM9rC,EAAW4a,MACX,QAAEje,GAAYwqC,MACbtlC,EAAM29B,IAAWlrC,EAAAA,EAAAA,UAAQ,UAACw3C,aAAD,EAACA,EAAOjqC,YAAR,QAAgB,YAE1CuqC,EAAQ,CACZ,aAAajwB,EAAAA,GAAAA,GAAE,aAoCXkwB,EAAmBC,IACvB9M,EAAQ8M,GAlCYA,KACpB,MAAMC,EAA6B,aAAhBD,EACbE,EAASxsC,EAASG,SAASxT,QAAQo9C,GAAgBx9C,KAAM,IAE3DggD,GACFhG,GAAaiG,GACbnG,GAAY,cAEZC,GAAUkG,GAASx0C,IAAM,QACvBA,EAAEY,iBACFZ,EAAEW,kBACFmzC,SAAA,UAAAA,EAAOrlC,aAAP,mBAAcgmC,qBAAd,oBAEFrG,GAAS,CACPl+C,IAAK,WACLuL,MAAO,eAoBXi5C,CAAaJ,GAfkBA,KAC/B,MAAMK,EAAgC,gBAAhBL,GAChB,mBAAEM,EAAF,iBAAsBC,GAAqBlwC,EAE7CgwC,GAAiBE,GAAoBD,GACvC9wC,GAAM,CACJrI,MAAO,wBACPrG,MAAM,iBAAKwH,wBAAyB,CAAEC,OAAQ+3C,KAC9C1/C,MAAO,CAAEvE,MAAO,QAQpBmkD,CAAwBR,IAa1B,OAVA/1C,EAAAA,EAAAA,YAAU,KACJu1C,GACFA,EAAMN,GAAG,cAAea,GAGnB,KAAM,MACXP,SAAA,UAAAA,EAAOiB,WAAP,cAAAjB,EAAa,cAAeO,MAE7B,CAACP,EAAOnvC,IAEJA,GAAWA,EAAQxS,IACxB,WAAC,GAAD,CAAOiI,KAAK,QAAZ,UACIuK,EAAQiwC,oBAA+B,aAAT/qC,IAC9B,UAAC,GAAD,CAAQzP,KAAK,UAAU+C,QAAS,KAC9B2G,GAAM,CACJrI,MAAO,eACPrG,KAAM,KAAM,iBAAKwH,wBAAyB,CAAEC,OAAQ8H,EAAQiwC,yBAHhE,0BAUDllD,OAAOyE,QAAQigD,GAAOt8C,KAAI,EAAEvD,EAAMwhB,MACjC,UAAC,GAAD,CAEEnd,IAAKo8C,GAAAA,GACL56C,KAAK,UACL4b,GAAK,aAAYrR,EAAQxS,KAAKoC,IAC9B,mBALF,SAOGwhB,GANIxhB,QAUT,MC9QN,MCWa0gD,GAAqB,EAAEhH,cAC3BnqC,GAAM,CACXrI,MAAO,SACPrG,KAAM,KACSwN,KAAb,MACM9J,EAAY5C,GAAG,wBACrB,OAAQ,iBAAK+C,UAAWH,EAAhB,UACN,iBAAKG,UAAWH,EAAUnF,KAAK,cAA/B,2FAMJkN,OAAQ,KACN,MAAMq0C,EAAOtyC,KACP9J,EAAY5C,GAAG,wBACrB,OAAO,WAAC,GAAD,CAAOqF,MAAM,MAAb,WACL,UAAC,GAAD,CACEtC,UAAWH,EAAUnF,KAAK,gBAC1BwJ,QAAS,KAAK+3C,EAAK10C,QAFrB,qBAKA,UAAC,GAAD,CACEjG,KAAK,cACLtB,UAAWH,EAAUnF,KAAK,gBAC1BwJ,QACEmC,gBACQ2uC,IACNiH,EAAK10C,QANX,wBAYJtL,MAAO,CAAEvE,MAAO,OCsCpB,GAvEoB,EAAGwkD,iBAAgBC,eAAcxuC,WAAUyuC,oBAE7D,MAAMr3C,EAAMC,KAEZ,GAAiB,OAAb2I,EAAmB,OAAO,0BAE9B,MAAM0uC,GAAiB94C,EAAAA,EAAAA,cAAa8C,UAClC,IAAIxL,EAAQyhD,EAAM1lD,OAAOq3B,cACnBlpB,EAAIK,QAAQ,gBAAiB,CACjC8O,OAAQ,CACNu5B,GAAI6O,EAAM1lD,OAAO4G,MAEnBrB,KAAM,CACJogD,UAAW1hD,WAGTuhD,MACL,CAACr3C,IAEJ,OAAO,WAAC,GAAD,CAAOvH,KAAK,UAAZ,WACL,UAAC,GAAD,CAAMA,KAAK,WAAX,UACE,UAAC,GAAD,CAAQ0G,QAASi4C,EAAjB,4BAIF,UAAC,GAAD,UACuB,IAApBxuC,EAAS5W,OACR,MAEA,UAAC,GAAD,CAAOyG,KAAK,eAAZ,SAEImQ,EAAS9O,KACNgpC,IAAQ,WAAC,GAAD,CAAmBrqC,KAAK,OAAxB,WACP,UAAC,GAAD,CAAMA,KAAK,cAAX,UACE,UAAC,GAAD,CACEA,KAAMqqC,EAAI3uC,GACV+0B,QAAS4Z,EAAI0U,UACb7rB,SAAU2rB,OAGd,UAAC,GAAD,CAAM7+C,KAAK,WAAW0G,QAAS,IAAMg4C,EAAerU,EAAI3uC,IAAxD,SACG2uC,EAAIh5B,OAEP,WAAC,GAAD,CAAMrR,KAAK,YAAX,sBACWkrB,EAAAA,GAAAA,GAAO,IAAIC,KAAKkf,EAAI2U,YAAa,0BAE5C,WAAC,GAAD,CAAMh/C,KAAK,eAAX,WACE,UAAC,GAAD,CACE0G,QAAS,IAAMg4C,EAAerU,EAAI3uC,IAClCmI,MAAM,UAAC,GAAD,IAFR,mBAIA,UAAC,GAAD,CACE6C,QAAS,IAAK83C,GAAmB,CAC/BhH,SAAU3uC,gBACFtB,EAAIK,QAAQ,gBAAiB,CAAC8O,OAAO,CAACu5B,GAAG5F,EAAI3uC,YAC7CkjD,OAGV96C,KAAK,SACLD,MAAM,UAAC,EAAD,IARR,yBAnBgBwmC,EAAI3uC,c,eC7BtC,MA6PA,GA7PsB,EAAG0U,UAASI,eAAcouC,gBAAeK,SAAQP,qBAIrE,MAAMr8C,EAAY5C,GAAG,kBAEf8H,EAAMC,MACL+K,EAAS2sC,IAAcr5C,EAAAA,EAAAA,UAAS5M,OAAOyE,SAAQ0S,aAAA,EAAAA,EAASmC,UAAW,MACnE4sC,EAAmBC,IAAwBv5C,EAAAA,EAAAA,WAASuK,GAAUA,EAAQivC,uBACtEpE,EAASqE,IAAcz5C,EAAAA,EAAAA,UAAS,IAAImT,IAAI5I,aAAR,EAAQA,EAAS6qC,WACjDsE,EAAUC,IAAe35C,EAAAA,EAAAA,WAASuK,GAAUA,EAAQ2uC,YACpDU,EAAaC,IAAkB75C,EAAAA,EAAAA,WAASuK,GAAUA,EAAQuvC,eAE3D,QAAEzxC,GAAYwqC,MAEbmD,EAAW+D,IAAgB/5C,EAAAA,EAAAA,UAASqI,EAAQxS,KAEnDoM,EAAAA,EAAAA,YAAU,KAC4B,IAAhC7O,OAAOs1B,KAAKrgB,GAAS3U,OACvBqmD,EAAa,MAEbA,EAAa1xC,EAAQxS,MAGtB,CAACwS,IAEJ,MAQM2xC,EAAiB,CAACC,EAAKhB,EAAO1+B,KAClC,IAAI2/B,GAAaC,EAAAA,GAAAA,WAAUztC,GACf,QAARutC,IACFC,EAAW3/B,GAAO,GAAK0+B,EAAM1lD,OAAOiE,OAE1B,UAARyiD,IACFC,EAAW3/B,GAAO,GAAK0+B,EAAM1lD,OAAOiE,OAEtC6hD,EAAWa,IAGPE,EAAkBnB,IACtB,IAAIoB,EAAa,IAAIlnC,IAAIiiC,GACrB6D,EAAM1lD,OAAOq3B,QACfyvB,EAAWhnC,IAAI4lC,EAAM1lD,OAAO4G,MAE5BkgD,EAAWrsC,OAAOirC,EAAM1lD,OAAO4G,MAEjCs/C,EAAWY,IAmBb,OAhBAp4C,EAAAA,EAAAA,YAAU,KACR,GAAgB,OAAZsI,EAMF,OALA8uC,EAAW,IACXE,GAAqB,GACrBE,EAAW,IAAItmC,KACfwmC,GAAY,QACZE,GAAe,GAGjBR,EAAWjmD,OAAOyE,QAAQ0S,EAAQmC,UAClC6sC,EAAqBhvC,EAAQivC,sBAC7BC,EAAW,IAAItmC,IAAI5I,EAAQ6qC,UAC3BuE,EAAYpvC,EAAQ2uC,WACpBW,EAAetvC,EAAQuvC,gBACtB,CAACvvC,SAEY7L,IAAZs3C,GAA8B,2BAC3B,WAAC,GAAD,CAAO77C,KAAK,UAAZ,WACL,UAAC,GAAD,CAAMA,KAAK,QAAX,UACE,mCAAE,UAAC,GAAD,CACAmC,IAAI,OACJnC,KAAK,aACL0G,QAAS,KAAKg4C,EAAe,OAH7B,sBAAF,QAKuB,OAAVtuC,EAAgB,cAAgB,qBAE/C,UAAC,GAAD,CAAMpQ,KAAK,UAAX,UACE,UAAC,GAAD,CAAOA,KAAM,iBAAb,UACE,WAAC,GAAD,CACE0qB,OAAkB,OAAVta,EAAiB,gBAAmB,gBAC5CsG,OAAkB,OAAVtG,EAAiB,GAAK,CAAE6/B,GAAI7/B,EAAQ1U,IAC5Coa,SAAU1F,EACVyqB,YAAc9lB,IACL,IACFA,EACH,QAAW8mC,EACX,qBAAwBsD,EACxB,QAAWlmD,OAAO2E,YAAY2U,EAAQpR,QAAO,EAAE1H,KAAc,KAAPA,KACtD,QAAWsH,MAAMiT,KAAKinC,GACtB,UAAasE,EACb,aAAgBE,IAGpBrmB,SAAUvwB,UACHwN,EAAS8pC,sBACNvB,IACNF,EAAe,QAlBrB,WAsBE,WAAC,OAAD,CACEjgD,MAAO,CAAC2hD,aAAc,QACtB9kB,YAAa,EAFf,WAIE,UAAC,GAAD,CAAOj9B,KAAK,cAAcI,MAAO,CAAC4hD,WAAY,SAAUnvB,OAAK,KAC7D,WAAC,GAAD,CAAO1uB,UAAWH,EAAUnF,KAAK,aAAjC,WACE,UAAC,GAAD,CACE8C,KAAK,MACLwC,UAAWH,EAAUnF,KAAK,aAC1Bi3B,YAAY,SACd,WAAC,GAAD,CAAOrvB,MAAM,MAAMtC,UAAWH,EAAUnF,KAAK,aAA7C,WACE,kBAAMsF,UAAWH,EAAUnF,KAAK,cAAhC,wBACA,UAAC,GAAD,CACEuyB,MAAI,EACJgB,QAAS8uB,EACTrsB,SAAW3pB,IAAQi2C,EAAYj2C,EAAEnQ,OAAOq3B,sBAKhD,UAAC,OAAD,CAAUhyB,MAAO,CAAC2hD,aAAc,QAAS9kB,YAAa,EAAtD,UACE,iBAAK94B,UAAWH,EAAUnF,KAAK,WAA/B,UACE,kBAAKsF,UAAWH,EAAUnF,KAAK,mBAA/B,WACE,WAAC,GAAD,CAAO0H,QAAM,EAACpC,UAAWH,EAAUnF,KAAK,mBAAxC,WACE,UAAC,GAAD,CAAOmB,KAAK,UAAU6yB,OAAK,KAC3B,UAAC,GAAD,CACEztB,KAAK,SACLiD,QA1GO,KACvBw4C,EAAW,IAAI3sC,EAAS,CAAC,GAAI,OA0Gb/P,UAAWH,EAAUnF,KAAK,eAC1B2G,MAAM,UAAC,GAAD,SAIR0O,EAAQlR,KAAI,EAAEi/C,EAASC,GAAYngC,KAC1B,WAAC,GAAD,CAAmB5d,UAAWH,EAAUnF,KAAK,eAAgBo+B,YAAa,EAA1E,WACL,UAAC,GAAD,CAAO94B,UAAWH,EAAUnF,KAAK,iBAC/BuyB,MAAI,EACJ0E,YAAY,SACZ92B,MAAOijD,EACPptB,SAAW3pB,GAAMs2C,EAAe,MAAOt2C,EAAG6W,MAC5C,UAAC,GAAD,CAAO5d,UAAWH,EAAUnF,KAAK,iBAC/BuyB,MAAI,EACJ0E,YAAY,QACZ92B,MAAOkjD,EACPrtB,SAAW3pB,GAAMs2C,EAAe,QAASt2C,EAAG6W,MAC9C,2BACE,UAAC,GAAD,CAAQ5d,UAAWH,EAAUnF,KAAK,kBAChCuG,KAAK,SACLI,MAAM,UAAC,EAAD,IACN6C,QAAS,IA7HT0Z,KACtB,IAAI2/B,GAAaC,EAAAA,GAAAA,WAAUztC,GAC3BwtC,EAAWS,OAAOpgC,EAAO,GACzB8+B,EAAWa,IA0H0BU,CAAergC,SAfjBA,aAuB7B,WAAC,GAAD,CAAOpgB,KAAK,kBAAkBvB,MAAO,CAAC2hD,aAAc,QAApD,WACE,UAAC,GAAD,CAAMpgD,KAAK,QAAX,UACE,UAAC,GAAD,CAAO3B,KAAK,UAAU6yB,OAAK,OAE7B,WAAC,GAAD,CAAMlxB,KAAK,UAAX,WACE,UAAC,GAAD,CAAMA,KAAK,cAAX,UACE,UAAC,GAAD,CACEyvB,MAAI,EACJgB,QAASgvB,EACTvsB,SAAW3pB,IAAQm2C,EAAen2C,EAAEnQ,OAAOq3B,UAC3CnR,MAAM,oBAGV,UAAC,GAAD,CAAMtf,KAAK,cAAX,UACE,UAAC,GAAD,CACEyvB,MAAI,EACJgB,QAAS0uB,EACT7/B,MAAM,uBACN4T,SAAW3pB,IAAQ61C,EAAqB71C,EAAEnQ,OAAOq3B,eAErD,0BAEK0uB,EAsBC,MArBA,WAAC,GAAD,CAAMn/C,KAAK,sBAAX,WACE,UAAC,GAAD,CAAMmC,IAAI,KAAKnC,KAAK,QAAQH,IAAK,CAACu+B,OAAM,GAAxC,+BAGA,UAAC,GAAD,CAAMp+B,KAAK,UAAX,SACG/G,OAAOyE,QAAQ8S,GAAcnP,KAAI,EAAE5H,EAAK4D,MAChC,UAAC,OAAD,CAAoBi+B,YAAa,EAAjC,UACL,2BACE,UAAC,GAAD,CACE7L,MAAI,EACJzvB,KAAMvG,EACNgK,KAAK,WACL6b,MAAOjiB,EAAM2C,KACbkzB,SAAU+sB,EACVxvB,QAASwqB,EAAQ9hC,IAAI1f,QARLA,mBAoBtC,WAAC,GAAD,CAAMuG,KAAK,WAAX,UAEgB,OAAZoQ,EACE,MAEA,UAAC,GAAD,CACEtM,KAAK,SACLL,KAAK,SACLjB,UAAWH,EAAUnF,KAAK,iBAC1BwJ,QAAS,IAAK83C,GAAmB,CAC/BhH,SAAU3uC,gBACFtB,EAAIK,QAAQ,gBAAiB,CAAC8O,OAAO,CAACu5B,GAAG7/B,EAAQ1U,MACvDujD,UACML,OARZ,gCAcJ,iBAAKp8C,UAAWH,EAAUnF,KAAK,UAA/B,UACE,UAAC,aAAD,OAEF,UAAC,GAAD,CACEuG,KAAK,SACLjB,UAAWH,EAAUnF,KAAK,iBAC1BwJ,QAASu4C,EAHX,qBAMA,UAAC,GAAD,CACE56C,SAAO,EACP7B,UAAWH,EAAUnF,KAAK,eAF5B,SAIc,OAAVkT,EAAiB,cAAe,uBCvInCswC,GAAc,CACzB17C,MAAO,WACPlH,KAAM,YACN8E,UAjHc,KACd,MAAO+9C,EAAeC,IAAoB/6C,EAAAA,EAAAA,UAAS,OAC5CsK,EAAU0wC,IAAeh7C,EAAAA,EAAAA,UAAS,OAClC2K,EAAcswC,IAAmBj7C,EAAAA,EAAAA,UAAS,MAG3CugB,GAAUC,EAAAA,EAAAA,MAEV9e,EAAMC,MACN,QAAE0G,GAAYwqC,KAIdmD,GAAYn2C,EAAAA,EAAAA,UAAQ,IACpB0gB,EAAQ7U,SAASG,SAASqvC,WAAW,aACH,IAAhC9nD,OAAOs1B,KAAKrgB,GAAS3U,OAChB,KAEA2U,EAAQxS,QAGjB,GAED,CAACwS,EAASkY,IACb7P,QAAQ2kB,IAAI2gB,EAAWz1B,EAAQ7U,SAASG,UACxC,MAAMktC,GAAgB74C,EAAAA,EAAAA,cAAY8C,UAChC,GAAkB,OAAdgzC,EAEF,YADAgF,EAAY,MAGd,IAAInqC,EAAS,GAEXA,EAAM,aADUnS,IAAds3C,EACkBA,EAEA,KAEtB,MAAM1rC,QAAiB5I,EAAIK,QAAQ,WAAY,CAC7C8O,WAEEvG,GAAU0wC,EAAY1wC,KACzB,CAAC5I,EAAKs0C,IAEHmF,GAAoBj7C,EAAAA,EAAAA,cAAY8C,UACpC,GAAkB,OAAdgzC,EAEF,YADAiF,EAAgB,MAGlB,IAAIpqC,EAAS,QACKnS,IAAds3C,IACFnlC,EAAO,sBAAuB,GAGhC,MAAMnJ,QAAahG,EAAIK,QAAQ,eAC7B,CACE8O,WAGAnJ,GAAMuzC,EAAgBvzC,KACzB,CAAChG,EAAKs0C,IAOT,IALA/zC,EAAAA,EAAAA,YAAU,KACR82C,IACAoC,MACC,CAACz5C,EAAK2G,EAAS2tC,IAED,OAAb1rC,GAAsC,OAAjBK,GAAuC,OAAdqrC,EAChD,OAAO,KAET,IAAI7zC,EAAU,KAuBd,OArBEA,EADkB,QAAhB24C,GACQ,UAAC,GAAD,CACRjC,eAAgBkC,EAChB3B,OAAQ,IAAM2B,EAAiB,MAC/BxwC,QAAS,KACTwuC,cAAeA,EACfpuC,aAAcA,IACW,OAAlBmwC,GACC,UAAC,GAAD,CACRjC,eAAgBkC,EAChBjC,aAAc,KAAKiC,EAAiB,QACpChC,cAAeA,EACfzuC,SAAUA,KAGF,UAAC,GAAD,CACRuuC,eAAgBkC,EAChB3B,OAAQ,IAAM2B,EAAiB,MAC/BxwC,QAASD,EAASA,EAASlT,WAAWrB,GAAMA,EAAEF,KAAOilD,KACrD/B,cAAeA,EACfpuC,aAAcA,KAEX,WAAC,GAAD,CAAOxQ,KAAK,eAAZ,UACJgI,GACD,WAAC,GAAD,CAAMhI,KAAK,SAAX,WACE,UAAC,GAAD,CAAMA,KAAK,cAAX,UACE,UAAC,EAAD,CAAU9F,MAAM,KAAKC,OAAO,UAE9B,WAAC,GAAD,CAAM6F,KAAK,cAAX,WACE,kMAIA,2BACE,eAAG+D,KAAK,2CAAR,4CADF,kBC1GKk9C,GAAa,KACxB,MAAM,QAAC/yC,GAAWwqC,KACZnxC,EAAMC,KACN4e,GAAUC,EAAAA,EAAAA,OACT66B,EAAYC,IAAiBt7C,EAAAA,EAAAA,UAAS,MAmCvCu7C,GAAU17C,EAAAA,EAAAA,UAAQ,IAAM,CAAC,CAC7BjC,KAAM,cACNW,UAAU,EACVkb,MAAQ,UAASpR,EAAQmzC,wCACxB,CACD59C,KAAM,QACNW,UAAU,EACVkb,MAAQ,UAASpR,EAAQozC,qBACxB,CACD79C,KAAM,cACNW,UAAU,EACVkb,MAAQ,UAASpR,EAAQqzC,wCACxB,CACD99C,KAAM,OACN6b,MAAQ,iBACP,CACD7b,KAAM,UACN6b,MAAO,oBACL,CAACpR,IAEL,OACE,kBAAKzP,MAAO,CAACvE,MAAO,KAApB,WACE,UAAC,GAAD,CACEmE,KAAK,wCACL4yB,YAAY,6HACZxyB,MAAO,CAAC4xC,QAAS,QAASn2C,MAAO,OAGlCgU,EAAQxS,IACP,UAAC,GAAD,CAAOiJ,UAAU,WAAWC,QAAM,EAACnG,MAAO,CAAC+iD,UAAW,IAAtD,SACGJ,EAAQ//C,KAAKogD,IACZ,MAAM79C,EAAUs9C,IAAeO,EAAIh+C,KAC7BW,EAAWq9C,EAAIr9C,UAAa88C,IAAet9C,EACjD,OAAyB,IAAjB69C,EAAIr9C,WACV,UAAC,GAAD,CAAuBN,KAAK,SAASM,SAAUA,EAAUR,QAASA,EAAS8C,SAnEhEjD,EAmEuFg+C,EAAIh+C,KAnElF,KAC9BsJ,GAAQ,CACN/H,MAAO,sBACPrG,KAAM,mEACNqO,OAAQ,UACRI,WAAY,cACZH,KAAMpE,UACJs4C,EAAc19C,GACF,gBAATA,GAEgB,UAATA,GAES,gBAATA,IAES,SAATA,QACF8D,EAAIK,QAAQ,aAAc,CAC9BjJ,KAAM,CACJuP,QAASA,EAAQxS,MAGJ,YAAT+H,UACF8D,EAAIK,QAAQ,gBAAiB,CACjC8O,OAAQ,CACNu5B,GAAI/hC,EAAQxS,MAGhB0qB,EAAQloB,QAAQ,eAElBijD,EAAc,WAuCR,SACGM,EAAIniC,OADMmiC,EAAIh+C,MAnENA,YA0EjB,iBAAKhF,MAAO,CAAC4xC,QAAS,OAAQoN,eAAgB,SAAU+D,UAAW,IAAnE,UACE,UAAC,GAAD,CAAS79C,KAAM,WAOzBs9C,GAAWj8C,MAAQ,cACnBi8C,GAAWnjD,KAAO,eClGlB,MCKM4jD,IAAeliD,EAAAA,EAAAA,kBACdqC,MAAD,GAAQC,KAAIA,IAAIC,KAET4/C,GAAa,EAAEriC,QAAO9c,YAAWgtB,WAAUN,WAAUO,OAAM/iB,SAAQmlB,aAAYluB,OAAMtG,QAAO61B,WAAU1vB,cAAaxJ,MAC9H,MAAOy3B,EAAcO,IAAmBnsB,EAAAA,EAAAA,UAASxI,GAO3CiJ,GACJ,UAACipB,GAAD,CACEvvB,KAAMhG,EAAMgG,KACZsf,MAAOA,EACPkQ,SAAUA,EACVN,SAAUA,EACVO,KAAMA,EACNb,SAAUvxB,GAAS20B,EAAgB30B,MAC/BrD,EAPN,SASG,CAACO,EAAK41B,EAAKupB,KACV,UAACgI,GAAah/C,SAAd,CACErF,MAAO,CACLA,MAAOo0B,EACPyB,SAAW71B,IAnBEA,KACrB20B,EAAgB30B,GAChB61B,SAAAA,EAAW71B,IAkBDukD,CAAcvkD,GACdq8C,EAAK5gB,cAEPlK,SAAUoD,EACV6vB,UAAqB,IAAXn1C,GARd,UAWE,WAAC,GAAD,CAAO1M,KAAK,cAAcH,IAAK,CAAC8D,OAAM+I,UAAS9M,IAAK4C,EAApD,WACE,mBAAOjI,IAAKA,EAAKyF,KAAMhG,EAAMgG,KAAMyD,KAAK,SAASgrB,aAAcgD,KAC/D,UAAC,GAAD,CAAMzxB,KAAK,UAAX,SACGwD,WAQb,OAAO8b,GAAQ,UAAC,GAAD,IAAYuS,QAAAA,EAAc,GAAKxzB,KAAMihB,EAAO5S,OAAQA,EAAQwiB,SAAUA,EAAtE,SAAiF5oB,IAAiBA,GA4BnHq7C,GAAWr+C,OAzBS,EAAGjG,QAAO+G,WAAUZ,WAAU8b,QAAO2R,iBAAgBj3B,MACvE,MAAM,SAAEk5B,EAAF,SAAYtE,EAAUvxB,MAAOo0B,EAA7B,SAA2CowB,IAAa/+C,EAAAA,EAAAA,YAAW4+C,IACnEjxB,EAAUpzB,IAAUo0B,EAEpBrS,GAAerZ,EAAAA,EAAAA,cAAawD,IAChCA,EAAEY,iBACFZ,EAAEW,kBACFgpB,EAAS71B,KACR,CAACA,IAMJ,OAJAyK,EAAAA,EAAAA,YAAU,KACJ9N,EAAMy2B,SAAS7B,EAASvxB,KAC3B,CAACrD,EAAMy2B,WAGR,UAAC,GAAD,CAAMzwB,KAAK,SAASH,IAAK,CAAE4wB,UAASrsB,YAAY0Y,eAAgBsC,EAAhE,SACGyiC,GACC,UAAC,GAAD,CAAO7wB,UAAU,QAAQ3yB,KAAMihB,EAAO2R,YAAaA,EAAnD,UACE,mBAAOxtB,KAAK,QAAQpG,MAAOA,EAAOozB,QAASA,EAASqxB,UAAQ,EAACrjD,MAAO,CAACsjD,cAAe,YAEpFv+C,KClEH,MAAMw+C,GAAkB,KAC7B,MAAM,QAAC9zC,EAAD,aAAU+zC,IAAgBn/C,EAAAA,EAAAA,YAAWo/C,IAErC/zC,GAAgBpI,EAAAA,EAAAA,cAAY,KAC5BmI,EAAQxS,IAAIumD,EAAa/zC,EAAQxS,IAAI,KACxC,CAACwS,IAkBJ,OACE,iBAAKzP,MAAO,CAACvE,MAAO,KAApB,UACE,WAAC,GAAD,CACEwwB,OAAO,gBACP5U,SAAU,IAAI5H,GACdwI,OAAQ,CAACu5B,GAAI/hC,EAAQxS,IACrB09B,SAAUjrB,EAJZ,WAME,WAAC,OAAD,CAAUmtB,YAAa,EAAGC,OAAO,OAAjC,WACE,UAAC,GAAD,CACEv7B,KAAK,QACLsf,MAAM,eACNuS,WAAY,CAACX,OAAO,MAGtB,UAAC,GAAD,CACElxB,KAAK,cACLsf,MAAM,cACNuS,WAAY,CAACX,OAAO,GACpBzyB,MAAO,CAAC0jD,UAAW,QAGrB,UAAC,GAAD,CAAYniD,KAAK,QAAQsf,MAAM,QAAQ3b,KAAK,QAAQkuB,WAAY,CAACluB,KAAM,SAAvE,SAtCO,CACb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WA+BgBtC,KAAIksB,IACV,UAAC,UAAD,CAA+BlwB,MAAOkwB,EAAtC,UACE,UAAC,GAAD,CAAOvtB,KAAK,QAAQvB,MAAO,CAAC,eAAgB8uB,MADtBA,QAM5B,UAAC,GAAD,CAAYjO,MAAM,gBAAgBuS,WAAY,CAACluB,KAAM,SAAU3D,KAAK,WAAW0M,QAAM,EAArF,SAnCU,CAChB,CAACrP,MAAO,aAAciiB,MAAO,aAAc2R,YAAa,8CACxD,CAAC5zB,MAAO,UAAWiiB,MAAO,SAAU2R,YAAa,yCAkC9B5vB,KAAI,EAAEhE,QAAOiiB,QAAO2R,kBAC7B,UAAC,UAAD,CAEE5zB,MAAQ,GAAEA,aACViiB,MAAQ,GAAEA,aACV2R,YAAaA,GAHR5zB,WASb,WAAC,WAAD,YACE,UAAC,aAAD,WACE,kBAAM4xB,KAAK,UAAX,uBAEF,UAAC,GAAD,CAAQxrB,KAAK,SAASK,KAAK,UAAUrF,MAAO,CAACvE,MAAO,KAApD,2BAOV8nD,GAAgBzhC,SAAW,UAC3ByhC,GAAgBlkD,KAAO,IACvBkkD,GAAgBxiC,OAAQ,EC/EjB,MAAM4iC,GAAuB,KAClC,MAAM,QAACl0C,EAAD,aAAU+zC,IAAgBn/C,EAAAA,EAAAA,YAAWo/C,IACrCG,GAAcv/C,EAAAA,EAAAA,YAAWuoB,IACzB0Q,GAAUlgB,EAAAA,EAAAA,WAEhB/T,EAAAA,EAAAA,YAAU,KACRu6C,EAAYh1B,SAAS,CAAC0O,cACrB,CAACA,IAEJ,MAAM5tB,GAAgBpI,EAAAA,EAAAA,cAAY,KAChCk8C,EAAa/zC,EAAQxS,IAAI,KACxB,CAACwS,IAEJ,OACE,iBAAKzP,MAAO,CAACvE,MAAO,KAApB,UACE,WAAC,GAAD,CAAMK,IAAKwhC,EAASrR,OAAO,gBAAgB5U,SAAU,IAAI5H,GAAUwI,OAAQ,CAACu5B,GAAI/hC,EAAQxS,IAAK09B,SAAUjrB,EAAvG,WACE,WAAC,OAAD,CAAUmtB,YAAa,EAAvB,WACE,UAAC,GAAD,CAAOj9B,KAAK,wBAAwB6yB,OAAK,KACzC,iBAAKzyB,MAAO,CAAC6jD,YAAa,IAA1B,UACE,UAAC,GAAD,CAAQhjC,MAAM,uBAAuBtf,KAAK,wBAE5C,iBAAKvB,MAAO,CAAC8uB,MAAO,kBAAmB+0B,YAAa,IAApD,2EAKF,UAAC,OAAD,CAAUhnB,YAAa,EAAvB,UACE,UAAC,GAAD,CAAUt7B,KAAK,qBAAqBvB,MAAO,CAAC0jD,UAAW,UAGzD,WAAC,WAAD,YACE,UAAC,aAAD,WACE,kBAAMlzB,KAAK,UAAX,uBAEF,UAAC,GAAD,CAAQxrB,KAAK,SAASK,KAAK,UAAUrF,MAAO,CAACvE,MAAO,KAApD,2BAOVkoD,GAAqBp9C,MAAQ,eAC7Bo9C,GAAqBtkD,KAAO,eCxCrB,MAAMykD,GAAmB,KAC9B,MAAMn8B,GAAUC,EAAAA,EAAAA,OACV,QAACnY,EAAD,aAAU+zC,GAAgBvJ,MACzB3xC,EAAQC,IAAanB,EAAAA,EAAAA,UAAS,KAC9B28C,EAAsBC,IAA2B58C,EAAAA,EAAAA,WAAS,GAC3D0B,EAAMC,KAENk7C,GAAa38C,EAAAA,EAAAA,cAAY8C,UAC7B,MAAM9L,QAAYwK,EAAIK,QAAQ,mBAAoB,CAChD8O,OAAQ,CACNu5B,GAAI/hC,EAAQxS,IAEdiD,KAAM,CACJ0tC,aAActlC,KAIlB,GAAIhK,EAAImX,GAEN,OADAkS,EAAQjpB,KAAM,aAAY+Q,EAAQxS,YAC3B,EAGT,MAAMya,QAAcpZ,EAAI+Z,OAExB,OADAmrC,IACO9rC,IACN,CAACjI,EAASnH,IAEP47C,GAAsBj9C,EAAAA,EAAAA,UAAQ,KAClC,GAAIwI,EAAQm+B,aAAc,CACxB,MAAMuW,GAAatlD,GAAc4Q,EAAQm+B,cACnCwW,EAA4D,kBAA5C30C,EAAQm+B,aAAanuC,QAAQ,MAAO,IACpD4kD,EAAW50C,EAAQozC,YAAc,EAGvC,OADA/qC,QAAQ2kB,IAAI,CAAC0nB,YAAWC,gBAAeC,WAAU50C,YACzC00C,IAAcC,GAAkBC,EAE1C,OAAO,IACN,CAAC50C,IAEE60C,GAASh9C,EAAAA,EAAAA,cAAY8C,UACrB25C,GAAwBG,EAC1B51C,GAAQ,CACN/H,MAAO,sBACPrG,KAAM,6JACNyO,WAAY,cACZH,KAAM,IAAMy1C,IACZ11C,OAAQ,SAGV01C,MAED,CAACF,EAAsBE,IAEpB7R,GAAW9qC,EAAAA,EAAAA,cAAagB,IAC5BC,EAAUD,GACVk7C,OAGI1S,GAAaxpC,EAAAA,EAAAA,cAAaX,IAC9Bq9C,EAAwBr9C,EAAW49C,qCAClC,IAEH,OAAK90C,EAAQxS,IAGX,UAACg1C,GAAD,CACE3pC,OAAQmH,EAAQm+B,aAChBn+B,QAASA,EACT2iC,SAAUA,EACVvB,YAAayT,EACbxT,WAAYA,IARQ,MAa1BgT,GAAiBv9C,MAAQ,qBACzBu9C,GAAiBzkD,KAAO,YCnFxB,MCEamlD,GAAc,EAAEz/C,WAAUhB,YAAWmB,OAAO,SAAUu/C,YAAW,KAAU9gD,MAEpF,UAAC,GAAD,CAAOpC,KAAK,cAAcH,IAAK,CAAC8D,OAAMu/C,YAAWtjD,IAAK4C,KAAeJ,EAArE,SACGoB,ICJMyc,GAAU,EAAE9lB,aAChB,iBAAKsE,MAAO,CAACtE,OAAQA,KCEjBgpD,GAAc,EAAE3/C,WAAU4/C,oBAAmB5gD,YAAW/D,YACnE,MAAMuD,EAAUuB,EAAAA,WAAiBwT,IAMjC,OAJAxT,EAAAA,WAAgB,KACdvB,EAAQuV,WAAY,IACnB,CAACvV,IAEGA,EAAQmU,OACb,WAAC,GAAD,CAAOnW,KAAK,eAAeJ,IAAK4C,EAAW/D,MAAOA,EAAlD,WACE,UAACsG,GAAD,CACES,QAAQ,KACJxD,EAAQiV,eAAejV,EAAQmU,MAAO,CAACitC,wBAE5C5/C,KAED,M,0BCnBN,MCGa6/C,GAAkB,EAAE5kD,QAAO+D,YAAWgB,eAE/C,gBAAIhB,UAAW/C,GAAG,MAAMG,IAAI4C,GAAY/D,MAAOA,EAA/C,SACG+E,IAKP6/C,GAAgBhkC,KAAO,EAAGikC,gBAAeC,uBAAsBC,OAAMC,mBAAkBC,YAAWlgD,eAE9F,mCACE,gBAAIhB,UAAW/C,GAAG,MAAMvC,KAAK,MAAM0C,IAAI0jD,GAAgB7kD,MAAOglD,EAA9D,SAAiFD,KACjF,gBAAIhhD,UAAW/C,GAAG,MAAMvC,KAAK,MAAM0C,IAAI2jD,GAAuB9kD,MAAOilD,EAArE,SAAiFlgD,OCLhF,MAAMmgD,GAAsB,EAAGC,WAAUC,gBAAeC,aAC7D,MAAMzhD,EAAY5C,GAAG,MACf8H,GAAMzE,EAAAA,EAAAA,YAAWiU,IAEjBgtC,GAAgBh+C,EAAAA,EAAAA,cAAY8C,gBAC1BtB,EAAIK,QAAQ,kBAAmB,CACnC8O,OAAQ,CACNu5B,GAAI+T,EAAQtoD,YAGVmoD,MACL,CAACA,EAAet8C,IAEb08C,GAAkBl+C,EAAAA,EAAAA,cAAY8C,gBAC5BtB,EAAIK,QAAQ,iBAAkB,CAClC8O,OAAQ,CACNu5B,GAAI+T,EAAQtoD,YAGVmoD,MACL,CAACA,EAAet8C,IAEnB,OACE,iBAAK/E,UAAWH,EAAhB,SACGuhD,EAASviD,KAAI2iD,IACZ,UAACE,GAAD,CAEEF,QAASA,EACTG,aAAcF,EACdzM,SAAUuM,EACVD,OAAQA,GAJHE,EAAQtoD,SAWjBwoD,GAAc,EAAEF,UAASG,eAAcL,SAAQtM,eACnD,MAAM4M,GAAgBr+C,EAAAA,EAAAA,cAAai+C,IACjCj3C,GAAQ,CACN/H,MAAO,oBACPrG,KAAM,8CACNyO,WAAY,cACZH,OAAQuqC,SAAAA,EAAWwM,QAEpB,CAACA,EAASxM,IAEb,OACE,WAAC,GAAD,CAAM/4C,MAAO,CAAC+iD,UAAW,GAAIjgC,OAAQyiC,EAAQh/C,MAAOtB,OAClD,kBAAKlB,UAAW/C,GAAG,MAAMvC,KAAK,QAA9B,WACE,UAACmnD,GAAD,CAAcL,QAASA,KAEvB,UAAC,WAAD,CAAkBl/C,MAAM,QAAQkD,SAC9B,WAAC,GAAD,CAAMrE,KAAK,QAAX,WACE,UAAC,QAAD,CAAW+C,QAAS,IAAMo9C,EAAOE,GAAjC,mBACA,UAAC,QAAD,CAAWt9C,QAAS,IAAM09C,EAAcJ,GAAxC,uBAHJ,UAME,UAAC,GAAD,CAAQvgD,KAAK,OAAOI,MAAM,UAAC,OAAD,WAVhC,WAcE,WAAC,GAAD,CAAiBrB,UAAW/C,GAAG,MAAMvC,KAAK,WAA1C,WACE,UAAC,QAAD,CAAsBsmD,KAAK,MAAME,UAAW,CAACY,WAAY,UAAzD,SACGC,KAASP,EAAQ3yC,IAAK,GAAI,GAAI,SAEhC2yC,EAAQ/yB,cACP,UAAC,QAAD,CACEuyB,KAAK,cACLhgD,SAAUwgD,EAAQ/yB,eAGtB,UAAC,QAAD,CAAsBuyB,KAAK,UAA3B,SACGQ,EAAQ3+C,SAAU6lB,EAAAA,GAAAA,GAAO,IAAIC,KAAK64B,EAAQ3+C,SAAU,4BAA8B,gBAIvF,UAAC,GAAD,CAAQjB,SAA4B,OAAlB4/C,EAAQh6C,MAAgBtD,QAAS,IAAMy9C,EAAaH,GAAtE,gCAOAK,GAAe,EAAEL,cACrB,MAAM,MAAEh6C,GAAUg6C,EAClB,OACE,kBAAKxhD,UAAW/C,GAAG,MAAMvC,KAAK,UAA9B,WACE,kBAAMsF,UAAW/C,GAAG,MAAMvC,KAAK,aAAa2C,IAAI,CAACmK,aACjD,WAAC6kB,GAAD,CAAOxxB,MAAO2M,EAAOxH,UAAW/C,GAAG,MAAMvC,KAAK,gBAA9C,WACE,kBAAM+xB,KAAK,KAAX,2BACA,kBAAMA,KAAK,KAAX,wBACA,kBAAMA,KAAK,KAAX,oBACA,kBAAMA,KAAK,KAAX,uBACA,kBAAMA,KAAK,KAAX,+BC3FKu1B,GAA0B,KACrC,MAAMj9C,EAAMC,MACN,QAAE0G,EAAF,aAAW+zC,EAAX,cAAyB9zC,IAAkBrL,EAAAA,EAAAA,YAAWo/C,KACrDuC,EAASC,IAAc7+C,EAAAA,EAAAA,aACvB+9C,EAAUe,IAAe9+C,EAAAA,EAAAA,UAAS,KAClC++C,EAAUC,IAAeh/C,EAAAA,EAAAA,UAAS,IAEnCi/C,GAAiB/+C,EAAAA,EAAAA,cAAY8C,UACjCU,EAAEY,iBACFZ,EAAEW,wBAEIiE,EAAc,CAClB42C,cAAe,SAEhB,CAACx9C,EAAK2G,IAEH21C,GAAgB99C,EAAAA,EAAAA,cAAY8C,UAChC,MAAMm8C,QAAez9C,EAAIK,QAAQ,aAAc,CAC7C8O,OAAQ,CACNxI,QAASA,EAAQxS,MAKjBspD,GAAQL,EAAYK,KACvB,CAACz9C,EAAK2G,EAASy2C,IAEZM,GAAkBl/C,EAAAA,EAAAA,cAAY8C,UAClC,MAAMiH,QAAsBvI,EAAIK,QAAQ,gBAAiB,CACvD8O,OAAQ,CACNu5B,GAAI/hC,EAAQxS,MAIhB,IAAIkpD,EAAW,GAEf,IAAK,MAAOnrD,EAAK4D,KAAUpE,OAAOyE,QAAQoS,GACxC80C,EAASznD,KAAK,CACZE,MAAO5D,EACP6lB,MAAO7lB,EAAM,KAAO4D,EAAQ,kBAIhCwnD,EAAYD,KACX,CAACr9C,EAAK2G,EAAQxS,KAEXwpD,GAAkBn/C,EAAAA,EAAAA,cAAai+C,IACnC,MAAMt5B,EAASs5B,EAAU,kBAAoB,eAE7CztC,QAAQ2kB,IAAI,CAAE8oB,YACd,MAAMmB,EAAa,CACjBngD,OAAUg/C,EAAU,OAAS,OAArB,SACRvlD,MAAO,CAAEvE,MAAO,KAChBwP,qBAAqB,EACrB/K,MACE,WAAC,GAAD,CACE+rB,OAAQA,EACR5U,SAAU,IAAMkuC,QAAAA,EAAW,IAC3BttC,OAAQ,CAAEu5B,GAAI+T,aAAF,EAAEA,EAAStoD,IACvB09B,SAAUvwB,UACHwN,EAAS8pC,sBACN0D,IACNr6C,EAASM,UAPf,WAWE,UAAC,GAAD,CAAOrG,KAAK,SAASzD,KAAK,UAAU3C,MAAO6Q,EAAQxS,MAEnD,WAAC,OAAD,CAAU4/B,YAAa,EAAvB,WACE,UAAC,GAAD,CAAOt7B,KAAK,QAAQsf,MAAM,QAAQ6U,YAAY,cAC9C,UAAC,GAAD,CAAOn0B,KAAK,MAAMsf,MAAM,MAAM4P,UAAQ,QAGxC,UAAC,OAAD,CAAUoM,YAAa,EAAvB,UACE,UAAC,GAAD,CAAUt7B,KAAK,cAAcsf,MAAM,cAAc7gB,MAAO,CAAE0jD,UAAW,UAGvE,UAAC,OAAD,CAAU7mB,YAAa,EAAvB,UACE,UAAC,GAAD,CACEt7B,KAAK,iBACLsf,MAAM,0CAIV,UAAC,WAAD,WACE,UAAC,GAAD,CAAQ7b,KAAK,SAASK,KAAK,UAAU4C,QAAS,IAAMg+C,EAAW,MAA/D,kCAKF,UAAC,kBAAD,UAAsBruC,IACpB,gCACGA,EAAS8pC,gBACR,UAACp7C,GAAD,CAAcoR,MAAO,CACnBE,SAAU,CACRc,OAAS,aAAY6sC,EAAU,OAAS,wBACxC5sC,SAAUf,EAAS8pC,uBAO7B,UAACgD,GAAD,QAKA35C,EAAW6D,GAAM83C,KACtB,CAACj3C,EAAS21C,EAAeY,IAS5B,OAPA38C,EAAAA,EAAAA,YAAU,KACJoG,EAAQxS,KACVmoD,IACAoB,OAED,CAAC/2C,KAGF,mCACE,UAAC,GAAD,CAAazP,MAAO,CAAE+iD,UAAW,EAAG4D,SAAU,KAA9C,yIAIA,UAAC,GAAD,CAAQ1+C,QAAS,IAAMw+C,IAAvB,wBAIA,UAACjlC,GAAD,CAAS9lB,OAAQ,MAEjB,WAAC,GAAD,CAAMuwB,OAAO,gBACX5U,SAAU,IAAK5H,GACfwI,OAAQ,CAAEu5B,GAAI/hC,EAAQxS,IACtB09B,SAAU,IAAM6oB,IAChBnpB,YAAU,EAJZ,WAME,WAAC,OAAD,CAAUwC,YAAa,EAAvB,WACE,UAAC,GAAD,CAAOj9B,KAAK,uBAAuB6yB,OAAK,KAExC,iBAAKzyB,MAAO,CAAE6jD,YAAa,IAA3B,UACE,UAAC,GAAD,CACEhjC,MAAM,sEACNtf,KAAK,2CAIT,iBAAKvB,MAAO,CAAE6jD,YAAa,IAA3B,UACE,UAAC,GAAD,CACEhjC,MAAM,yDACNtf,KAAK,0CAIT,iBAAKvB,MAAO,CAAE6jD,YAAa,IAA3B,UACE,UAAC,GAAD,CACEhjC,MAAM,oEACNtf,KAAK,iCAKV4kD,EAASrrD,OAAS,IACjB,WAAC,OAAD,CAAU+hC,YAAa,EAAvB,WACE,UAAC,GAAD,CACEj9B,KAAK,gBACL4yB,YAAY,wFACZxyB,MAAO,CAAE+iD,UAAW,IACpBtwB,OAAK,KAGP,kBAAKzyB,MAAO,CAAE4xC,QAAS,OAAQmN,WAAY,SAAUtjD,MAAO,IAAKooD,YAAa,IAA9E,WACE,iBAAK7jD,MAAO,CAAE8+C,KAAM,EAAG8H,aAAc,IAArC,UACE,UAAC,GAAD,CACErlD,KAAK,gBACLyuB,aAAc,KACd9uB,QAAS,IACJilD,GAELzwB,YAAY,iCAIhB,UAAC,GAAD,CAAQztB,QAASo+C,EAAjB,6BASR,UAACnB,GAAD,CACEG,OAASE,GAAYkB,EAAgBlB,GACrCH,cAAeA,EACfD,SAAUA,QAMlBY,GAAwBx/C,MAAQ,mBAChCw/C,GAAwB1mD,KAAO,MClNxB,MAAMwnD,GAAiB,EAAEC,UAAS/iD,YAAWwM,eAAe,OAAQ,QACzE,OACE,iBAAKxM,UAAWA,EAAhB,UACE,WAAC,GAAD,YACE,UAAC,QAAD,CAAsBghD,KAAK,OAA3B,6BACGx0C,EAAa+f,MAAK0O,GAAKA,EAAEz9B,OAASulD,EAAQ9hD,cAD7C,aACG,EAAiDuB,aADpD,QAC6DugD,EAAQ9hD,QAErE,WAACorB,GAAD,CAAOxxB,MAAOkoD,EAAQ9hD,KAAtB,WACE,UAAC+hD,GAAD,CAAWv2B,KAAK,KAAKs2B,QAASA,KAC9B,UAACE,GAAD,CAAYx2B,KAAK,MAAMs2B,QAASA,KAChC,UAACG,GAAD,CAAcz2B,KAAK,QAAQs2B,QAASA,KACpC,UAACI,GAAD,CAAc12B,KAAK,QAAQs2B,QAASA,KACpC,UAACK,GAAD,CAAc32B,KAAK,aAAas2B,QAASA,QAE3C,UAAC,QAAD,CAAsB/B,KAAK,YAA3B,SACG+B,EAAQM,WAAY36B,EAAAA,GAAAA,GAAO,IAAIC,KAAKo6B,EAAQM,WAAY,4BAA8B,uBAO3FL,GAAY,EAAGD,cAEjB,UAAC,QAAD,CAAsB/B,KAAK,SAA3B,SACG+B,EAAQO,SAKTL,GAAa,EAAEF,cAEjB,UAAC,QAAD,CAAsB/B,KAAK,SAA3B,SACG+B,EAAQO,SAKTJ,GAAe,EAAEH,cAEnB,UAAC,QAAD,CAAsB/B,KAAK,YAA3B,SACG+B,EAAQQ,YAKTJ,GAAe,EAAEJ,cAEnB,mCACE,UAAC,QAAD,CAAsB/B,KAAK,OAA3B,SACG+B,EAAQznD,QAEX,WAAC,QAAD,CAAsB0lD,KAAK,OAA3B,UACG+B,EAAQS,KAAMT,EAAQU,KAAQ,IAAGV,EAAQW,OAAS,SAMrDN,GAAe,EAAEL,cAEnB,UAAC,QAAD,CAAsB/B,KAAK,OAA3B,SACG+B,EAAQznD,OC5DFqoD,GAAc,EACzB9jD,YACAjJ,SACAmsD,UACAa,gBACAC,kBACAr3C,mBACI,MACJ,MAAOs3C,EAASC,IAAc1gD,EAAAA,EAAAA,WAAS,GACjC0B,GAAMzE,EAAAA,EAAAA,YAAWiU,KAChByvC,EAAaC,IAAkB5gD,EAAAA,EAAAA,UAAS,IAAK0/C,KAC7CmB,EAAQC,IAAa9gD,EAAAA,EAAAA,UAAS,MAE/B+gD,GAAY7gD,EAAAA,EAAAA,cAAY8C,UAC5B09C,GAAW,GACXI,EAAU,MAGV,MAAM75C,QAAevF,EAAIK,QAAQ,cAAe,CAC9C8O,OAAQ,CACNtd,SACAqK,KAAM+iD,EAAY/iD,KAClBwsC,GAAIuW,EAAY9qD,MAIhBoR,IACF25C,EAAe35C,GACf65C,EAAU75C,EAAO+5C,kBAGnBN,GAAW,KACV,CAAChB,IAMJ,OAJAz9C,EAAAA,EAAAA,YAAU,KACR2+C,EAAelB,KACd,CAACA,KAGF,WAAC,GAAD,CACEhkC,OAAM,UAAEilC,EAAYxhD,aAAd,QAAwB,YAAWwhD,EAAY/iD,OACrDC,OACE,UAAC,WAAD,CAAkBoB,MAAM,QAAQkD,SAC9B,WAAC,GAAD,CAAMrE,KAAK,UAAUlF,MAAO,CAAEvE,MAAO,KAArC,WACE,UAAC,QAAD,CAAWwM,QAAS,IAAM0/C,EAAcI,GAAxC,mBACA,UAAC,QAAD,CAAW9/C,QAAS,IAAM2/C,EAAgBG,GAA1C,uBAHJ,UAME,UAAC,GAAD,CAAQ/iD,KAAK,OAAOhF,MAAO,CAAEvE,MAAO,GAAIC,OAAQ,GAAIi5C,aAAc,IAAMvvC,MAAM,UAAC,OAAD,QATpF,WAaE,UAACyhD,GAAD,CACEC,QAASiB,EACThkD,UAAWH,EAAUnF,KAAK,WAC1B8R,aAAcA,KAEhB,iBAAKxM,UAAWH,EAAUnF,KAAK,QAA/B,UACE,WAAC,GAAD,CAAOyG,KAAK,QAAZ,WACE,UAAC,GAAD,CAAQC,QAAS0iD,EAAS5/C,QAASkgD,EAAnC,0BAGY,OAAXF,GACC,kBAAKlkD,UAAWH,EAAUnF,KAAK,cAA/B,oBACYwpD,EADZ,cAGE,cChEDI,IAAc5kD,EAAAA,EAAAA,aAAW,EACpCk3B,WACAhgC,SACA8U,UACA7L,YACAkjD,UACAv2C,gBACCzU,KAAQ,YAET,MAAMgN,GAAMzE,EAAAA,EAAAA,YAAWiU,IACjBglB,EAAUxhC,QAAAA,GAAOshB,EAAAA,EAAAA,WAChBpY,EAAMsjD,IAAWlhD,EAAAA,EAAAA,UAAQ,oBAAC0/C,aAAD,EAACA,EAAS9hD,YAAV,QAAkBuL,SAAlB,UAAkBA,EAAe,UAAjC,aAAkB,EAAmBhP,YAArC,QAA6C,OACtEgnD,EAAUC,IAAephD,EAAAA,EAAAA,WAAS,IAClCqhD,EAAiBC,IAAsBthD,EAAAA,EAAAA,UAAS,OAChDuhD,EAAYC,IAAiBxhD,EAAAA,EAAAA,UAAS,KAE7CiC,EAAAA,EAAAA,YAAU,KACRP,EAAIK,QAAQ,eAAgB,CAC1B8O,OAAQ,CACNtd,SACAqK,UAEDoE,MAAKu/C,GAAcC,EAAcD,QAAAA,EAAc,QACjD,CAAC3jD,IAEJ,MAAM6jD,EAAoB,CAAEhsB,YAAa,EAAG3B,OAAQ,CAAC,CACnDlK,MAAM,EACNhsB,KAAM,SACNzD,KAAM,eACNsf,MAAO,eACPlb,WAAYmhD,EACZ5lD,QAASqP,EAAa3N,KAAI,EAAGrB,OAAMgF,YAAT,CACxB3H,MAAO2C,EAAMsf,MAAOta,MAEtB3H,MAAK,UAAEkoD,aAAF,EAAEA,EAAS9hD,YAAX,QAAmBA,EACxByvB,SAAW3pB,IACTw9C,EAAQx9C,EAAEnQ,OAAOiE,WAIfkqD,GAA4BxhD,EAAAA,EAAAA,cAAY8C,UAC5Co+C,GAAY,GACZE,EAAmB,MAEnB,MAAMzN,EAAO3d,EAAQtyB,QAErB,GAAIiwC,GAAQA,EAAKthB,iBAAkB,CACjC,MAAMz5B,EAAO+6C,EAAKzf,iBAAiB,CAAEC,QAAQ,IACvCz2B,EAAOi2C,EAAK7f,SAAS,gBAAgBx8B,MAEvCD,GAAUmoD,aAAD,EAACA,EAAS7pD,MACrBiD,EAAKjD,GAAK6pD,EAAQ7pD,IAKpB,MAAM2a,QAAiBqjC,EAAKnyC,IAAIK,QAAQ,kBAAmB,CACzD8O,OAAQ,CACNtd,SACAqK,QAEF9E,SAGqBwoD,EAAN,OAAb9wC,GAGN4wC,GAAY,KACX,CAAClrB,EAAS3iC,EAAQqK,EAAM8hD,IAErB76B,GAAShlB,EAAAA,EAAAA,UAAQ,IACd6/C,EAAU,gBAAkB,iBAClC,CAACA,IAEJ,OACE,WAAC,WAAD,CACEhrD,IAAKwhC,EACLrR,OAAQA,EACRhU,OAAQ,CAAEtd,SAAQqK,OAAMyK,UAAS+hC,GAAIsV,aAAF,EAAEA,EAAS7pD,IAC9Ci+B,OAAQ,CAAC2tB,KAAuBF,QAAAA,EAAc,IAC9CtxC,SAAU,IAAMyvC,QAAAA,EAAW,IAC3B9qB,WAAW,EACXrB,SAAUA,EACVouB,SAAS,MACTjuB,aAAa,MATf,WAWE,UAAC,GAAD,CAAO91B,KAAK,SAASzD,KAAK,UAAU3C,MAAO6Q,KAC3C,WAAC,WAAD,CAAckvB,MAAO8pB,EAAiBxjD,MAA4B,OAApBwjD,IAC5C,UAAC,GAAD,CAAOlnD,KAAK,iBAAZ,UACE,WAAC6uB,GAAD,CAAOxxB,MAAO6pD,EAAd,WACE,UAAC,GAAD,CAAM/kD,IAAI,OAAOtC,IAAK,CAAE4D,KAAM,WAAazD,KAAK,OAAOivB,MAAM,EAA7D,sCACA,UAAC,GAAD,CAAM9sB,IAAI,OAAOtC,IAAK,CAAE4D,KAAM,QAAUzD,KAAK,OAAOivB,MAAM,EAA1D,oCAJN,WAQE,UAAC,GAAD,CAAOxrB,KAAK,SAASzD,KAAK,UAAU3C,MAAO6Q,KAC3C,WAAC,SAAD,CAAc1L,UAAWH,EAAUnF,KAAK,WAAxC,WACE,UAAC,GAAD,CAAQuG,KAAK,SAASG,QAASojD,EAAUtgD,QAAS6gD,EAAlD,+BAGA,UAAC,GAAD,CAAQ9jD,KAAK,SAASK,KAAK,UAA3B,SAAsCyhD,EAAU,OAAS,uBAI7D,UAACpC,GAAD,UCxGOsE,GAAa,EAAGziD,QAAO5L,SAAQiJ,YAAWqlD,kBACrD,MAAMngD,GAAMzE,EAAAA,EAAAA,YAAWiU,KACjB,QAAE7I,GAAYwqC,MACbiP,EAAUC,IAAe/hD,EAAAA,EAAAA,UAAS,KAClCguC,EAASC,IAAcjuC,EAAAA,EAAAA,WAAS,IAChCgiD,EAAQC,IAAajiD,EAAAA,EAAAA,WAAS,IAC9BmJ,EAAc+4C,IAAmBliD,EAAAA,EAAAA,UAAS,KAEjDiC,EAAAA,EAAAA,YAAU,KACRP,EAAIK,QAAQ,eAAgB,CAC1B8O,OAAQ,CACNtd,YAEDyO,MAAKmgD,IACND,EAAgBC,QAEjB,IAEH,MAAMC,GAAgBliD,EAAAA,EAAAA,cAAY8C,UAChC,IAAKqF,EAAQxS,GAEX,YADA6a,QAAQga,KAAK,2BAIfujB,GAAW,GACX,MAAMhnC,QAAevF,EAAIK,QAAQ,eAAgB,CAC/C8O,OAAQ,CACNxI,QAASA,EAAQxS,GACjBtC,YAIE4V,QAAqBzH,EAAIK,QAAQ,eAAgB,CACrD8O,OAAQ,CACNtd,YAIJ2uD,EAAgB/4C,GAED,OAAXlC,IACF86C,EAAY96C,GACZg7C,GAAU,IAGZhU,GAAW,KACV,CAAC5lC,IAEEg6C,GAAuBniD,EAAAA,EAAAA,cAAaw/C,IACxC,MAIM/7C,EAAW6D,GAAM,CACrBrI,MAHa,GAFAugD,EAAU,OAAS,SACF,WAAXnsD,EAAsB,SAAW,mBAKpDsQ,qBAAqB,EACrBjL,MAAO,CAAEvE,MAAO,KAChByE,MACE,UAACmoD,GAAD,CACE1tD,OAAQA,EACRmsD,QAASA,EACTr3C,QAASA,EAAQxS,GACjB2G,UAAWA,EACX2M,aAAcA,EACdoqB,SAAUvwB,gBACFo/C,IACNz+C,EAASM,WAIfM,QACE,0HAKH,CAAC8D,EAAS+5C,EAAe7uD,EAAQiJ,IAE9B+jD,GAAgBrgD,EAAAA,EAAAA,cAAY8C,UAChCq/C,EAAqB3C,KACpB,CAAC2C,IAEE7B,GAAkBtgD,EAAAA,EAAAA,cAAY8C,UAClCkE,GAAQ,CACN/H,MAAO,mBACPrG,KAAM,8CACNyO,WAAY,cACZH,KAAMpE,UASa,aARMtB,EAAIK,QAAQ,gBAAiB,CAClD8O,OAAQ,CACNjT,KAAM8hD,EAAQ9hD,KACdwsC,GAAIsV,EAAQ7pD,GACZtC,aAImB6uD,SAG1B,CAACA,IAMJ,OAJAngD,EAAAA,EAAAA,YAAU,KACRmgD,MACC,CAACA,KAGF,WAAC,GAAAtmC,OAAD,CAAgB3c,MAAOA,EAAvB,WACE,iBAAKxC,UAAWH,EAAUnF,KAAK,YAA/B,UACE,UAAC,GAAD,CAAQwJ,QAAS,IAAMwhD,IAAvB,SACGR,MAIH7T,IAAYgU,GACZ,iBAAKrlD,UAAWH,EAAUnF,KAAK,SAA/B,UACE,UAAC,GAAD,CAASyG,KAAM,OAEK,IAApBgkD,EAASpuD,OACX,KACEouD,EAAStmD,KAAIkkD,IACf,UAACY,GAAD,CAEEZ,QAASA,EACTnsD,OAAQA,EACRiJ,UAAWA,EACX2M,aAAcA,EACdo3C,cAAeA,EACfC,gBAAiBA,GANZd,EAAQ7pD,UC3HVysD,GAAkB,KAC7B,MAAM9lD,EAAY5C,GAAG,oBAErB,OACE,WAAC,GAAD,CAAOO,KAAK,mBAAZ,WACE,UAAC,GAAD,CAAavB,MAAO,CAAC+iD,UAAW,GAAhC,+HAIA,WAAC,GAAD,CAAS//B,MAAO,EAAGC,IAAI,OAAO/d,KAAK,QAAQnB,UAAWH,EAAtD,WACE,UAAColD,GAAD,CACEziD,MAAM,uBACN0iD,YAAY,qBACZrlD,UAAWA,KAGb,UAAColD,GAAD,CACEziD,MAAM,uBACN5L,OAAO,SACPsuD,YAAY,qBACZrlD,UAAWA,WAOrB8lD,GAAgBnjD,MAAQ,gBACxBmjD,GAAgBrqD,KAAO,WCxBhB,MAkBMsqD,GAAe,CAC1BpjD,MAAO0oB,EAAE,YACT5vB,KAAM,YACN0hB,OAAO,EACP6oC,OAtBwB,EAAG7kD,cAAa8kD,MAEtC,UAAC,GAAD,CACEnoC,UAAW,CACT6hC,GACAO,GACAH,GACAoC,GACA2D,GACAzH,GACAO,IAEFnjD,KAAMwqD,EAAWvqD,MAAMsT,IACvB7N,SAAUA,IAUdZ,UAAWo/C,GACXtE,MAAO,CACL0E,qBADK,GAELG,iBAFK,GAGLiC,wBAHK,GAIL2D,gBAJK,GAKLzH,YALK,GAMLO,WAAUA,K,yBChCP,MAAMsH,GAAe,EAAGt6C,WAAUunB,cAAaY,aAAYoyB,eAAc5yB,eAE5E,mCACE,UAAC,GAAD,CAAM51B,KAAK,OAAX,SACGiO,EAAS5M,KAAI6M,IACZ,UAACu6C,GAAD,CAA8Bv6C,QAASA,GAArBA,EAAQxS,SAG9B,UAAC,GAAD,CAAMsE,KAAK,QAAX,UACE,UAAC,GAAD,CACEA,KAAK,gBACLsf,MAAOoO,EAAE,YACTgI,KAAMF,EACNY,WAAYA,EACZU,aAAa,OACblB,SAAUA,EACVP,gBAAiB,CAAC,GAAI,GAAI,GAAI,KAC9BqB,WAAY,CAAChB,EAAME,IAAa4yB,EAAa9yB,EAAME,UAOhD8yB,GAAoB,EAAGC,gBAEhC,WAAC,GAAD,CAAO3oD,KAAK,sBAAZ,WACE,UAAC,GAAD,CAAMA,KAAK,QAAQmC,IAAI,MAAM8D,IAAKpI,GAAY,yCAC9C,UAAC,GAAD,CAAMmC,KAAK,SAASmC,IAAI,KAAxB,kDACA,qEACA,UAAC,GAAD,CAAMnC,KAAK,SAASmC,IAAKmB,GAAQoD,QAASiiD,EAAW7kD,KAAK,UAA1D,+BAKA2kD,GAAc,EAAGv6C,cAAc,MACnC,MAAMqf,GAAQ7nB,EAAAA,EAAAA,UAAQ,IACK,YAAlBwI,EAAQqf,MAAsB,KAAOrf,EAAQqf,OACnD,CAACrf,IAEE06C,GAAgBljD,EAAAA,EAAAA,UAAQ,IACrB6nB,EAAQ,CACb,iBAAkBA,EAClB,qBAAsBs7B,KAAIt7B,GAAOu7B,MAAM,IAAKC,OAC1C,IACH,CAACx7B,IAEJ,OACE,UAAC,GAAD,CAAMprB,IAAKo8C,GAAAA,GAASv+C,KAAK,OAAOuf,GAAK,aAAYrR,EAAQxS,UAAW,mBAApE,UACE,WAAC,GAAD,CAAOsE,KAAK,eAAeH,IAAK,CAAEmpD,UAAWz7B,GAAS9uB,MAAOmqD,EAA7D,WACE,WAAC,GAAD,CAAM5oD,KAAK,SAAX,WACE,WAAC,GAAD,CAAMA,KAAK,QAAX,WACE,UAAC,GAAD,CAAMA,KAAK,aAAX,mBACGkO,EAAQlJ,aADX,QACoB,iBAGpB,UAAC,GAAD,CAAMhF,KAAK,OAAO0G,QAAU6C,IAC1BA,EAAEW,kBACFX,EAAEY,kBAFJ,UAIE,UAAC,WAAD,CAAkBnC,SAChB,WAAC,GAAD,YACE,UAAC,QAAD,CAAWjE,KAAO,aAAYmK,EAAQxS,cAAtC,SAAsDgyB,EAAE,eACxD,UAAC,QAAD,CAAW3pB,KAAO,aAAYmK,EAAQxS,qBAAtC,sBAHJ,UAME,UAAC,GAAD,CAAQiI,KAAK,QAAQF,KAAK,OAAOI,MAAM,UAAC,EAAD,cAI7C,UAAC,GAAD,CAAM7D,KAAK,UAAX,UACE,WAAC,GAAD,CAAMA,KAAK,aAAX,WACE,WAAC,GAAD,CAAMA,KAAK,QAAX,UACGkO,EAAQ+6C,2BADX,MAC0C/6C,EAAQozC,gBAElD,WAAC,GAAD,CAAMthD,KAAK,SAAX,WACE,WAAC,GAAD,CAAMA,KAAK,cAAcH,IAAK,CAAE4D,KAAM,aAAtC,WACE,UAAC,GAAD,CAAMtB,IAAK+mD,EAASlpD,KAAK,SACxBkO,EAAQmzC,6BAEX,WAAC,GAAD,CAAMrhD,KAAK,cAAcH,IAAK,CAAE4D,KAAM,YAAtC,WACE,UAAC,GAAD,CAAMtB,IAAKgnD,EAASnpD,KAAK,SACxBkO,EAAQk7C,+BAEX,WAAC,GAAD,CAAMppD,KAAK,cAAcH,IAAK,CAAE4D,KAAM,eAAtC,WACE,UAAC,GAAD,CAAMtB,IAAKknD,EAAQrpD,KAAK,SACvBkO,EAAQqzC,wCAMnB,UAAC,GAAD,CAAMvhD,KAAK,cAAX,SACGkO,EAAQ+iB,eAEX,WAAC,GAAD,CAAMjxB,KAAK,OAAX,WACE,UAAC,GAAD,CAAMA,KAAK,eAAX,UACGkrB,EAAAA,GAAAA,GAAO,IAAIC,KAAKjd,EAAQ8wC,YAAa,wBAExC,UAAC,GAAD,CAAMh/C,KAAK,aAAX,UACE,UAAC,GAAD,CAASiG,IAAI,IAAIwB,KAAMyG,EAAQo7C,WAAYtgC,cAAY,eCxFtDugC,GAAe,KAAM,MAChC,MAAMhiD,EAAMhE,EAAAA,WAAiBwT,KACtByyC,EAAcC,GAAmBlmD,EAAAA,SAAe,KAChDmmD,EAAcC,GAAmBpmD,EAAAA,SAAe,OAChDiyB,EAAaC,IAAkB5vB,EAAAA,EAAAA,UAVjB,MACrB,MAAMyxB,EAAoB,IAAIP,gBAAgBxlB,SAASC,QAAQ+B,IAAI,QAEnE,OAAO+jB,EAAoBtB,SAASsB,GAAqB,GAOVsyB,KACxCxzB,EAAYyzB,IAAiBhkD,EAAAA,EAAAA,UAAS,GACvC21C,EAAkBC,KAClBqO,EAAkB9zB,SAAQ,UAACF,aAAaC,QAAQ,8BAAtB,QAAgD,KAEzE1oB,EAAO08C,GAAYxmD,EAAAA,UAAe,GACnColD,EAAYoB,EAAS5wD,KAAK,MAAM,GAChC6wD,EAAaD,EAAS5wD,KAAK,MAAM,GAEjC8wD,EAAgBphD,MAAO6sB,EAAQF,EAAaI,EAAWk0B,KAAoB,QAC/EH,EAAgB,WAChB,MAAM50C,QAAaxN,EAAIK,QAAQ,WAAY,CACzC8O,OAAQ,CAAEgf,OAAMw0B,UAAWt0B,KAG7Bi0B,EAAa,UAAC90C,aAAD,EAACA,EAAM0M,aAAP,QAAgB,GAC7BgoC,EAAe,UAAC10C,EAAK+hC,eAAN,QAAiB,IAChC6S,EAAgB,WAkBlB,OAVApmD,EAAAA,WAAgB,KACd0mD,MACC,IAEH1mD,EAAAA,WAAgB,KAGdi4C,EAAgB,CAAEmN,YAAWwB,WAAYX,EAAajwD,OAAS,MAC9D,CAACiwD,EAAajwD,UAGf,UAAC,GAAD,CAAOyG,KAAK,gBAAZ,UACE,WAAC6uB,GAAD,CAAOxxB,MAAOqsD,EAAd,WACE,UAAC,GAAD,CAAM1pD,KAAK,UAAUivB,KAAK,UAA1B,UACE,UAAC,GAAD,CAAStrB,KAAM,QAEjB,WAAC,GAAD,CAAM3D,KAAK,UAAUivB,KAAK,SAA1B,UACGu6B,EAAajwD,QACZ,UAACgvD,GAAD,CACEt6C,SAAUu7C,EACVh0B,YAAaA,EACbY,WAAYA,EACZoyB,aA3BS3/C,MAAO6sB,EAAME,KAChCH,EAAeC,SACTu0B,EAAcv0B,EAAME,IA0BhBA,SAAUk0B,KAGZ,UAACpB,GAAD,CAAmBC,UAAWA,IAE/Bt7C,IAAS,UAAC,GAAD,CAAeopC,QAASuT,aAO5CT,GAAavkD,MAAQ0oB,EAAE,YACvB67B,GAAazrD,KAAO,YACpByrD,GAAa/pC,OAAQ,EACrB+pC,GAAaa,OAAS,EAAGpyC,WAAY,CACnC,CACEhT,MAAO,4BAAMgT,EAAM9J,eAAZ,aAAM,EAAelJ,OAC5BlH,KAAM,aACN0hB,OAAO,EACP5c,UAAW,KACT,MAAM8T,GAAS2zC,EAAAA,EAAAA,MAEf,OAAO,UAAC,KAAD,CAAU9qC,GAAK,aAAY7I,EAAOhb,aAE3CgiD,MAAO,CACLpC,gBADK,GAEL8M,aAAYA,MAIlBmB,GAAavnD,QAAU,EAAG2mD,YAAWwB,gBAC9BA,GACE,UAAC,GAAD,CAAQzjD,QAASiiD,EAAW7kD,KAAK,UAAUH,KAAK,UAAhD,oBADiB,K,eCxG1B,MCEa2mD,GAAc,EAAGC,cAAc,GAAI7xB,UAAU,SACxD,MAAO/yB,EAAQC,IAAaC,EAAAA,EAAAA,WAAS,GAQrC,MAAO,CAACF,GANiBI,EAAAA,EAAAA,cAAa1H,IACpCuH,GAAU,GACVxH,GAAShB,GAAUiB,GAAQA,EAAOksD,GAClCvkD,YAAW,IAAMJ,GAAU,IAAQ8yB,KAClC,CAAC6xB,EAAa7xB,MCAN8xB,IAAkBtoD,EAAAA,EAAAA,aAAW,EAAGsB,WAAUwB,QAAOylD,iBAAgBC,GAAanwD,KACzF,MAAOoL,EAAQvH,GAAYksD,GAAY,CAAEC,YAAaE,IAEhDrrC,GAAerZ,EAAAA,EAAAA,cAAawD,IAChCA,EAAEY,iBACFZ,EAAEW,kBACF9L,MACC,IAEGme,EAAQR,EAAAA,SAAAA,KAAcvY,GACtBklB,GAAQ7L,EAAAA,EAAAA,cAAaN,EAAO,IAC7BA,EAAMviB,MACTO,MACAmM,QAAS0Y,IAGX,OAAO,UAAC,GAAD,CAASpa,MAAOW,EAAS,UAAYX,EAAO0B,QAAS0Y,KAAkBsrC,EAAWlnD,SAAUklB,OCfxFiiC,GAAa,EAAGr8B,WAAUs8B,eAAcC,sBACnD,MAAMtjD,EAAMC,MACLsjD,EAAWC,IAAgBllD,EAAAA,EAAAA,aAC3B2vB,GlDmQc,EAACw1B,EAAmBt8B,EAAe,KACxD,MACMu8B,EADS,IAAIl0B,gBAAgBxlB,SAASC,QACpB+B,IAAIy3C,IAErBt1B,EAAMw1B,IAAWrlD,EAAAA,EAAAA,UAASolD,EAAWj1B,SAASi1B,GAAYv8B,GAEjE,MAAO,CAACgH,EAAMw1B,IkDzQQC,CAAQ,OAAQ,IAC/BC,GlD2QkB,EAACJ,EAAmBt8B,EAAe,KAC5D,MACMu8B,EADS,IAAIl0B,gBAAgBxlB,SAASC,QACpB+B,IAAIy3C,IAErBp1B,EAAUC,IAAehwB,EAAAA,EAAAA,UAASolD,EAAWj1B,SAASi1B,GAAYv8B,GAEzE,MAAO,CAACkH,EAAUC,IkDjRQw1B,CAAY,YAAa,KAC5Cj1B,EAAYyzB,IAAiBhkD,EAAAA,EAAAA,UAAS,GAE7C0Q,QAAQ2kB,IAAI,CAAE1F,cAAa41B,oBAE3B,MAAME,GAAavlD,EAAAA,EAAAA,cAAY8C,MAAO6sB,EAAME,KAC1C,MAAMvf,QAAiB9O,EAAIK,QAAQ,cAAe,CAChD8O,OAAQ,CACNu5B,GAAI,EACJsb,wBAAyB,EACzB71B,OACAw0B,UAAWt0B,KAIXvf,EAASygC,UACXiU,EAAa10C,EAASygC,SACtB+S,EAAcxzC,EAASoL,UAExB,CAACla,IAEEikD,GAAazlD,EAAAA,EAAAA,cAAa0B,KAC1BmjD,aAAA,EAAAA,EAAclvD,MAAO+L,EAAK/L,GAC5B4yB,SAAAA,EAAW,MAEXA,SAAAA,EAAW7mB,KAEZ,CAACmjD,IAcJ,OAZA9iD,EAAAA,EAAAA,YAAU,KACRwjD,EAAW91B,EAAa41B,KACvB,KAEHtjD,EAAAA,EAAAA,YAAU,KACR,GAAI1K,GAAUytD,IAAoBC,EAAW,CAC3C,MAAM3rC,EAAW2rC,EAAU/7B,MAAK,EAAGtnB,UAAWA,EAAK/L,KAAO42B,OAAOu4B,KAE7D1rC,GAAUqsC,EAAWrsC,EAAS1X,SAEnC,CAACqjD,EAAWD,KAGb,iCACE,WAAC,GAAD,CAAO7qD,KAAK,cAAZ,WACE,UAAC,GAAD,CAAMA,KAAK,UAAX,SAEG8qD,GACC,WAAC,GAAD,CAAM9qD,KAAK,QAAX,WACE,WAAC,GAAD,CAAMA,KAAK,SAAX,WACE,UAAC,GAAD,CAAMA,KAAK,SAASJ,IAAI,YACxB,UAAC,GAAD,CAAMI,KAAK,SAASJ,IAAI,QAAxB,oBACA,UAAC,GAAD,CAAMI,KAAK,SAASJ,IAAI,OAAxB,mBACA,UAAC,GAAD,CAAMI,KAAK,SAASJ,IAAI,gBAAxB,+BAEF,UAAC,GAAD,CAAMI,KAAK,OAAX,SACG8qD,EAAUzpD,KAAI,EAAGoG,WAChB,MAAMiY,EAASjY,EAAK/L,MAAOkvD,aAAZ,EAAYA,EAAclvD,IAEzC,OACE,WAAC,GAAD,CAA8BsE,KAAK,OAAOH,IAAK,CAAE6f,UAAUhZ,QAAS,IAAM8kD,EAAW/jD,GAArF,WACE,UAAC,GAAD,CAAMzH,KAAK,QAAQJ,IAAI,SAAvB,UACE,UAAC4qD,GAAD,CAAiBxlD,MAAO,YAAcyC,EAAK/L,GAAI+uD,YAAahjD,EAAK/L,GAAjE,UACE,UAAC,GAAD,CAAS+L,KAAMA,EAAMhJ,MAAO,CAAEvE,MAAO,GAAIC,OAAQ,WAGrD,UAAC,GAAD,CAAM6F,KAAK,QAAQJ,IAAI,QAAvB,SACG6H,EAAKqiB,SAER,WAAC,GAAD,CAAM9pB,KAAK,QAAQJ,IAAI,OAAvB,UACG6H,EAAKmiB,WADR,IACqBniB,EAAKoiB,cAE1B,UAAC,GAAD,CAAM7pB,KAAK,QAAQJ,IAAI,gBAAvB,UACG6rD,EAAAA,GAAAA,GAAe,IAAItgC,KAAK1jB,EAAKikD,eAAgB,IAAIvgC,KAAQ,CAAEwgC,WAAW,QAb/D,QAAOlkD,EAAK/L,eAqBhC,UAAC,GAAD,CAAMsE,KAAK,UAAX,UACE,UAAC,GAAD,CAAS2D,KAAM,UAIrB,UAAC,GAAD,CACE+xB,KAAMF,EACNsB,aAAa,OACbV,WAAYA,EACZR,SAAUw1B,EACV/1B,gBAAiB,CAAC,GAAI,GAAI,KAC1BqB,WAAY40B,EACZ7sD,MAAO,CAAEmtD,WAAY,YCpGzBC,GAAoB,EAAG59C,eAEzB,UAAC,GAAD,CAAMjO,KAAK,aAAX,SACGiO,EAAS5M,KAAK6M,IACb,UAAC,GAAD,CAAM/L,IAAKo8C,GAAAA,GAASv+C,KAAK,eAA6Cuf,GAAK,aAAYrR,EAAQxS,KAAM,mBAArG,SACGwS,EAAQlJ,OADmC,WAAUkJ,EAAQxS,UAQ3DowD,GAAe,EAAGrkD,OAAMgvC,cACnC,MAAMsV,EAAW,CAACtkD,EAAKmiB,WAAYniB,EAAKoiB,WAAW1oB,QAAOijB,KAAOA,IAAGjmB,KAAK,KAAKZ,OAE9E,OACE,WAAC,GAAD,CAAOyC,KAAK,YAAZ,WACE,UAAC,GAAD,CAAMA,KAAK,QAAQmC,IAAKmB,GAAQG,KAAK,OAAOiD,QAAS+vC,EAArD,UAA8D,UAAC,EAAD,OAE9D,WAAC,GAAD,CAAMz2C,KAAK,SAAX,WACE,UAAC,GAAD,CACEyH,KAAMA,EACNhJ,MAAO,CAAEvE,MAAO,GAAIC,OAAQ,GAAIwvB,SAAU,MAG3CoiC,IACC,UAAC,GAAD,CAAM/rD,KAAK,YAAX,SAAwB+rD,KAG1B,UAAC,GAAD,CAAM5pD,IAAI,IAAInC,KAAK,QAAnB,SAA4ByH,EAAKqiB,WAGlCriB,EAAKukD,QACJ,UAAC,GAAD,CAAMhsD,KAAK,UAAX,UACE,eAAG+D,KAAO,OAAM0D,EAAKukD,QAArB,SAA+BvkD,EAAKukD,YAIrCvkD,EAAKwkD,iBAAiB1yD,SACvB,WAAC,GAAD,CAAMyG,KAAK,UAAX,WACE,UAAC,GAAD,CAAMA,KAAK,gBAAX,SAA4B0tB,EAAE,uBAE9B,UAACm+B,GAAD,CAAmB59C,SAAUxG,EAAKwkD,wBAInCxkD,EAAK8jD,wBAAwBhyD,SAC9B,WAAC,GAAD,CAAMyG,KAAK,UAAX,WACE,UAAC,GAAD,CAAMA,KAAK,gBAAX,6BAEA,UAAC6rD,GAAD,CAAmB59C,SAAUxG,EAAK8jD,8BAItC,WAAC,GAAD,CAAMppD,IAAI,IAAInC,KAAK,cAAnB,gCACqBkrB,EAAAA,GAAAA,GAAO,IAAIC,KAAK1jB,EAAKikD,eAAgB,+BC9C1DQ,GAAkB,EAAGxyC,WAEvB,WAAC,GAAD,CAAO1Z,KAAK,SAAZ,WACE,UAAC,GAAD,CACE3C,MAAOqc,EACPjb,MAAO,CAAEvE,MAAO,QAChB4nD,UAAQ,KAGV,WAAC,GAAD,CAAarjD,MAAO,CAAEvE,MAAO,MAAOsnD,UAAW,IAA/C,iIACqH,eAAGz9C,KAAK,yCAAR,wBADrH,UAOOooD,GAAa,KACxB,MAAM5kD,EAAMC,KACN4kD,GAAcvwC,EAAAA,EAAAA,UACd9U,EAASK,MACRwjD,EAAcyB,IAAmBxmD,EAAAA,EAAAA,UAAS,OAE1C6T,EAAM4yC,IAAWzmD,EAAAA,EAAAA,YAElB2lD,GAAazlD,EAAAA,EAAAA,cAAa0B,IAC9B4kD,EAAgB5kD,GAEhBquB,aAAagC,QAAQ,eAAgBrwB,aAArC,EAAqCA,EAAM/L,MAC1C,CAAC2wD,IAEEE,GAAgBxmD,EAAAA,EAAAA,cAAa2T,IACjC,MAAMzb,EAAW8I,EAAO9I,UAAYsT,SAASI,OAE7C26C,EAAS,GAAEruD,IAAWyb,OACrB,CAAC3S,EAAQulD,IAENE,GAAazmD,EAAAA,EAAAA,cAAY,KAC7BwB,EAAIK,QAAQ,mBAAmBC,MAAK,EAAG4kD,iBACrCF,EAAcE,QAEf,CAACF,IAEEG,GAAmB3mD,EAAAA,EAAAA,cAAa2T,IAAD,CACnC1U,MAAO,gBACPvG,MAAO,CAAEvE,MAAO,IAAKC,OAAQ,KAC7BwE,KAAM,KACJ,UAACutD,GAAD,CAAiBxyC,KAAMA,IAEzBtP,OAAQ,KACN,MAAOzE,EAAQC,IAAaC,EAAAA,EAAAA,WAAS,GAE/B8mD,GAAW5mD,EAAAA,EAAAA,cAAY,KAC3BH,GAAU,GACVxH,GAASsb,GACT1T,YAAW,IAAMJ,GAAU,IAAQ,QAClC,IAEH,OACE,WAAC,GAAD,CAAOhB,QAAM,EAAb,WACE,UAAC,GAAD,WACE,UAAC,GAAD,CAAQnG,MAAO,CAAEvE,MAAO,KAAOwM,QAAS,IAAM8lD,IAA9C,2BAIF,UAAC,GAAD,WACE,UAAC,GAAD,CAAQnoD,SAAO,EAAC5F,MAAO,CAAEvE,MAAO,KAAOwM,QAASimD,EAAhD,SACGhnD,EAAS,UAAY,oBAMhCkG,YAAY,KACV,IAEE+gD,GAAsB7mD,EAAAA,EAAAA,cAAY,KACtCqmD,EAAY3iD,QAAU4D,GAAMq/C,EAAiBhzC,MAC5C,CAACgzC,EAAkBhzC,IAEhBmxC,GAAkBnlD,EAAAA,EAAAA,UAAQ,IACvBowB,aAAaC,QAAQ,iBAC3B,IAYH,OAVAjuB,EAAAA,EAAAA,YAAU,KACRP,EAAIK,QAAQ,cAAcC,MAAK,EAAG4kD,iBAChCF,EAAcE,QAEf,KAEH3kD,EAAAA,EAAAA,YAAU,KAAM,MACd,UAAAskD,EAAY3iD,eAAZ,SAAqBxC,OAAOylD,EAAiBhzC,MAC5C,CAACA,KAGF,WAAC,GAAD,CAAO1Z,KAAK,SAAZ,WACE,UAAC,GAAD,CAAMA,KAAK,WAAX,UACE,WAAC,GAAD,CAAO4E,QAAM,EAAb,WACE,UAAC,GAAD,KAEA,UAAC,GAAD,WACE,UAAC,GAAD,CAAQf,MAAM,UAAC,GAAD,IAAWQ,SAAO,EAACqC,QAASkmD,EAA1C,gCAMN,WAAC,GAAD,CAAM5sD,KAAK,UAAX,WACE,UAAC,GAAD,CACE4qD,aAAcA,EACdC,gBAAiBA,EACjBv8B,SAAW7mB,GAAS+jD,EAAW/jD,KAGhCmjD,IACC,UAAC,GAAD,CACEnjD,KAAMmjD,EACNnU,QAAS,IAAM+U,EAAW,e,OAQtCW,GAAWnnD,MAAQ,SACnBmnD,GAAWruD,KAAO,ICxIlB,MAAM+uD,GAA2B,WAC/BjmD,OAAO5I,aAAa8uD,aADW,cAC/B,GAA2BC,4BAiBvBC,GAAoB,GAEtBH,KACFG,GAAkBtM,IAAeA,IAG5B,MC1BMuM,GAAQ,CACnB1D,GDyB8B,CAC9BvkD,MAAO0oB,EAAE,gBACT5vB,KAAM,gBACN0hB,OAAO,EACP6oC,OAzBiB,EAAG7kD,cAAa8kD,MACjC,IAAInoC,EAAY,CAACgsC,IAKjB,OAHIU,IACF1sC,EAAUhjB,KAAKujD,KAGf,UAAC,GAAD,CACEvgC,UAAWA,EACXriB,KAAMwqD,EAAWvqD,MAAMsT,IACvB7N,SAAUA,KAgBdZ,UAAWupD,GACXzO,MAAOsP,KE5BHE,GAAsB1pD,IAC1B,MAAM2pD,EAAc,GACdC,EAAgB,GAEtB,IACErxC,EAAAA,SAAAA,QAAiBvY,GAAU2E,SAASoU,IAAU,MACxCA,SAAJ,UAAIA,EAAOviB,aAAX,OAAI,EAAcqT,MAAO8/C,EAAYhwD,KAAKof,GACrC6wC,EAAcjwD,KAAKof,MAE1B,MAAO9V,GACP8P,QAAQ2kB,IAAIz0B,GACZ8P,QAAQ2kB,IAAI,CAAC13B,aAGf,MAAO,CAAC2pD,EAAaC,IAMVC,GAA0B,EAAE7pD,WAAU4H,SAAQkiD,QAAO1qD,YAAW2qD,qBAAoBvzD,MAC/F,MAAMwzD,EAAUjqD,EAAAA,WAAiB8nB,IAE3BoiC,EAAoBjqD,IACxB,IAAI2pD,EAAc,GACdC,EAAgB,GAEhB5pD,EAASxJ,OAASwJ,EAASxJ,MAAMwJ,WAClC2pD,EAAaC,GAAiBF,GAAmB1pD,EAASxJ,MAAMwJ,UACjEA,EAAWD,EAAAA,aAAmBC,EAAU,CAAEA,SAAU4pD,KAC3CrsD,MAAMC,QAAQwC,MACtB2pD,EAAaC,GAAiBF,GAAmB1pD,GAClDA,EAAW4pD,GAGb,MAAMM,EAAS,MACuB,KAAhCF,aAAA,EAAAA,EAASlgC,aAAa,SAAiBkgC,SAAAA,EAASpgC,WAAW,OACxDmgC,QAAAA,GAAmB,UAACvlC,GAAD,CAAetsB,GAAG,kBAGxCiyD,EAAcR,EAAYrwD,QAAO,CAACC,EAAKuwD,KACvCA,EAAMtzD,MAAMwlB,MACdziB,EAAIyiB,MAAMriB,KAAKmwD,GAEfvwD,EAAIsQ,MAAMlQ,KAAKmwD,GAEVvwD,IACN,CACDyiB,MAAO,GACPnS,MAAO,KAGT,OACE,kCACGsgD,EAAYtgD,OACb,WAAC,KAAD,WACGsgD,EAAYnuC,MACZhc,GAED,UAAC,EAAD,CAAOgc,OAAK,EAAZ,UAAa,UAACkuC,EAAD,aAMfpF,EAAa,GAYnB,OAVIl9C,EACFk9C,EAAWl9C,OAAUpR,GAAUyzD,EAAiBriD,EAAOpR,IAC9CwJ,aAAoByI,SAC7Bq8C,EAAW9kD,SAAYxJ,GAAUyzD,EAAiBjqD,EAASxJ,IAClD4I,EACT0lD,EAAW1lD,UAAa5I,GAAUyzD,EAAiB7qD,EAAU5I,IAE7DsuD,EAAW9kD,SAAWiqD,EAAiBjqD,IAGxB,IAAV8pD,GACL,UAAC,EAAD,IAAWtzD,KAAWsuD,IAEtBmF,EAAiBjqD,ICjFfoqD,GAAoB,CAACxD,EAAQrjD,IAC1BqjD,aAAkBn+C,SAAWm+C,EAAOrjD,GAAUqjD,EAiB1CyD,GAAkB,CAACnQ,EAAO32C,KACrC,MAAM+mD,EAAgB,EAAE9tD,EAAM01B,MAAU,MACtC,MAAM43B,EAAQ,CACZxvD,KAAM43B,EAAK53B,MAyBb,OAtBAwvD,EAAM9tC,QAAUkW,EAAKlW,MACrB8tC,EAAMjgD,QAAUqoB,EAAKroB,MAEjBqoB,EAAK1wB,QAAOsoD,EAAMtoD,MAAQ0wB,EAAK1wB,OAC/B0wB,EAAKtqB,SAAQkiD,EAAMliD,OAASsqB,EAAKtqB,QAEjCsqB,aAAgBnyB,EAAAA,WAAmBmyB,aAAgBzpB,SACjDjM,GAAQ,SAAS0B,KAAK1B,GAAOstD,EAAMjF,OAAS3yB,EAC3C43B,EAAM1qD,UAAY8yB,GAEvB43B,EAAM1qD,UAAY8yB,EAAK9yB,UACvB0qD,EAAMjF,OAAS3yB,EAAK2yB,QAGlB3yB,EAAKgoB,MACP4P,EAAMlD,OAASyD,GAAgBD,GAAkBl4B,EAAKgoB,MAAO32C,GAASA,GAC7D2uB,EAAK00B,SACdkD,EAAMlD,OAASyD,GAAgBD,GAAkBl4B,EAAK00B,OAAQrjD,GAASA,IAGzE,UAAIumD,EAAM1qD,iBAAV,OAAI,EAAiBZ,UAASsrD,EAAMtrD,QAAUsrD,EAAM1qD,UAAUZ,SAEvDsrD,GAGT,IACE,OAAIvsD,MAAMC,QAAQ08C,GACTA,EAAMr8C,KAAKq0B,GAASo4B,EAAc,CAAC,KAAMp4B,MAEzCz8B,OAAOyE,QAAQggD,GAAOr8C,IAAIysD,GAEnC,MAAOrnD,GAEP,OADA8P,QAAQ2kB,IAAIz0B,GACL,KAUEsnD,GAAgB,CAAC3D,EAAQpwD,KACpC,MAqCMg0D,EAAgB,CAAC5D,EAAQ6D,IACtB7D,EAAO/oD,KAAKisD,GAtCJ,EAACA,EAAO17C,KACvB,MAAQhP,UAAW8pB,EAAW27B,OAAQ6F,EAAhC,KAAwCpwD,EAAxC,MAA8CuP,EAAO+8C,OAAQ+D,KAAY/rD,GAASkrD,EAElFW,EAAWr8C,EAAc,GAAEA,IAAa9T,IAASA,EAEvD,GAAIqwD,EAAS,CACX,MAAMC,EAAuBJ,EAAcG,EAASF,GAE9CI,EAAkB/F,IACtB,MAAM9kD,EAAW,GAcjB,OAVIkpB,GACFlpB,EAASrG,KAAK6wD,EAAc,CAAC,CAC3BlwD,OACAuP,WAAUjL,EACVQ,UAAW8pB,IACT9a,IAGNpO,EAASrG,QAAQixD,GAEVF,GAAS,UAACA,EAAD,IAAY5F,EAAZ,SAAyB9kD,IAAqBA,GAGhE,OACE,UAAC6pD,GAAD,CAAwCvvD,KAAMmwD,EAAU7iD,OAAQijD,GAAlCJ,GAE3B,CACL,MAAM3F,EAAa,CAAE7uD,IAAKw0D,EAAUnwD,KAAMmwD,EAAU5gD,QAASqf,EAAUrf,OACvE,OAAO,UAAC,EAAD,IAAWi7C,EAAY9oC,OAAK,EAACpU,OAAQ,KAC1C,UAACshB,EAAD,IAAgB1yB,QAAAA,EAAS,QACpBoI,MAKoByX,CAASyzC,EAAOW,KAG/C,OAAOD,EAAc5D,IC3GVkE,IAAgB9uD,EAAAA,EAAAA,iBAEvB+uD,GAAyB,CAACzwD,EAAM0wD,EAAW58C,EAAa,MAC5D,MAAM9E,EAAS,GAET/O,EAAQywD,EAAUz/B,MAAMu+B,IAC5B,MAAMmB,EAAgB,GAAE78C,IAAa07C,EAAMxvD,OAG3C,OAFc4wD,EAAAA,EAAAA,IAAU5wD,EAAM,CAAEA,KAAM2wD,OAKxC,GAAI1wD,EAAO,CACT,MAAM4wD,EAAa,GAAE/8C,IAAa7T,EAAMD,OACxCgP,EAAO3P,KAAK,IAAKY,EAAOD,KAAM6wD,IAE1B5wD,EAAMqsD,QACRt9C,EAAO3P,QAAQoxD,GAAuBzwD,EAAMC,EAAMqsD,OAAQuE,IAI9D,OAAO7hD,GAGI8hD,GAAiB,EAAEprD,eAC9B,MAAM4iB,GAAUC,EAAAA,EAAAA,MACV9U,EAAW4a,KACXplB,EAASK,MACT,MAAC4Q,GAASG,KACV0I,EAAcm3B,MACb6W,EAAgBC,IAAqBjpD,EAAAA,EAAAA,UAAS,OAC9CkpD,EAAqBC,IAA0BnpD,EAAAA,EAAAA,UAAS,MAEzD2oD,GAAY9oD,EAAAA,EAAAA,UAAQ,IACjBmoD,GAAgBZ,GAAO,CAAClmD,SAAQiR,WACtC,CAACzG,EAAUxK,EAAQiR,EAAOoO,IAEvB6oC,GAAcvpD,EAAAA,EAAAA,UAAQ,IACnB6oD,GAAuBh9C,EAASG,SAAU88C,IAChD,CAACj9C,EAAUi9C,IAERU,GAAYxpD,EAAAA,EAAAA,UAAQ,IACjBupD,EAAY9tD,QAAOnF,IAAMA,EAAEqR,QAAOmI,OAAO,GAAG,IAClD,CAACy5C,KAEGE,EAAaC,IAAkBvpD,EAAAA,EAAAA,UAASqpD,aAAD,EAACA,EAAWpxD,MAEpDqJ,GAAezB,EAAAA,EAAAA,UAAQ,KAAM,CACjC8oD,YACA3tC,cACAguC,iBACArT,gBAAiBwT,EACjBlxD,KAAMqxD,EACNxuC,cAAgB7iB,GAASywD,GAAuBzwD,EAAM0wD,MACpD,CACF3tC,EACA2tC,EACAK,EACAM,EACAL,IA6BF,OA1BAhnD,EAAAA,EAAAA,YAAU,KACR,MAAM2jB,EAAmByjC,aAAH,EAAGA,EAAWltD,QAEpC8sD,EAAkB,CAChBlsD,UAAW6oB,QAAAA,EAAoB,KAC/BzxB,MAAO+0D,IAGTK,EAAeF,aAAD,EAACA,EAAWpxD,MAE1B,IACE,MAAMs6C,EAAS6W,EAAY5tD,KAAIisD,IAAS,UACtC,MAAM52C,GAASg4C,EAAAA,EAAAA,IAAUn9C,EAASG,SAAU,CAAE5T,KAAMwvD,EAAMxvD,OACpDA,GAAOu9C,EAAAA,EAAAA,IAAaiS,EAAMxvD,KAAM4Y,EAAOA,QAI7C,MAAO,CAAC5Y,OAAMkH,MAHAsoD,EAAMtoD,iBAAiBiH,SAAWqhD,EAAMtoD,QAAUsoD,EAAMtoD,MAGjDvL,IAFZ,8BAAG6zD,EAAM1qD,iBAAT,aAAG,EAAiBD,mBAApB,QAAmC2qD,EAAM7zD,WAAzC,QAAgDqE,MAGxDqD,QAAO6tB,KAAOA,EAAEhqB,QAEnB8b,GAAes3B,GACf,MAAO3xC,GACP8P,QAAQ2kB,IAAIz0B,MAEb,CAAC8K,EAAUi9C,EAAWO,EAAqBE,EAAaC,KAGzD,UAACZ,GAAc5rD,SAAf,CAAwBrF,MAAO8J,EAA/B,SACG3D,KASMod,GAAwB,KAAM,QACzC,4BAAO9d,EAAAA,EAAAA,YAAWwrD,WAAlB,aAAO,EAA2B3tC,qBAAlC,QAAoD,IAAM,MAG/CD,GAAiB,KAAM,QAClC,4BAAO5d,EAAAA,EAAAA,YAAWwrD,WAAlB,aAAO,EAA2BztC,mBAAlC,QAAiD,IAOtCm4B,GAAY,KACvB,MAAMznC,EAAW4a,KACXgjC,EALN,WAAOrsD,EAAAA,EAAAA,YAAWwrD,WAAlB,aAAO,EAA2BxwD,KADN,IAAM,EAQlC,MAAMC,GAAQ2H,EAAAA,EAAAA,UAAQ,KAAM,MAC1B,MAAM2pD,EAAiB99C,EAASC,OAC7BtT,QAAQ,MAAO,IACfsD,MAAM,KACNH,KAAIiuD,IACH,MAAO71D,EAAK4D,GAASiyD,EAAK9tD,MAAM,KAAKH,KAAIgU,GAAKk6C,mBAAmBl6C,KACjE,MAAO,CAAC5b,EAAK4D,MAGXmU,EAASvY,OAAO2E,YAAYyxD,GAE5B/8C,GAAYo8C,EAAAA,EAAAA,IAAUn9C,EAASG,SAAUy9C,QAAAA,EAAe,IAE9D,MAAO,IAAI39C,KAAQ,UAAIc,aAAJ,EAAIA,EAAWoE,cAAf,QAAyB,MAC3C,CAACnF,EAAU49C,IAEd,OAAOpxD,QAAAA,EAAS,IAGL4tB,GAAsB,KAAM,MACvC,MAAM1R,GAAMnX,EAAAA,EAAAA,YAAWwrD,KAErB1rD,UAAW6oB,EACXzxB,MAAO0xB,GAFH,UAGFzR,aAHE,EAGFA,EAAK40C,sBAHH,QAGqB,GAE3B,MAAO,CAAEpjC,mBAAkBC,iBAGhBS,GAAmB,KAC9B,MAAM5a,GAAWi+C,EAAAA,EAAAA,MAQjB,OAJe9pD,EAAAA,EAAAA,UAAQ,KAAM,MAC3B,iBAAO6L,EAASA,gBAAhB,QAA4BA,IAC3B,CAACA,KAKOkqC,GAAkB,KAC7B,MAAMpuB,GAAWvqB,EAAAA,EAAAA,YAAWwrD,IAAe9S,gBAC3C,OAAO91C,EAAAA,EAAAA,UAAQ,IAAM2nB,GAAU,CAACA,KCvJrB60B,IAAiB1iD,EAAAA,EAAAA,eAAuB,IACrD0iD,GAAev/C,YAAc,iBAE7B,MAAM8sD,GAAe,IAAI59C,IAEZgnC,GAA2C,EAAEr1C,eAAc,MACtE,MAAM+D,EAAMC,KACNkP,EAASsiC,MACP/xC,OAAQyoD,GAAgBv3C,MAEzBw3C,EAAaC,IAAkB/pD,EAAAA,EAAAA,UAAQ,UAAqB4pD,GAAal8C,KAAKmD,EAAOhb,WAA9C,QAAqD,IAE7FumD,GAAwCl8C,EAAAA,EAAAA,cAAY8C,MAAOnN,EAAIk7B,GAAQ,KAC3E,MAAMi5B,IAAmBn0D,QAAAA,EAAMgb,EAAOhb,IAEtC,GAAI67B,MAAMs4B,GAAiB,QAEtBj5B,GAAS64B,GAAat2C,IAAI02C,IAC7BD,EAAe,IAAIH,GAAal8C,IAAIs8C,KAGtC,MAKMC,QALevoD,EAAIK,QAAoB,UAAW,CACtD8O,OAAQ,CAAEu5B,GAAI4f,GACdl4C,YAAa,KAAM,IAWrB,OANsD,KAAlDshB,EAAAA,GAAAA,GAAoB02B,EAAaG,KACnCF,EAAeE,GACfJ,EAAY,CAACxhD,QAAS4hD,IACtBL,GAAa95C,IAAIm6C,EAAYp0D,GAAIo0D,IAG5BA,IACN,CAACp5C,IAEEvI,GAA0CpI,EAAAA,EAAAA,cAAY8C,UAC1D,MAAMiE,QAAevF,EAAIK,QAAoB,gBAAiB,CAC5D8O,OAAQ,CACNu5B,GAAG0f,EAAYj0D,IAEjBiD,KAAMg7B,IAQR,OALI7sB,EAAOijD,QACTH,EAAe9iD,GACf4iD,EAAY,CAACxhD,QAASpB,KAGjBA,IACN,CAAC6iD,EAAaC,EAAgBF,IAajC,OAXA5nD,EAAAA,EAAAA,YAAU,MACH4O,EAAOhb,MAAOi0D,aAAf,EAAeA,EAAaj0D,KAC9Bk0D,EAAe,IAEjB3N,MACC,CAACvrC,KAEJ5O,EAAAA,EAAAA,YAAU,IACD,IAAM2nD,GAAaxpC,SACzB,KAGD,UAACi8B,GAAex/C,SAAhB,CAAyBrF,MAAO,CAC9B6Q,QAASyhD,EACT1N,eACA9zC,gBACA6hD,kBACEP,GAAaxpC,QACb2pC,EAAe,MANnB,SASGpsD,KAMMk1C,GAA4B,KAAM,MAC7C,kBAAO51C,EAAAA,EAAAA,YAAWo/C,WAAlB,QAAqC,IC5F1B+N,GAAe1sD,EAAAA,gBAEb,MAAM2sD,WAAsBxjC,EAAAA,UACzCrjB,YAAYrP,GACVsP,MAAMtP,GACNF,KAAKkQ,MAAQ,CAAEmmD,UAAU,GAGI,gCAACh6C,GAE9B,MAAO,CAAEg6C,UAAU,EAAMh6C,SAG3Bi6C,kBAAkBj6C,GAAO,eAACk6C,IAExBv2D,KAAKkR,SAAS,CACZmL,QACAg6C,UAAU,EACVG,UAAWD,IAIfjlD,SACE,GAAItR,KAAKkQ,MAAMmmD,SAAU,SACvB,MAAM,MAACh6C,EAAD,UAAQm6C,GAAax2D,KAAKkQ,MAE1BumD,EAAS,KAEbnqC,QAAQoqC,OAERxqD,YAAW,IAAMuL,SAASk/C,UAAU,KAGtC,OACE,UAAC,GAAD,CAAOtlD,OAAQ,IAAMoG,SAASk/C,SAAUhyD,MAAO,CAAEvE,MAAO,QAAU+P,SAAO,EAACoB,MAAI,EAA9E,UACE,iBAAK5M,MAAO,CAAC6b,QAAS,IAAtB,UACE,UAACvV,GAAD,CACEC,MAAM,gBACNC,QAASkR,EACThR,WAAa,GAAEmrD,EAAa,oBAAmBA,IAAc,SAAjD,oBAA0Dx2D,KAAKkQ,MAAMmM,aAArE,aAA0D,EAAkBu6C,aAA5E,QAAqF,KACjGprD,SAAUirD,EACVhrD,SAAU,IAAMgM,SAASk/C,eAOnC,OACE,UAACR,GAAavtD,SAAd,CAAuBrF,MAAO,CAC5B8yD,SAAUr2D,KAAKkQ,MAAMmmD,SACrBh6C,MAAOrc,KAAKkQ,MAAMmM,MAClBm6C,UAAWx2D,KAAKkQ,MAAMsmD,UACtBK,QAAS72D,KAAK62D,QACdC,UAAW92D,KAAK82D,WALlB,SAOG92D,KAAKE,MAAMwJ,YAMb,MC7DMqtD,GAAgB,EAAE7oD,cAC7B,MAAMoiD,EHkGN,qBAAOtnD,EAAAA,EAAAA,YAAWwrD,WAAlB,aAAO,EAA2BE,iBAAlC,QAA+C,GADrB,IAAM,IGhGhC,MAAMsC,EAAiB/C,GAAc3D,EAAQ,CAACpiD,YAE9C,OAAO8oD,GACL,UAACzD,GAAD,CAAyBvvD,KAAK,IAAI0F,SAAUstD,IAC1C,MCPOC,GAAW,EAAE/oD,cACxB,MAAMgpD,EAAoD,SAA3Cl7B,aAAaC,QAAQ,kBAC9BlU,EAASmvC,GAAqD,SAA3Cl7B,aAAaC,QAAQ,kBAE9C,OACE,UAAC,GAAD,CACE3X,SAAS,EACTyN,cAAehK,EACfiK,cAAeklC,EACfjlC,gBAAkB9hB,GAAY6rB,aAAagC,QAAQ,iBAAkB7tB,GACrE+hB,aAAeglC,GAAWl7B,aAAagC,QAAQ,iBAAkBk5B,GALnE,UAOE,UAACH,GAAD,CAAe7oD,QAASA,OCGxBipD,GAAU,IAAI3/C,IAAItT,aAAaC,UAAYsT,SAASI,QAEpDu/C,IAAiBC,EAAAA,EAAAA,IAAqB,CAC1CC,SAAUH,GAAQv/C,UAAY,MAGhC9K,OAAOyqD,IAAMH,GAIb,MAAMI,GAAM,EAAEtpD,cACZ,MAAMwQ,EAAY,CAChB8yB,IAAK,CACH5yB,UAAW9R,OAAO2qD,UAClB54C,OAAQ/R,OAAO4qD,WACf54C,kBAAmB,MAAQhS,OAAOwkC,aAEpCqmB,GAAI,CACF/4C,UAAW9R,OAAO8qD,MAClB/4C,OAAQ/R,OAAO+qD,OACf/4C,kBAAmB,MAAQhS,OAAO20C,cAItC,OACE,UAAC2U,GAAD,WACE,UAAC,KAAD,CAAQ9pC,QAAS8qC,GAAjB,UACE,UAACnpD,GAAD,CAAeE,UAAW,EACxB,UAAC8P,GAAD,GAAsB,cACtB,UAACpL,GAAD,GAAiB,QACjB,UAAC7F,GAAD,GAAoB,WACpB,UAACyR,GAAD,CAA2BC,UAAWA,GAAjB,QACrB,UAACo2C,GAAD,GAAoB,UACpB,UAAC/V,GAAD,GAAqB,YANvB,UAQE,UAAC1yB,GAAD,WACE,UAAC4qC,GAAD,CAAU/oD,QAASA,aAQzB5H,GAAO7B,SAAS8B,cAAc,gBAC9B2H,GAAUzJ,SAAS8B,cAAc,kBAEvC+K,EAAAA,EAAAA,SAAO,UAAC,GAAD,CAAKpD,QAASA,GAAQuf,YAAcnnB","sources":["webpack://frontend/./src/config/Sentry.ts","webpack://frontend/./src/assets/icons/bulb.svg","webpack://frontend/./src/assets/icons/check.svg","webpack://frontend/./src/assets/icons/cross.svg","webpack://frontend/./src/assets/icons/door.svg","webpack://frontend/./src/assets/icons/ellipsis.svg","webpack://frontend/./src/assets/icons/error.svg","webpack://frontend/./src/assets/icons/folder.svg","webpack://frontend/./src/assets/icons/info.svg","webpack://frontend/./src/assets/icons/minus.svg","webpack://frontend/./src/assets/icons/person-circle.svg","webpack://frontend/./src/assets/icons/pin.svg","webpack://frontend/./src/assets/icons/plus.svg","webpack://frontend/./src/assets/icons/settings.svg","webpack://frontend/./src/assets/icons/slack.svg","webpack://frontend/./src/assets/icons/upload.svg","webpack://frontend/./src/assets/icons/pencil.svg","webpack://frontend/./src/utils/helpers.ts","webpack://frontend/./src/utils/bem.tsx","webpack://frontend/./src/components/Form/FormContext.js","webpack://frontend/./src/components/Button/Button.styl?4479","webpack://frontend/./src/components/Button/Button.js","webpack://frontend/./src/components/Space/Space.styl?9455","webpack://frontend/./src/components/Space/Space.js","webpack://frontend/./src/components/Error/Error.js","webpack://frontend/./src/providers/ConfigProvider.js","webpack://frontend/./src/providers/CurrentUser.js","webpack://frontend/./src/providers/MultiProvider.js","webpack://frontend/./src/utils/transition.js","webpack://frontend/./src/components/Modal/ModalPopup.js","webpack://frontend/./src/components/Modal/Modal.js","webpack://frontend/./src/config/ApiConfig.js","webpack://frontend/./src/providers/ApiProvider.js","webpack://frontend/./src/utils/api-proxy.js","webpack://frontend/./src/providers/AppStoreProvider.tsx","webpack://frontend/./src/providers/LibraryProvider.js","webpack://frontend/./src/utils/dom.js","webpack://frontend/./src/components/Dropdown/DropdownContext.js","webpack://frontend/./src/components/Dropdown/DropdownTrigger.js","webpack://frontend/./src/components/Dropdown/DropdownComponent.js","webpack://frontend/./src/components/Dropdown/Dropdown.js","webpack://frontend/./src/components/Menu/Menu.styl?e263","webpack://frontend/./src/components/Menu/MenuContext.js","webpack://frontend/./src/components/Menu/Menu.js","webpack://frontend/./src/components/Menu/MenuItem.js","webpack://frontend/./src/components/Breadcrumbs/Breadcrumbs.styl?5e84","webpack://frontend/./src/components/Breadcrumbs/Breadcrumbs.js","webpack://frontend/./src/components/Card/Card.js","webpack://frontend/./src/components/Columns/Columns.js","webpack://frontend/./src/components/Hamburger/Hamburger.styl?aa53","webpack://frontend/./src/components/Hamburger/Hamburger.js","webpack://frontend/./src/utils/scripts.js","webpack://frontend/./src/app/AsyncPage/AsyncPage.js","webpack://frontend/./src/app/StaticContent/StaticContent.js","webpack://frontend/./src/components/Tooltip/Tooltip.js","webpack://frontend/./src/components/Userpic/Userpic.styl?175e","webpack://frontend/./src/components/Userpic/Userpic.js","webpack://frontend/./src/components/VersionNotifier/VersionNotifier.styl?4ba2","webpack://frontend/./src/components/VersionNotifier/VersionNotifier.js","webpack://frontend/./src/components/Menubar/Menubar.js","webpack://frontend/./src/components/SidebarMenu/SidebarMenu.js","webpack://frontend/./src/components/Spinner/Spinner.js","webpack://frontend/./src/components/ToggleItems/ToggleItems.tsx","webpack://frontend/./src/components/Form/Utils.ts","webpack://frontend/./src/components/Oneof/Oneof.js","webpack://frontend/./src/components/Form/Validation/Validators.js","webpack://frontend/./src/components/Form/FormField.js","webpack://frontend/./src/components/Form/Elements/Label/Label.js","webpack://frontend/./src/components/Form/Elements/Counter/Counter.js","webpack://frontend/./src/components/Form/Elements/Input/Input.js","webpack://frontend/./src/components/Form/Elements/Select/Select.js","webpack://frontend/./src/components/Form/Elements/TextArea/TextArea.js","webpack://frontend/./src/components/Form/Elements/Toggle/Toggle.js","webpack://frontend/./src/utils/hooks.ts","webpack://frontend/./src/components/Pagination/Pagination.tsx","webpack://frontend/./src/components/Form/Form.js","webpack://frontend/./src/utils/debounce.js","webpack://frontend/./src/utils/colors.js","webpack://frontend/./src/pages/CreateProject/Config/colors.js","webpack://frontend/./src/pages/CreateProject/Config/tags.js","webpack://frontend/./src/pages/CreateProject/Config/Template.js","webpack://frontend/./src/pages/CreateProject/Config/Preview.js","webpack://frontend/./src/pages/CreateProject/Config/TemplatesList.js","webpack://frontend/./src/pages/CreateProject/Config/Config.js","webpack://frontend/./src/pages/CreateProject/Import/Import.js","webpack://frontend/./src/pages/CreateProject/Import/useImportPage.js","webpack://frontend/./src/pages/CreateProject/CreateProject.js","webpack://frontend/./src/pages/CreateProject/utils/useDraftProject.js","webpack://frontend/./src/services/breadrumbs.js","webpack://frontend/./src/pages/CreateProject/Import/ImportModal.js","webpack://frontend/./src/pages/ExportPage/ExportPage.styl?d089","webpack://frontend/./src/pages/ExportPage/ExportPage.js","webpack://frontend/./src/pages/DataManager/api-config.js","webpack://frontend/./src/pages/DataManager/DataManager.js","webpack://frontend/./src/pages/WebhookPage/WebhookPage.styl?c2c5","webpack://frontend/./src/pages/WebhookPage/WebhookDeleteModal.js","webpack://frontend/./src/pages/WebhookPage/WebhookList.js","webpack://frontend/./src/pages/WebhookPage/WebhookDetail.js","webpack://frontend/./src/pages/WebhookPage/WebhookPage.js","webpack://frontend/./src/pages/Settings/DangerZone.js","webpack://frontend/./src/components/Form/Elements/RadioGroup/RadioGroup.styl?d771","webpack://frontend/./src/components/Form/Elements/RadioGroup/RadioGroup.js","webpack://frontend/./src/pages/Settings/GeneralSettings.js","webpack://frontend/./src/pages/Settings/InstructionsSettings.js","webpack://frontend/./src/pages/Settings/LabelingSettings.js","webpack://frontend/./src/components/Description/Description.styl?05ff","webpack://frontend/./src/components/Description/Description.js","webpack://frontend/./src/components/Divider/Divider.js","webpack://frontend/./src/components/Error/InlineError.js","webpack://frontend/./src/components/DescriptionList/DescriptionList.styl?cdab","webpack://frontend/./src/components/DescriptionList/DescriptionList.js","webpack://frontend/./src/pages/Settings/MachineLearningSettings/MachineLearningList.js","webpack://frontend/./src/pages/Settings/MachineLearningSettings/MachineLearningSettings.js","webpack://frontend/./src/pages/Settings/StorageSettings/StorageSummary.js","webpack://frontend/./src/pages/Settings/StorageSettings/StorageCard.js","webpack://frontend/./src/pages/Settings/StorageSettings/StorageForm.js","webpack://frontend/./src/pages/Settings/StorageSettings/StorageSet.js","webpack://frontend/./src/pages/Settings/StorageSettings/StorageSettings.js","webpack://frontend/./src/pages/Settings/index.js","webpack://frontend/./src/pages/Projects/ProjectsList.js","webpack://frontend/./src/pages/Projects/Projects.js","webpack://frontend/./src/pages/Organization/PeoplePage/PeopleList.styl?01c3","webpack://frontend/./src/hooks/useCopyText.ts","webpack://frontend/./src/components/CopyableTooltip/CopyableTooltip.js","webpack://frontend/./src/pages/Organization/PeoplePage/PeopleList.js","webpack://frontend/./src/pages/Organization/PeoplePage/SelectedUser.js","webpack://frontend/./src/pages/Organization/PeoplePage/PeoplePage.js","webpack://frontend/./src/pages/Organization/index.js","webpack://frontend/./src/pages/index.js","webpack://frontend/./src/routes/RouteWithStaticFallback.js","webpack://frontend/./src/utils/routeHelpers.js","webpack://frontend/./src/providers/RoutesProvider.js","webpack://frontend/./src/providers/ProjectProvider.tsx","webpack://frontend/./src/app/ErrorBoundary.js","webpack://frontend/./src/routes/ProjectRoutes.js","webpack://frontend/./src/app/RootPage.js","webpack://frontend/./src/app/App.js"],"sourcesContent":["import * as Sentry from \"@sentry/browser\";\nimport * as ReactSentry from '@sentry/react';\nimport { RouterHistory } from \"@sentry/react/dist/reactrouter\";\nimport { Integrations } from \"@sentry/tracing\";\nimport { Route } from 'react-router-dom';\n\nexport const initSentry = (history: RouterHistory) => {\n  // TEMP Sentry\n  return;\n  setTags();\n\n  Sentry.init({\n    dsn: \"https://5f51920ff82a4675a495870244869c6b@o227124.ingest.sentry.io/5838868\",\n    integrations: [\n      new Integrations.BrowserTracing({\n        routingInstrumentation: ReactSentry.reactRouterV5Instrumentation(history),\n      }),\n    ],\n    environment: process.env.NODE_ENV,\n    // Set tracesSampleRate to 1.0 to capture 100%\n    // of transactions for performance monitoring.\n    // We recommend adjusting this value in production\n    tracesSampleRate: 0.25,\n    release: process.env.RELEASE_NAME,\n  });\n};\n\nconst setTags = () => {\n  const tags: Record<string, any> = {};\n\n  if (APP_SETTINGS.user.email) {\n    Sentry.setUser({\n      email: APP_SETTINGS.user.email,\n      username: APP_SETTINGS.user.username,\n    });\n  }\n\n  if (APP_SETTINGS.version) {\n    Object.entries(APP_SETTINGS.version).forEach(([packageName, data]: [string, any]) => {\n      const {version, commit} = data ?? {};\n\n      if (version) {\n        tags['version-' + packageName] = version;\n      }\n      if (commit) {\n        tags['commit-' + packageName] = commit;\n      }\n    });\n  }\n\n  Sentry.setTags(tags);\n};\n\nexport const SentryRoute = ReactSentry.withSentryRouting(Route);\n","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgBulb(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 12,\n    viewBox: \"0 0 10 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    opacity: 0.9,\n    d: \"M4 11h2M3 8c0-2-1.5-2.5-1.5-4s1-3 3.5-3 3.5 1.5 3.5 3S7 6 7 8\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"square\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBulb);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgCheck(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 9,\n    viewBox: \"0 0 12 9\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 4l3 3 5-5\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"square\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgCross(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 2L2 14M2 2l12 12\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"square\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCross);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgDoor(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 18,\n    viewBox: \"0 0 14 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M.163.819C0 1.139 0 1.559 0 2.4v13.2c0 .84 0 1.26.163 1.581a1.5 1.5 0 00.656.655c.32.164.74.164 1.581.164h9.2c.84 0 1.26 0 1.581-.163a1.5 1.5 0 00.655-.656c.164-.32.164-.74.164-1.581V2.4c0-.84 0-1.26-.164-1.581a1.5 1.5 0 00-.655-.656C12.861 0 12.441 0 11.6 0H2.4C1.56 0 1.14 0 .819.163A1.5 1.5 0 00.163.82zM10 11a2 2 0 100-4 2 2 0 000 4z\",\n    fill: \"#000\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDoor);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgEllipsis(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M2 7a2 2 0 100 4 2 2 0 000-4zm5 2a2 2 0 114 0 2 2 0 01-4 0zm7 0a2 2 0 114 0 2 2 0 01-4 0z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEllipsis);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgError(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 12,\n    viewBox: \"0 0 14 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.348 10.313c.433.75-.11 1.687-.974 1.687H1.126a1.126 1.126 0 01-.974-1.687L5.776.563a1.126 1.126 0 011.948 0l5.624 9.75zM6.75 8.297a1.078 1.078 0 100 2.156 1.078 1.078 0 000-2.156zM5.726 4.422L5.9 7.609c.008.15.132.266.281.266H7.32c.15 0 .273-.117.28-.266l.175-3.187a.281.281 0 00-.281-.297H6.007a.281.281 0 00-.28.297z\",\n    fill: \"#F5222D\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgError);\nexport default ForwardRef;","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgFolder(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 16,\n    viewBox: \"0 0 18 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0 3.2c0-1.12 0-1.68.218-2.108a2 2 0 01.874-.874C1.52 0 2.08 0 3.2 0h2.4c.88 0 1.32 0 1.724.115a3 3 0 01.99.495c.334.254.598.606 1.126 1.31L11 4H0v-.8z\",\n    fill: \"#000\",\n    fillOpacity: 0.4\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0 5.4c0-.84 0-1.26.163-1.581a1.5 1.5 0 01.656-.656C1.139 3 1.559 3 2.4 3h13.2c.84 0 1.26 0 1.581.163a1.5 1.5 0 01.655.656c.164.32.164.74.164 1.581v8.2c0 .84 0 1.26-.163 1.581a1.5 1.5 0 01-.656.655c-.32.164-.74.164-1.581.164H2.4c-.84 0-1.26 0-1.581-.164a1.5 1.5 0 01-.656-.655C0 14.861 0 14.441 0 13.6V5.4z\",\n    fill: \"#000\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFolder);\nexport default ForwardRef;","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgInfo(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M16 2c2.702 0 5.158.655 7.232 1.828a13.01 13.01 0 014.94 4.94C29.345 10.842 30 13.298 30 16s-.655 5.158-1.828 7.232a13.01 13.01 0 01-4.94 4.94C21.158 29.345 18.702 30 16 30s-5.158-.655-7.232-1.828a13.01 13.01 0 01-4.94-4.94C2.655 21.158 2 18.702 2 16s.655-5.158 1.828-7.232a13.009 13.009 0 014.94-4.94C10.842 2.655 13.298 2 16 2z\",\n    fill: \"#09F\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M16.501 12.5c.552 0 .98.456.957 1.002l-.416 9.995a1.053 1.053 0 01-.924.996L16 24.5a1.058 1.058 0 01-1.042-1.003l-.355-8.502c-.013-.273-.23-.595-.474-.712l-1.322-.635a.599.599 0 01-.307-.498V13c0-.276.23-.5.502-.5H16.5zM16 7.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3z\",\n    fill: \"#fff\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInfo);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgMinus(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 2,\n    viewBox: \"0 0 10 2\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    opacity: 0.9,\n    d: \"M1 1h8\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"square\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMinus);\nexport default ForwardRef;","var _mask, _circle, _g;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgPersonCircle(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"none\",\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    width: 20,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _mask || (_mask = /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"person-circle_svg__a\",\n    height: 20,\n    maskUnits: \"userSpaceOnUse\",\n    width: 20,\n    x: 0,\n    y: 0\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 10,\n    cy: 10,\n    fill: \"#fff\",\n    r: 10\n  }))), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 10,\n    cy: 10,\n    fill: \"#000\",\n    fillOpacity: 0.4,\n    r: 10\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    mask: \"url(#person-circle_svg__a)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.605 17.411a3 3 0 011.32-2.198l2.183-1.454c.563-.376.608-1.204.153-1.705-.7-.77-1.515-1.912-1.515-3.054 0-2 .25-6 4.25-6s4.25 4 4.25 6c0 1.142-.815 2.284-1.515 3.054-.455.5-.41 1.33.153 1.705l2.182 1.454a3 3 0 011.321 2.198l.249 2.49A1 1 0 0115.641 21H4.351a1 1 0 01-.995-1.1z\",\n    fill: \"#000\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPersonCircle);\nexport default ForwardRef;","var _g;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgPin(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    fill: \"#000\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.08 11.074c.2-.234.3-.351.406-.425a1 1 0 011.076-.04c.11.064.22.173.438.391.218.218.327.327.392.438a1 1 0 01-.041 1.076c-.074.105-.19.206-.425.406l-5.39 4.62A.764.764 0 01.46 16.463l4.62-5.39z\",\n    fillOpacity: 0.6\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.303 1.697c.594-.594.891-.891 1.233-1.002a1.5 1.5 0 01.928 0c.342.111.639.408 1.233 1.002l2.606 2.606c.594.594.891.891 1.002 1.233a1.5 1.5 0 010 .928c-.111.342-.408.639-1.002 1.233l-2.769 2.769c-.2.2-.299.299-.383.41-.074.099-.14.204-.194.315a4.174 4.174 0 00-.196.526l-.942 2.827c-.271.813-.407 1.22-.66 1.408a1 1 0 01-.77.182c-.31-.055-.613-.359-1.22-.965L2.831 8.831c-.607-.607-.91-.91-.964-1.22a1 1 0 01.181-.77c.188-.253.595-.389 1.408-.66l2.827-.942c.268-.09.401-.134.526-.196a2 2 0 00.315-.194c.111-.084.211-.184.41-.383l2.769-2.769z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPin);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgPlus(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 14,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8 0v6h6v2H8v6H6V8H0V6h6V0h2z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSettings(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M4 0a4 4 0 100 8h10a4 4 0 000-8H4zm0 10a4 4 0 000 8h10a4 4 0 000-8H4zm2 4a2 2 0 11-4 0 2 2 0 014 0zm8-8a2 2 0 100-4 2 2 0 000 4z\",\n    fill: \"#000\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSettings);\nexport default ForwardRef;","var _path, _path2, _path3, _path4;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSlack(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.781 11.375c0 1.041-.85 1.891-1.89 1.891-1.041 0-1.891-.85-1.891-1.89 0-1.041.85-1.892 1.89-1.892h1.891v1.891zM4.734 11.375c0-1.04.85-1.89 1.891-1.89s1.891.85 1.891 1.89v4.735c0 1.04-.85 1.891-1.89 1.891-1.041 0-1.892-.85-1.892-1.891v-4.735z\",\n    fill: \"#E01E5A\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.625 3.782c-1.04 0-1.89-.85-1.89-1.891C4.734.85 5.584 0 6.624 0c1.041 0 1.891.85 1.891 1.891v1.89h-1.89zM6.625 4.734c1.04 0 1.891.85 1.891 1.891s-.85 1.891-1.89 1.891H1.89C.85 8.516 0 7.666 0 6.626c0-1.041.85-1.892 1.89-1.892h4.735z\",\n    fill: \"#36C5F0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.219 6.625c0-1.04.85-1.89 1.89-1.89 1.041 0 1.892.85 1.892 1.89 0 1.041-.85 1.891-1.891 1.891h-1.891v-1.89zM13.266 6.626c0 1.04-.85 1.89-1.891 1.89-1.04 0-1.891-.85-1.891-1.89V1.89c0-1.04.85-1.891 1.89-1.891 1.042 0 1.892.85 1.892 1.891v4.735z\",\n    fill: \"#2EB67D\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.374 14.219c1.04 0 1.89.85 1.89 1.89 0 1.041-.85 1.892-1.89 1.892s-1.891-.85-1.891-1.891v-1.891h1.89zM11.374 13.266c-1.04 0-1.89-.85-1.89-1.89 0-1.041.85-1.892 1.89-1.892h4.735c1.04 0 1.891.85 1.891 1.891s-.85 1.891-1.891 1.891h-4.735z\",\n    fill: \"#ECB22E\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSlack);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgUpload(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 64,\n    viewBox: \"0 0 48 64\",\n    fill: \"#1890FF\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28 17V0H3C1.337 0 0 1.337 0 3v58c0 1.663 1.337 3 3 3h42c1.663 0 3-1.337 3-3V20H31c-1.65 0-3-1.35-3-3zm8.148 27.001H28v10a2 2 0 01-2 2h-4a2 2 0 01-2-2v-10h-8.148c-1.784 0-2.676-2.161-1.408-3.42L22.496 28.62a2.131 2.131 0 013.005 0L37.554 40.58c1.268 1.259.378 3.42-1.407 3.42zm10.977-30.876L34.888.875A2.998 2.998 0 0032.763 0H32v16h16v-.762a2.99 2.99 0 00-.875-2.113z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpload);\nexport default ForwardRef;","var _path;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgPencil(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 12,\n    viewBox: \"0 0 12 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M11.548.453c-.603-.603-1.205-.603-1.808 0l-.78.779L10.77 3.04l.779-.78c.603-.602.603-1.205 0-1.807zm-1.632 3.44L8.108 2.083 1.905 8.288S-.506 11.3.097 11.904c.602.603 3.616-1.808 3.616-1.808l6.203-6.204z\",\n    fill: \"#000\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPencil);\nexport default ForwardRef;","export const formDataToJPO = (formData: FormData) => {\n  if (formData instanceof FormData) {\n    const entries = formData.entries();\n\n    return Array.from(entries).reduce((res, [key, value]) => {\n      return { ...res, [key]: value };\n    }, {});\n  }\n\n  return formData;\n};\n\ntype Uniqueness<T> = (a: T, b: T) => boolean\n\nexport const unique = <T>(list: T[] | undefined, expression: Uniqueness<T>): T[] => {\n  const comparator = expression ?? ((a, b) => a === b);\n\n  return (list ?? []).reduce<T[]>((res, item) => {\n    const index = res.findIndex((elem) => comparator(elem, item));\n\n    if (index < 0) res.push(item);\n\n    return res;\n  }, []);\n};\n\nexport const isDefined = <T>(value: T | null | undefined): value is T => {\n  return value !== null && value !== undefined;\n};\n\nexport const isEmptyString = (value: any) => {\n  return typeof value === 'string' && value.trim() === \"\";\n};\n\nexport const objectClean = <T extends AnyObject>(source: T) => {\n  const cleanObject: [keyof T, unknown][] = Object.entries(source).reduce<[keyof T, unknown][]>((res, [key, value]) => {\n    const valueIsDefined = isDefined(value) && !isEmptyString(value);\n\n    if (!valueIsDefined) { return res; }\n\n    if (Object.prototype.toString.call(value) === '[object Object]') {\n      return [...res, [key, objectClean(value as AnyObject)]];\n    } else {\n      return [...res, [key, value]];\n    }\n  }, []);\n\n  return Object.fromEntries(cleanObject) as T;\n};\n\nexport const numberWithPrecision = (n: number, precision = 1, removeTrailinZero = false) => {\n  if (typeof n !== 'number' || isNaN(n)) return '';\n\n  let finalNum = n.toFixed(precision);\n\n  if (removeTrailinZero) {\n    finalNum = finalNum.replace(/.(0+)$/, '');\n  }\n\n  return finalNum;\n};\n\nexport const humanReadableNumber = (n: number) => {\n  const abs = Math.abs(n);\n\n  if (isNaN(abs) || n === null) return \"\";\n  const normalizeNumber = (num: number) => numberWithPrecision(num, 1, true);\n\n  let result;\n\n  if (abs < 1e3) {\n    result = normalizeNumber(n);\n  } else if (abs >= 1e3 && abs < 1e6) {\n    result = `${normalizeNumber(n / 1e3)}K`;\n  } else if (abs >= 1e6 && abs < 1e9) {\n    result = `${normalizeNumber(n / 1e6)}M`;\n  } else {\n    result = `${normalizeNumber(n / 1e9)}B`;\n  }\n\n  return result || null;\n};\n\nexport const absoluteURL = (path = \"\") => {\n  if (path.match(/^https?/) || path.match(/^\\/\\//)) {\n    return path;\n  } else {\n    return [\n      APP_SETTINGS.hostname.replace(/([/]+)$/, ''),\n      path.replace(/^([/]+)/, ''),\n    ].join(\"/\");\n  }\n};\n\nexport const removePrefix = (path: string) => {\n  if (APP_SETTINGS.hostname) {\n    const hostname = APP_SETTINGS.hostname;\n    const prefix = new URL(hostname).pathname.replace(/([/]+)$/, '');\n\n    return path.replace(new RegExp(`^${prefix}`), '');\n  }\n\n  return path || \"/\";\n};\n\nexport const copyText = (text: string) => {\n  const input = document.createElement('textarea');\n\n  input.style.position = \"fixed\"; // don't mess up with scroll\n  document.body.appendChild(input);\n\n  input.value = text;\n  input.focus();\n  input.select();\n\n  document.execCommand('copy');\n  input.remove();\n};\n\nexport const delay = (time = 0) => {\n  return new Promise((resolve) => setTimeout(resolve, time));\n};\n\nexport const clamp = (value: number, min: number, max: number) => {\n  return Math.max(min, Math.min(value, max));\n};\n","import {\n  ComponentClass,\n  Context,\n  createContext,\n  createElement,\n  CSSProperties,\n  DOMAttributes,\n  forwardRef,\n  FunctionComponent,\n  ReactHTML,\n  ReactSVG,\n  useContext\n} from 'react';\nimport { isDefined, isEmptyString } from './helpers';\n\ninterface CNMod {\n  [key: string]: unknown\n}\n\ninterface CN {\n  block: (name: string) => CN\n  elem: (name: string) => CN\n  mod: (mods?: CNMod) => CN\n  mix: (...mix: CNMix[] | undefined[]) => CN\n  select: (root: Document | Element) => Element | null\n  selectAll: (root: Document | Element) => NodeList | null\n  closest: (target: Element) => Element | null\n  toString: () => string\n  toClassName: () => string\n  toCSSSelector: () => string\n}\n\ntype CNMix = string | CN | undefined\n\ninterface CNOptions {\n  elem?: string,\n  mod?: Record<string, unknown>,\n  mix?: CNMix | CNMix[] | undefined | undefined\n}\n\ntype CNTagName = keyof ReactHTML | keyof ReactSVG | ComponentClass<unknown, unknown> | FunctionComponent<unknown> | string\n\ntype CNComponentProps = {\n  name: string\n  tag?: CNTagName\n  block?: string\n  mod?: CNMod\n  mix?: CNMix | CNMix[]\n  className?: string\n  component?: CNTagName\n  style?: CSSProperties\n} & DOMAttributes<HTMLElement>\n\nexport type BemComponent = FunctionComponent<CNComponentProps>\n\nconst CSS_PREFIX = process.env.CSS_PREFIX ?? 'dm-';\n\nconst assembleClass = (block: string, elem?: string, mix?: CNMix | CNMix[], mod?: CNMod) => {\n  const rootName = block;\n  const elemName = elem ? `${rootName}__${elem}` : null;\n\n  const stateName = Object.entries(mod ?? {}).reduce((res, [key, value]) => {\n    const stateClass = [elemName ?? rootName];\n\n    if (value === null || value === undefined) return res;\n\n    if (value !== false) {\n      stateClass.push(key);\n\n      if (value !== true) stateClass.push(value as string);\n\n      res.push(stateClass.join('_'));\n    }\n    return res;\n  }, [] as string[]);\n\n  const finalClass: string[] = [];\n\n  finalClass.push(elemName ?? rootName);\n\n  finalClass.push(...stateName);\n\n  if (mix) {\n    const mixes = Array.isArray(mix) ? mix : [mix];\n    const mixMap = ([] as CNMix[])\n      .concat(...mixes)\n      .filter(m => isDefined(m) && m !== \"\")\n      .map(m => {\n        if (typeof m === 'string') {\n          return m;\n        } else {\n          return m?.toClassName?.();\n        }\n      })\n      .reduce((res, cls) => [...res, ...cls!.split(/\\s+/)], [] as string[]);\n\n    finalClass.push(...mixMap);\n  }\n\n  const attachNamespace = (cls: string) => {\n    if (new RegExp(CSS_PREFIX).test(cls)) return cls;\n    else return `${CSS_PREFIX}${cls}`;\n  };\n\n  return finalClass.filter(cls => !isEmptyString(cls)).map(attachNamespace).join(\" \");\n};\n\nconst BlockContext = createContext<CN | null>(null);\n\nexport const cn = (block: string, options: CNOptions = {}): CN => {\n  const { elem, mix, mod } = options ?? {};\n  const blockName = block;\n\n  const classNameBuilder: CN = {\n    block(name) {\n      return cn(name, { elem, mix, mod });\n    },\n\n    elem(name) {\n      return cn(block, { elem: name, mix, mod });\n    },\n\n    mod(newMod = {}) {\n      const stateOverride = Object.assign({}, mod ?? {}, newMod);\n\n      return cn(block ?? blockName, { elem, mix, mod: stateOverride });\n    },\n\n    mix(...mixes) {\n      return cn(block, { elem, mix: mixes, mod });\n    },\n\n    select(root = document) {\n      return root.querySelector(this.toCSSSelector());\n    },\n\n    selectAll(root = document) {\n      return root.querySelectorAll(this.toCSSSelector());\n    },\n\n    closest(root) {\n      return root.closest(this.toCSSSelector());\n    },\n\n    toString() {\n      return assembleClass(\n        block,\n        elem,\n        mix,\n        mod,\n      );\n    },\n\n    toClassName() {\n      return this.toString();\n    },\n\n    toCSSSelector() {\n      return `.${this.toClassName().replace(/(\\s+)/g, '.')}`;\n    },\n  };\n\n  Object.defineProperty(classNameBuilder, 'Block', { value: Block });\n  Object.defineProperty(classNameBuilder, 'Elem', { value: Elem });\n  Object.defineProperty(classNameBuilder, '__class', { value: {\n    block,\n    elem,\n    mix,\n    mod,\n  } });\n\n  return classNameBuilder;\n};\n\nexport const BemWithSpecifiContext = (context: Context<CN | null>) => {\n  const LocalContext = context ?? createContext<CN|null>(null);\n\n  const Block: BemComponent = forwardRef(({ tag = 'div', name, mod, mix, ...rest }, ref) => {\n    const rootClass = cn(name);\n    const finalMix = ([] as [ CNMix? ]).concat(mix).filter(cnm => !!cnm);\n    const className = rootClass.mod(mod).mix(...(finalMix as CNMix[]), rest.className).toClassName();\n    const finalProps = { ...rest, ref, className } as any;\n\n    return (\n      <LocalContext.Provider value={rootClass}>\n        {createElement(tag, finalProps)}\n      </LocalContext.Provider>\n    );\n  });\n\n  Block.displayName = 'Block';\n\n  const Elem: BemComponent = forwardRef(({ component, block, name, mod, mix, ...rest }, ref) => {\n    const blockCtx = useContext(LocalContext);\n\n    const finalMix = ([] as [ CNMix? ]).concat(mix).filter(cnm => !!cnm);\n    const finalTag = rest.tag ?? 'div';\n\n    const className = (block ? cn(block) : blockCtx)!\n      .elem(name)\n      .mod(mod)\n      .mix(...(finalMix as CNMix[]), rest.className)\n      .toClassName();\n\n    const finalProps: any = { ...rest, ref, className };\n\n    if (typeof finalTag !== 'string') finalProps.block = blockCtx;\n\n    return createElement(component ?? finalTag, finalProps);\n  });\n\n  Elem.displayName = 'Elem';\n\n  return { Block, Elem, Context: LocalContext };\n};\n\nexport const { Block, Elem } = BemWithSpecifiContext(BlockContext);\n\n","import { createContext } from 'react';\n\nexport const FormContext = createContext();\nFormContext.displayName = 'FormContext';\n\nexport const FormValidationContext = createContext();\nFormValidationContext.displayName = 'FormValidationContext';\n\nexport const FormSubmissionContext = createContext();\nFormSubmissionContext.displayName = 'FormSubmissionContext';\n\nexport const FormStateContext = createContext();\nFormStateContext.displayName = 'FormStateContext';\n\nexport const FormResponseContext = createContext();\nFormResponseContext.displayName = 'FormResponseContext';\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"ls-button\",\"button_waiting\":\"ls-button_waiting\",\"button__extra\":\"ls-button__extra\",\"button__icon\":\"ls-button__icon\",\"button_type_text\":\"ls-button_type_text\",\"button_type_link\":\"ls-button_type_link\",\"button_look_primary\":\"ls-button_look_primary\",\"button_look_danger\":\"ls-button_look_danger\",\"button_look_destructive\":\"ls-button_look_destructive\",\"button_size_compact\":\"ls-button_size_compact\",\"button_size_medium\":\"ls-button_size_medium\",\"button_size_small\":\"ls-button_size_small\",\"button_size_large\":\"ls-button_size_large\",\"button_withIcon\":\"ls-button_withIcon\",\"button-waiting\":\"ls-button-waiting\",\"button-group\":\"ls-button-group\",\"button-group_collapsed\":\"ls-button-group_collapsed\"};","import React from 'react';\nimport { Block, Elem } from '../../utils/bem';\nimport { isDefined } from '../../utils/helpers';\nimport { FormSubmissionContext } from '../Form/FormContext';\nimport \"./Button.styl\";\n\nexport const Button = React.forwardRef(\n  (\n    {\n      children,\n      type,\n      extra,\n      className,\n      size,\n      waiting,\n      icon,\n      tag,\n      look,\n      ...rest\n    },\n    ref,\n  ) => {\n    const finalTag = tag ?? (rest.href ? \"a\" : \"button\");\n\n    const mods = {\n      size,\n      waiting,\n      type,\n      look: look ?? [],\n      withIcon: !!icon,\n      withExtra: !!extra,\n    };\n\n    const formSubmitting = React.useContext(FormSubmissionContext);\n\n    if (formSubmitting === true) {\n      if (mods.look?.includes?.(\"primary\") && type === 'submit') {\n        mods.waiting = true;\n      } else {\n        rest.disabled = true;\n      }\n    }\n\n    if (rest.primary) {\n      mods.look = 'primary';\n      delete rest.primary;\n    }\n\n    const iconElem = React.useMemo(() => {\n      if (!icon) return null;\n      if (isDefined(icon.props.size)) return icon;\n\n      switch (size) {\n        case \"small\":\n          return React.cloneElement(icon, { ...icon.props, size: 12, width: 12, height: 12 });\n        case \"compact\":\n          return React.cloneElement(icon, { ...icon.props, size: 14, width: 14, height: 14 });\n        default:\n          return icon;\n      }\n    }, [icon, size]);\n\n    return (\n      <Block\n        name=\"button\"\n        mod={mods}\n        mix={className}\n        ref={ref}\n        tag={finalTag}\n        type={type}\n        {...rest}\n      >\n        <>\n          {iconElem && (\n            <Elem tag=\"span\" name=\"icon\">\n              {iconElem}\n            </Elem>\n          )}\n          {iconElem && children ? <span>{children}</span> : children}\n          {extra !== undefined ? <Elem name=\"extra\">{extra}</Elem> : null}\n        </>\n      </Block>\n    );\n  },\n);\nButton.displayName = \"Button\";\n\nButton.Group = ({ className, children, collapsed }) => {\n  return (\n    <Block name=\"button-group\" mod={{ collapsed }} mix={className}>\n      {children}\n    </Block>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"space\":\"ls-space\",\"space_direction_horizontal\":\"ls-space_direction_horizontal\",\"space_direction_vertical\":\"ls-space_direction_vertical\",\"space_spread\":\"ls-space_spread\",\"space_align_start\":\"ls-space_align_start\",\"space_align_end\":\"ls-space_align_end\",\"space_stretch\":\"ls-space_stretch\",\"space_size_large\":\"ls-space_size_large\",\"space_size_small\":\"ls-space_size_small\"};","import React from \"react\";\nimport { BemWithSpecifiContext } from \"../../utils/bem\";\nimport \"./Space.styl\";\n\nconst {Block} = BemWithSpecifiContext();\n\nexport const Space = ({\n  direction = \"horizontal\",\n  size,\n  className,\n  style,\n  children,\n  spread,\n  stretch,\n  align,\n}) => {\n  return (\n    <Block name=\"space\" mod={{ direction, size, spread, stretch, align }} mix={className} style={style}>\n      {children}\n    </Block>\n  );\n};\n","import React, { Fragment, useCallback, useMemo, useState } from 'react';\nimport { LsSlack } from '../../assets/icons';\nimport { Block, Elem } from '../../utils/bem';\nimport { absoluteURL, copyText } from '../../utils/helpers';\nimport { Button } from '../Button/Button';\nimport { Space } from '../Space/Space';\nimport \"./Error.styl\";\n\nconst SLACK_INVITE_URL = \"https://slack.labelstudio.heartex.com/?source=product-error-msg\";\n\nexport const ErrorWrapper = ({title, message, errorId, stacktrace, validation, version, onGoBack, onReload, possum = false}) => {\n  const preparedStackTrace = useMemo(() => {\n    return (stacktrace ?? \"\").trim();\n  }, [stacktrace]);\n\n  const [copied, setCopied] = useState(false);\n\n  const copyStacktrace = useCallback(() => {\n    setCopied(true);\n    copyText(preparedStackTrace);\n    setTimeout(() => setCopied(false), 1200);\n  }, [preparedStackTrace]);\n\n  return (\n    <Block name=\"error-message\">\n      {possum !== false && (\n        <Elem\n          tag=\"img\"\n          name=\"heidi\"\n          src={absoluteURL(\"/static/images/opossum_broken.svg\")}\n          height=\"111\"\n          alt=\"Heidi's down\"\n        />\n      )}\n\n      {title && (\n        <Elem name=\"title\">{title}</Elem>\n      )}\n\n      {message && <Elem name=\"detail\"dangerouslySetInnerHTML={{\n        __html: String(message),\n      }}/>}\n\n      {preparedStackTrace && (\n        <Elem name=\"stracktrace\" dangerouslySetInnerHTML={{\n          __html: preparedStackTrace.replace(/(\\n)/g, '<br>'),\n        }}/>\n      )}\n\n\n      {(validation?.length > 0) && (\n        <Elem tag=\"ul\" name=\"validation\">\n          {validation.map(([field, errors]) => (\n            <Fragment key={field}>\n              {[].concat(errors).map((err, i) => (\n                <Elem\n                  tag=\"li\"\n                  key={i}\n                  name=\"message\"\n                  dangerouslySetInnerHTML={{__html: err}}\n                />\n              ))}\n            </Fragment>\n          ))}\n        </Elem>\n      )}\n\n      {(version || errorId) && (\n        <Elem name=\"version\">\n          <Space>\n            {version && `Version: ${version}`}\n            {errorId && `Error ID: ${errorId}`}\n          </Space>\n        </Elem>\n      )}\n\n      <Elem name=\"actions\">\n        <Space spread>\n          <Elem tag={Button} name=\"action-slack\" target=\"_blank\" icon={<LsSlack/>} href={SLACK_INVITE_URL}>\n            Ask on Slack\n          </Elem>\n\n          <Space size=\"small\">\n            {preparedStackTrace && <Button disabled={copied} onClick={copyStacktrace} style={{width: 180}}>\n              {copied ? \"Copied\" : \"Copy Stacktrace\"}\n            </Button>}\n            {onGoBack && <Button onClick={onGoBack}>Go Back</Button>}\n            {onReload && <Button onClick={onReload}>Reload</Button>}\n          </Space>\n        </Space>\n      </Elem>\n\n    </Block>\n  );\n};\n\n\n\n","import { createContext, useContext, useMemo, useState } from 'react';\n\nexport const ConfigContext = createContext(window.APP_SETTINGS);\nConfigContext.displayName = \"ConfigContext\";\n\nexport const ConfigConsumer = ConfigContext.Consumer;\n\nexport const ConfigProvider = ({children}) => {\n  const [config, setConfig] = useState(window.APP_SETTINGS ?? {});\n\n  const update = (newConfig) => {\n    if (!newConfig) return;\n\n    setConfig(newConfig);\n  };\n\n  const contextValue = useMemo(() => {\n    return {\n      ...config,\n      update,\n    };\n  }, [config]);\n\n  return (\n    <ConfigContext.Provider value={contextValue}>\n      {children}\n    </ConfigContext.Provider>\n  );\n};\n\nexport const useConfig = () => {\n  return useContext(ConfigContext);\n};\n","import { createContext, useCallback, useContext, useEffect, useState } from \"react\";\nimport { useAPI } from \"./ApiProvider\";\n\nconst CurrentUserContext = createContext();\n\nexport const CurrentUserProvider = ({children}) => {\n  const api = useAPI();\n  const [user, setUser] = useState();\n\n  const fetch = useCallback(() => {\n    api.callApi('me').then(user => {\n      setUser(user);\n    });\n  }, [api.callApi]);\n\n  useEffect(() => {\n    fetch();\n  }, [fetch]);\n\n  return (\n    <CurrentUserContext.Provider value={{user, fetch}}>\n      {children}\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport const useCurrentUser = () => useContext(CurrentUserContext) ?? {};\n","import React from 'react';\n\nexport const MultiProvider = (props) => {\n  let content = props.children || null;\n\n  /* Error/Validation */\n  if (!props.providers) {\n    throw \"MultiProvider: Missing providers prop\";\n  }\n\n  if (!props.children) {\n    throw \"MultiProvider: Missing children\";\n  }\n\n  // Turn object into an array\n  // const numberOfProviders = props.providers.size;\n  const numberOfProviders = props.providers.length;\n\n  if (!numberOfProviders) {\n    // Providers prop is empty, r\n    return content;\n  }\n\n  [...(props.providers ?? [])].reverse().forEach((provider) => {\n    content = React.cloneElement(provider, null, content);\n  });\n\n  return content;\n};\n","/**\n * Performs a transition on an element\n * @param {HTMLElement} element\n * @param {Function} transition\n * @param {{\n * init: (element: HTMLElement) => void,\n * transition: (element: HTMLElement) => void,\n * onStart: (element: HTMLElement) => void,\n * beforeTransition: (element: HTMLElement) => void,\n * afterTransition: (element: HTMLElement) => void\n * }} param2\n */\nexport const aroundTransition = (element, { init, transition, onStart, beforeTransition, afterTransition } = {}) => {\n  return new Promise(async (resolve) => {\n    init?.(element);\n\n    const onTransitionStarted = () => {\n      onStart?.(element);\n    };\n\n    const onTransitionEnded = async () => {\n      await afterTransition?.(element);\n\n      element.removeEventListener('transitionstart', onTransitionStarted);\n      element.removeEventListener('transitionend', onTransitionEnded);\n      resolve();\n    };\n\n    element.addEventListener('transitionstart', onTransitionStarted);\n    element.addEventListener('transitionend', onTransitionEnded);\n\n    await beforeTransition?.();\n\n    setTimeout(() => transition(element), 30);\n  });\n};\n","\nimport React, { createContext, useContext } from 'react';\nimport { createPortal } from 'react-dom';\nimport { LsCross } from '../../assets/icons';\nimport { BemWithSpecifiContext, cn } from '../../utils/bem';\nimport { aroundTransition } from '../../utils/transition';\nimport { Button } from '../Button/Button';\nimport \"./Modal.styl\";\n\nconst {Block, Elem} = BemWithSpecifiContext();\n\nconst ModalContext = createContext();\n\nexport class Modal extends React.Component {\n\n  modalRef = React.createRef()\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      title: props.title,\n      body: props.body,\n      footer: props.footer,\n      visible: props.animateAppearance ? false : props.visible ?? false,\n      transition: props.visible ? 'visible' : null,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.animateAppearance) {\n      setTimeout(() => this.show(), 30);\n    }\n\n    document.addEventListener('keydown', this.closeOnEscape, {capture: true});\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.closeOnEscape, {capture: true});\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.visible !== this.state.visible) {\n      document.body.style.overflow = this.state.visible ? 'hidden' : '';\n    }\n  }\n\n  setBody(body) {\n    this.setState({ body });\n  }\n\n  show(onShow) {\n    return new Promise((resolve) => {\n      this.setState({ visible: true }, async () => {\n        onShow?.();\n        this.props.onShow?.();\n        await this.transition(\"appear\", resolve);\n      });\n    });\n  }\n\n  hide(onHidden) {\n    return new Promise((resolve) => {\n      this.transition('disappear', () => {\n        this.setState({ visible: false }, () => {\n          this.props.onHide?.();\n          resolve();\n          onHidden?.();\n        });\n      });\n    });\n  }\n\n  render () {\n    if (!this.state.visible) return null;\n\n    const bare = this.props.bare;\n\n    const mods = {\n      fullscreen: !!this.props.fullscreen,\n      bare: this.props.bare,\n      visible: this.props.visible || this.state.visible,\n    };\n\n    const mixes = [\n      this.transitionClass,\n      this.props.className,\n    ];\n\n    const modalSizeStyle = {};\n\n    if (this.props.width) modalSizeStyle.width = this.props.width;\n    if (this.props.height) modalSizeStyle.height = this.props.height;\n\n    const modalContent = (\n      <ModalContext.Provider value={this}>\n        <Block name=\"modal\" ref={this.modalRef} mod={mods} mix={mixes} onClick={this.onClickOutside}>\n          <Elem name=\"wrapper\">\n            <Elem name=\"content\" style={Object.assign({}, this.props.style, modalSizeStyle)}>\n              {!bare && (\n                <Modal.Header>\n                  <Elem name=\"title\">{this.state.title}</Elem>\n                  {this.props.allowClose !== false  && (\n                    <Elem tag={Button} name=\"close\" type=\"text\" icon={<LsCross/>}/>\n                  )}\n                </Modal.Header>\n              )}\n              <Elem name=\"body\" mod={{bare}}>\n                {this.body}\n              </Elem>\n              {this.props.footer && (\n                <Modal.Footer bare={this.props.bareFooter}>\n                  {this.footer}\n                </Modal.Footer>\n              )}\n            </Elem>\n          </Elem>\n        </Block>\n      </ModalContext.Provider>\n    );\n\n    return createPortal(modalContent, document.body);\n  }\n\n  onClickOutside = (e) => {\n    if (!this.modalRef.current) return;\n    const {closeOnClickOutside} = this.props;\n    const allowClose = this.props.allowClose !== false;\n    const isInModal = this.modalRef.current.contains(e.target);\n    const content = cn('modal').elem('content').closest(e.target);\n    const close = cn('modal').elem('close').closest(e.target);\n\n    if (allowClose && ((isInModal && close) || (content === null && closeOnClickOutside !== false))) {\n      this.hide();\n    }\n  }\n\n  closeOnEscape = (e) => {\n    if (this.props.allowClose === false) return;\n    if (e.key !== 'Escape') return;\n    if (!this.state.visible) return;\n\n    e.stopPropagation();\n    e.preventDefault();\n    this.hide();\n  }\n\n  transition(type, onFinish) {\n    return aroundTransition(this.modalRef.current, {\n      transition: async () => new Promise(resolve => {\n        this.setState({ transition: type }, () => {\n          resolve();\n        });\n      }),\n      beforeTransition: async () => new Promise(resolve => {\n        this.setState({ transition: `before-${type}` }, () => {\n          resolve();\n        });\n      }),\n      afterTransition: async () => new Promise(resolve => {\n        this.setState({ transition: type === 'appear' ? \"visible\" : null }, () => {\n          onFinish?.();\n          resolve();\n        });\n      }),\n    });\n  }\n\n  get transitionClass() {\n    switch (this.state.transition) {\n      case \"before-appear\": return \"before-appear\";\n      case \"appear\": return \"appear before-appear\";\n      case \"before-disappear\": return \"before-disappear\";\n      case \"disappear\": return \"disappear before-disappear\";\n      case \"visible\": return \"visible\";\n    }\n    return null;\n  }\n\n  get body() {\n    if (this.state.body) {\n      const Content = this.state.body;\n      return Content instanceof Function ? <Content/> : Content;\n    } else {\n      return this.props.children;\n    }\n  }\n\n  get footer() {\n    if (this.state.footer) {\n      const Content = this.state.footer;\n      return Content instanceof Function ? <Content/> : Content;\n    }\n\n    return null;\n  }\n}\n\nModal.Header = ({ children, divided }) => (\n  <Elem name=\"header\" mod={{divided}}>\n    {children}\n  </Elem>\n);\n\nModal.Footer = ({ children, bare }) => (\n  <Elem name=\"footer\" mod={{bare}}>\n    {children}\n  </Elem>\n);\n\nexport const useModalControls = () => {\n  return useContext(ModalContext);\n};\n","import React, { createRef } from \"react\";\nimport { render, unmountComponentAtNode } from \"react-dom\";\nimport { ApiProvider } from \"../../providers/ApiProvider\";\nimport { ConfigProvider } from \"../../providers/ConfigProvider\";\nimport { CurrentUserProvider } from \"../../providers/CurrentUser\";\nimport { MultiProvider } from \"../../providers/MultiProvider\";\nimport { cn } from \"../../utils/bem\";\nimport { Button } from \"../Button/Button\";\nimport { Space } from \"../Space/Space\";\nimport { Modal } from \"./ModalPopup\";\n\nconst standaloneModal = (props) => {\n  const modalRef = createRef();\n  const rootDiv = document.createElement(\"div\");\n  let renderCount = 0;\n  rootDiv.className = cn(\"modal-holder\").toClassName();\n\n  document.body.appendChild(rootDiv);\n\n  const renderModal = (props, animate) => {\n    renderCount++;\n\n    // simple modals don't require any parts of the app and can't cause the loop of death\n    render((\n      <MultiProvider key={`modal-${renderCount}`} providers={props.simple ? [] : [\n        <ConfigProvider key=\"config\"/>,\n        <ApiProvider key=\"api\"/>,\n        <CurrentUserProvider key=\"current-user\"/>,\n      ]}>\n        <Modal\n          ref={modalRef}\n          {...props}\n          onHide={() => {\n            props.onHidden?.();\n            unmountComponentAtNode(rootDiv);\n            rootDiv.remove();\n          }}\n          animateAppearance={animate}\n        />\n      </MultiProvider>\n    ), rootDiv);\n  };\n\n  renderModal(props, true);\n\n  return {\n    update(newProps) {\n      renderModal({...props, ...(newProps ?? {}), visible: true}, false);\n    },\n    close() {\n      const result = modalRef.current.hide();\n      unmountComponentAtNode(rootDiv);\n      rootDiv.remove();\n      return result;\n    },\n  };\n};\n\nexport const confirm = ({ okText, onOk, cancelText, onCancel, buttonLook, ...props }) => {\n  const modal = standaloneModal({\n    ...props,\n    allowClose: false,\n    footer: (\n      <Space align=\"end\">\n        <Button\n          onClick={() => {\n            onCancel?.();\n            modal.close();\n          }}\n          size=\"compact\"\n          autoFocus\n        >\n          {cancelText ?? \"Cancel\"}\n        </Button>\n\n        <Button\n          onClick={() => {\n            onOk?.();\n            modal.close();\n          }}\n          size=\"compact\"\n          look={buttonLook ?? 'primary'}\n        >\n          {okText ?? \"OK\"}\n        </Button>\n      </Space>\n    ),\n  });\n\n  return modal;\n};\n\nexport const info = ({ okText, onOkPress, ...props }) => {\n  const modal = standaloneModal({\n    ...props,\n    footer: (\n      <Space align=\"end\">\n        <Button\n          onClick={() => {\n            onOkPress?.();\n            modal.close();\n          }}\n          look=\"primary\"\n          size=\"compact\"\n        >\n          {okText ?? \"OK\"}\n        </Button>\n      </Space>\n    ),\n  });\n\n  return modal;\n};\n\nexport { standaloneModal as modal };\nexport { Modal };\n\nObject.assign(Modal, {\n  info,\n  confirm,\n  modal: standaloneModal,\n});\n","\nexport const API_CONFIG = {\n  gateway: `${window.APP_SETTINGS.hostname}/api`,\n  endpoints: {\n    // Users\n    users: \"/users\",\n    me: \"/current-user/whoami\",\n\n    // Organization\n    memberships: \"/organizations/:pk/memberships\",\n    inviteLink: \"/invite\",\n    resetInviteLink: \"POST:/invite/reset-token\",\n\n    // Project\n    projects: \"/projects\",\n    project: \"/projects/:pk\",\n    updateProject: \"PATCH:/projects/:pk\",\n    createProject: \"POST:/projects\",\n    deleteProject: \"DELETE:/projects/:pk\",\n\n    // Config and Import\n    configTemplates: \"/templates\",\n    validateConfig: \"POST:/projects/:pk/validate\",\n    createSampleTask: \"POST:/projects/:pk/sample-task\",\n    fileUploads: \"/projects/:pk/file-uploads\",\n    deleteFileUploads: \"DELETE:/projects/:pk/file-uploads\",\n    importFiles: \"POST:/projects/:pk/import\",\n    reimportFiles: \"POST:/projects/:pk/reimport\",\n    dataSummary: \"/projects/:pk/summary\",\n\n    // DM\n    deleteTabs: 'DELETE:/dm/views/reset',\n\n    // Storages\n    listStorages: \"/storages/:target?\",\n    storageTypes: \"/storages/:target?/types\",\n    storageForms: \"/storages/:target?/:type/form\",\n    createStorage: \"POST:/storages/:target?/:type\",\n    deleteStorage: \"DELETE:/storages/:target?/:type/:pk\",\n    updateStorage: \"PATCH:/storages/:target?/:type/:pk\",\n    syncStorage: \"POST:/storages/:target?/:type/:pk/sync\",\n    validateStorage: \"POST:/storages/:target?/:type/validate\",\n\n    // ML\n    mlBackends: \"GET:/ml\",\n    mlBackend: \"GET:/ml/:pk\",\n    addMLBackend: \"POST:/ml\",\n    updateMLBackend: \"PATCH:/ml/:pk\",\n    deleteMLBackend: \"DELETE:/ml/:pk\",\n    trainMLBackend: \"POST:/ml/:pk/train\",\n    predictWithML: \"POST:/ml/:pk/predict\",\n    modelVersions: \"/projects/:pk/model-versions\",\n    mlInteractive: \"POST:/ml/:pk/interactive-annotating\",\n\n    // Export\n    export: \"/projects/:pk/export\",\n    previousExports: \"/projects/:pk/export/files\",\n    exportFormats: \"/projects/:pk/export/formats\",\n\n    // Version\n    version: '/version',\n\n    // Webhook\n    webhooks: \"/webhooks\",\n    webhook: \"/webhooks/:pk\",\n    updateWebhook: \"PATCH:/webhooks/:pk\",\n    createWebhook: \"POST:/webhooks\",\n    deleteWebhook: \"DELETE:/webhooks/:pk\",\n    webhooksInfo: \"/webhooks/info\",\n  },\n  alwaysExpectJSON: false,\n};\n","import { createContext, forwardRef, useCallback, useContext, useEffect, useMemo, useState } from 'react';\nimport { ErrorWrapper } from '../components/Error/Error';\nimport { modal } from '../components/Modal/Modal';\nimport { API_CONFIG } from '../config/ApiConfig';\nimport { APIProxy } from '../utils/api-proxy';\nimport { absoluteURL } from '../utils/helpers';\n\nconst API = new APIProxy(API_CONFIG);\n\nexport const ApiContext = createContext();\nApiContext.displayName = 'ApiContext';\n\nlet apiLocked = false;\n\nconst errorFormatter = (result) => {\n  const {response} = result;\n  const isShutdown = String(response?.detail ?? result?.error) === 'Failed to fetch';\n\n  return {\n    isShutdown,\n    title: result.error ? \"Runtime error\" : \"Server error\",\n    message: response?.detail ?? result?.error,\n    stacktrace: response?.exc_info ?? null,\n    version: response?.version,\n    validation: Object.entries(response?.validation_errors ?? {}),\n  };\n};\n\nconst handleError = async (response, showModal = true) => {\n  let result = response;\n\n  if (result instanceof Response) {\n    result = await API.generateError(response);\n  }\n\n  if (response.status === 401) {\n    location.href = absoluteURL(\"/\");\n    return;\n  }\n\n  const {isShutdown, ...formattedError} = errorFormatter(result);\n\n  if (showModal) {\n\n    modal({\n      allowClose: !isShutdown,\n      body: isShutdown ? (\n        <ErrorWrapper\n          possum={false}\n          title={\"Connection refused\"}\n          message={\"Server not responding. Is it still running?\"}\n        />\n      ) : (\n        <ErrorWrapper {...formattedError}/>\n      ),\n      simple: true,\n      style: { width: 680 },\n    });\n  }\n\n  return isShutdown;\n};\n\nexport const ApiProvider = forwardRef(({children}, ref) => {\n  const [error, setError] = useState(null);\n\n  const callApi = useCallback(async (method, { params = {}, errorFilter, ...rest } = {}) => {\n    if (apiLocked) return;\n\n    setError(null);\n\n    const result = await API[method](params, rest);\n\n    if (result.status === 401) {\n      apiLocked = true;\n      location.href = absoluteURL(\"/\");\n      return;\n    }\n\n    if (result.error) {\n      const shouldCatchError = errorFilter?.(result) === false;\n\n      if (!errorFilter || shouldCatchError){\n        setError(result);\n        const isShutdown = await handleError(result, contextValue.showModal);\n\n        apiLocked = apiLocked || isShutdown;\n\n        return null;\n      }\n    }\n\n    return result;\n  }, []);\n\n  const contextValue = useMemo(() => ({\n    api: API,\n    callApi,\n    handleError,\n    error,\n    showModal: true,\n    errorFormatter,\n    isValidMethod(...args) {\n      return API.isValidMethod(...args);\n    },\n  }), [error]);\n\n  useEffect(() => {\n    if (ref) {\n      ref.current = contextValue;\n    }\n  }, [ref]);\n\n  return (\n    <ApiContext.Provider value={contextValue}>\n      {children}\n    </ApiContext.Provider>\n  );\n});\n\nexport const useAPI = () => {\n  return useContext(ApiContext);\n};\n","/**\n * @typedef {string | {\n  * path: string,\n  * method: RequestMethod,\n  * convert: ResponseConverter,\n  * mock: (url: string, request: Request) => Dict\n  * body: Dict,\n  * headers: Headers,\n  * }} EndpointConfig\n  */\n\nimport { formDataToJPO } from \"./helpers\";\n\n/**\n  * @typedef {Dict<string, EndpointConfig>} Endpoints\n  */\n\n/**\n  * @typedef {{\n  * gateway: string | URL,\n  * endpoints: Dict<EndpointConfig>,\n  * commonHeaders: Dict<string>,\n  * mockDelay: number,\n  * mockDisabled: boolean,\n  * sharedParams: Dict<any>,\n  * alwaysExpectJSON: boolean,\n  * }} APIProxyOptions\n  */\n\n/**\n  * Proxy layer for any type of API's\n  */\nexport class APIProxy {\n  /** @type {string} */\n  gateway = null;\n\n  /** @type {Dict<string>} */\n  commonHeaders = {};\n\n  /** @type {number} */\n  mockDelay = 0;\n\n  /** @type {boolean} */\n  mockDisabled = false;\n\n  /** @type {\"same-origin\"|\"cors\"} */\n  requestMode = \"same-origin\";\n\n  /** @type {Dict} */\n  sharedParams = {};\n\n  /**\n    * Constructor\n    * @param {APIProxyOptions} options\n    */\n  constructor(options) {\n    this.commonHeaders = options.commonHeaders ?? {};\n    this.gateway = this.resolveGateway(options.gateway);\n    this.requestMode = this.detectMode();\n    this.mockDelay = options.mockDelay ?? 0;\n    this.mockDisabled = options.mockDisabled ?? false;\n    this.sharedParams = options.sharedParams ?? {};\n    this.alwaysExpectJSON = options.alwaysExpectJSON ?? true;\n\n    this.resolveMethods(options.endpoints);\n  }\n\n  /**\n    * Check if method exists\n    * @param {String} method\n    */\n  isValidMethod(method) {\n    return this[method] instanceof Function;\n  }\n\n  /**\n    * Resolves gateway to a full URL\n    * @returns {string}\n    */\n  resolveGateway(url) {\n    if (url instanceof URL) {\n      return url.toString();\n    }\n\n    try {\n      return new URL(url).toString();\n    } catch (e) {\n      const gateway = new URL(window.location.href);\n      gateway.search = \"\";\n      gateway.hash = \"\";\n\n      if (url[0] === \"/\") {\n        gateway.pathname = url.replace(/([/])$/, \"\");\n      } else {\n        gateway.pathname = `${gateway.pathname}/${url}`\n          .replace(/([/]+)/g, \"/\")\n          .replace(/([/])$/, \"\");\n      }\n      return gateway.toString();\n    }\n  }\n\n  /**\n    * Detect RequestMode.\n    * @returns {\"same-origin\"|\"cors\"}\n    */\n  detectMode() {\n    const currentOrigin = window.location.origin;\n    const gatewayOrigin = new URL(this.gateway).origin;\n\n    return currentOrigin === gatewayOrigin ? \"same-origin\" : \"cors\";\n  }\n\n  /**\n    * Build methods list from endpoints\n    * @private\n    */\n  resolveMethods(endpoints, parentPath) {\n    if (endpoints) {\n      const methods = new Map(Object.entries(endpoints));\n\n      methods.forEach((settings, methodName) => {\n        const { scope, ...restSettings } = this.getSettings(settings);\n\n        Object.defineProperty(this, methodName, {\n          value: this.createApiCallExecutor(restSettings, [parentPath]),\n        });\n\n        Object.defineProperty(this, `${methodName}Raw`, {\n          value: this.createApiCallExecutor(restSettings, [parentPath], true),\n        });\n\n        if (scope)\n          this.resolveMethods(scope, [\n            ...(parentPath ?? []),\n            restSettings.path,\n          ]);\n      });\n    }\n  }\n\n  /**\n    * Actual API call\n    * @param {EndpointConfig} settings\n    * @private\n    */\n  createApiCallExecutor(methodSettings, parentPath, raw = false) {\n    return async (urlParams, { headers, body } = {}) => {\n      let responseResult, responseMeta;\n\n      try {\n        const finalParams = {\n          ...(urlParams ?? {}),\n          ...(this.sharedParams ?? {}),\n        };\n\n        const { method, url: apiCallURL } = this.createUrl(\n          methodSettings.path,\n          finalParams,\n          parentPath,\n        );\n\n        const requestMethod =\n           method ?? (methodSettings.method ?? \"get\").toUpperCase();\n\n        const initialheaders = Object.assign(\n          this.getDefaultHeaders(requestMethod),\n          this.commonHeaders ?? {},\n          methodSettings.headers ?? {},\n          headers ?? {},\n        );\n\n        const requestHeaders = new Headers(initialheaders);\n\n        const requestParams = {\n          method: requestMethod,\n          headers: requestHeaders,\n          mode: this.requestMode,\n          credentials: this.requestMode === \"cors\" ? \"omit\" : \"same-origin\",\n        };\n\n        if (requestMethod !== \"GET\") {\n          const contentType = requestHeaders.get(\"Content-Type\");\n          const { sharedParams } = this;\n          let extendedBody = body ?? {};\n\n          if (extendedBody instanceof FormData) {\n            Object.entries(sharedParams ?? {}).forEach(([key, value]) => {\n              extendedBody.append(key, value);\n            });\n          } else {\n            Object.assign(extendedBody, {\n              ...(sharedParams ?? {}),\n              ...(body ?? {}),\n            });\n          }\n\n          if (extendedBody instanceof FormData) {\n            requestParams.body = extendedBody;\n          } else if (contentType === \"multipart/form-data\") {\n            requestParams.body = this.createRequestBody(extendedBody);\n          } else if (contentType === \"application/json\") {\n            requestParams.body = this.bodyToJSON(extendedBody);\n          } else {\n            requestParams.body = extendedBody;\n          }\n\n          // @todo better check for files maybe?\n          if (contentType === \"multipart/form-data\") {\n            // fetch will set correct header with boundaries\n            requestHeaders.delete('Content-Type');\n          }\n        }\n\n        /** @type {Response} */\n        let rawResponse;\n\n        if (\n          methodSettings.mock &&\n           process.env.NODE_ENV === \"development\" &&\n           !this.mockDisabled\n        ) {\n          rawResponse = await this.mockRequest(\n            apiCallURL,\n            urlParams,\n            requestParams,\n            methodSettings,\n          );\n        } else {\n          rawResponse = await fetch(apiCallURL, requestParams);\n        }\n\n        responseMeta = {\n          headers: new Map(Array.from(rawResponse.headers)),\n          status: rawResponse.status,\n          url: rawResponse.url,\n        };\n\n        if (raw) return rawResponse;\n\n        if (rawResponse.ok) {\n          const responseText = await rawResponse.text();\n\n          try {\n            const responseData =\n               rawResponse.status !== 204\n                 ? JSON.parse(\n                   this.alwaysExpectJSON ? responseText : responseText || \"{}\",\n                 )\n                 : { ok: true };\n\n            if (methodSettings.convert instanceof Function) {\n              return await methodSettings.convert(responseData);\n            }\n\n            responseResult = responseData;\n          } catch (err) {\n            responseResult = this.generateException(err, responseText);\n          }\n        } else {\n          responseResult = this.generateError(rawResponse);\n        }\n      } catch (exception) {\n        responseResult = this.generateException(exception);\n      }\n\n      Object.defineProperty(responseResult, '$meta', {\n        value: responseMeta,\n        configurable: false,\n        enumerable: false,\n        writable: false,\n      });\n\n      return responseResult;\n    };\n  }\n\n  /**\n    * Retrieve method-specific settings\n    * @private\n    * @param {EndpointConfig} settings\n    * @returns {EndpointConfig}\n    */\n  getSettings(settings) {\n    if (typeof settings === \"string\") {\n      settings = {\n        path: settings,\n      };\n    }\n\n    return {\n      method: \"GET\",\n      mock: undefined,\n      convert: undefined,\n      scope: undefined,\n      ...settings,\n    };\n  }\n\n  getDefaultHeaders(method) {\n    switch (method) {\n      case \"POST\":\n      case \"PATCH\":\n      case \"DELETE\": {\n        return {\n          \"Content-Type\": \"application/json\",\n        };\n      }\n      default:\n        return {};\n    }\n  }\n\n  /**\n    * Creates a URL from gateway + endpoint path + params\n    * @param {string} path\n    * @param {Dict} data\n    * @private\n    */\n  createUrl(endpoint, data = {}, parentPath) {\n    const url = new URL(this.gateway);\n    const usedKeys = [];\n    const { path: resolvedPath, method: resolvedMethod } = this.resolveEndpoint(\n      endpoint,\n      data,\n    );\n    const path = []\n      .concat(...(parentPath ?? []), resolvedPath)\n      .filter((p) => p !== undefined)\n      .join(\"/\")\n      .replace(/([/]+)/g, \"/\");\n\n    const processedPath = path.replace(/:([^/]+)/g, (...res) => {\n      const keyRaw = res[1];\n      const [key, optional] = keyRaw.match(/([^?]+)(\\??)/).slice(1, 3);\n      const result = data[key];\n\n      usedKeys.push(key);\n\n      if (result === undefined) {\n        if (optional === \"?\") return \"\";\n        throw new Error(`Can't find key \\`${key}\\` in data`);\n      }\n\n      return result;\n    });\n\n    url.pathname += processedPath\n      .replace(/\\/+/g, \"/\")\n      .replace(/\\/+$/g, \"\");\n\n    if (data && typeof data === \"object\") {\n      Object.entries(data).forEach(([key, value]) => {\n        if (!usedKeys.includes(key)) {\n          url.searchParams.set(key, value);\n        }\n      });\n    }\n\n    return {\n      url: url.toString(),\n      method: resolvedMethod,\n    };\n  }\n\n  /**\n    * Resolves an endpoint\n    * @param {string|Function} endpoint\n    * @param {Dict} data\n    */\n  resolveEndpoint(endpoint, data) {\n    let finalEndpoint;\n    if (endpoint instanceof Function) {\n      finalEndpoint = endpoint(data);\n    } else {\n      finalEndpoint = endpoint;\n    }\n\n    const methodRegexp = /^(GET|POST|PATCH|DELETE|PUT|HEAD|OPTIONS):/;\n    const method = finalEndpoint.match(methodRegexp)?.[1];\n    const path = finalEndpoint.replace(methodRegexp, \"\");\n\n    return { method, path };\n  }\n\n  /**\n    * Create FormData object from raw JS object\n    * @private\n    * @param {Dict} body\n    */\n  createRequestBody(body) {\n    if (body instanceof FormData) return body;\n\n    const formData = new FormData();\n\n    Object.entries(body).forEach(([key, value]) => {\n      formData.append(key, value);\n    });\n\n    return formData;\n  }\n\n  /**\n    * Converts body to JSON string\n    * @param {Object|FormData} body\n    */\n  bodyToJSON(body) {\n    const object = formDataToJPO(body);\n    return JSON.stringify(object);\n  }\n\n  /**\n    * Generates an error from a Response object\n    * @param {Response} fetchResponse\n    * @private\n    */\n  async generateError(fetchResponse, exception) {\n    const result = (async () => {\n      const text = await fetchResponse.text();\n      try {\n        return JSON.parse(text);\n      } catch (e) {\n        return text;\n      }\n    })();\n\n    return {\n      status: fetchResponse.status,\n      error: (exception?.message ?? fetchResponse.statusText) || \"Server Error\",\n      response: await result,\n    };\n  }\n\n  /**\n    * Generates an error from a caught exception\n    * @param {Error} exception\n    * @private\n    */\n  generateException(exception, details) {\n    console.error(exception);\n    const parsedDetails = () => {\n      try {\n        return JSON.parse(details);\n      } catch (e) {\n        return details;\n      }\n    };\n    return {\n      error: exception.message,\n      details: parsedDetails(),\n    };\n  }\n\n  /**\n    * Emulate server call\n    * @param {string} url\n    * @param {Request} params\n    * @param {EndpointConfig} settings\n    */\n  mockRequest(url, params, request, settings) {\n    return new Promise(async (resolve) => {\n      let response = null;\n      let ok = true;\n\n      try {\n        const fakeRequest = new Request(request);\n\n        if (typeof request.body === \"string\") {\n          fakeRequest.body = JSON.parse(request.body);\n        }\n\n        response = await settings.mock(url, params ?? {}, fakeRequest);\n      } catch (err) {\n        console.error(err);\n        ok = false;\n      }\n\n      setTimeout(() => {\n        resolve({\n          ok,\n          json() {\n            return Promise.resolve(response);\n          },\n        });\n      }, this.mockDelay);\n    });\n  }\n}\n","import React from 'react';\n\ntype Store = {\n  project: unknown,\n}\ntype Context = {\n  store: Store,\n  update: (data: Partial<Store>) => void,\n}\n\nconst AppStoreContext = React.createContext<Context>({} as Context);\nAppStoreContext.displayName = 'AppStoreContext';\n\nexport const AppStoreProvider: React.FunctionComponent = ({children}) => {\n  const [store, setStore] = React.useState({} as Store);\n\n  const update = React.useCallback((newData: Partial<Store>) => {\n    setStore({...store, ...(newData ?? {})});\n  }, [store]);\n\n  const contextValue = React.useMemo(() => ({\n    store,\n    update,\n  }), [store, update]);\n\n  return (\n    <AppStoreContext.Provider value={contextValue}>\n      {children}\n    </AppStoreContext.Provider>\n  );\n};\n\nexport const useAppStore = () => {\n  return React.useContext(AppStoreContext);\n};\n","import { createContext, useCallback, useContext, useEffect, useMemo, useState } from 'react';\n\nconst libraryQueue = new Map;\n\nconst libRequest = new Map;\n\nconst requestLabelStudio = (libraries) => async (library) => {\n  const {scriptSrc, cssSrc, checkAvailability} = libraries[library];\n  const availableLibrary = checkAvailability();\n\n  const queueSet = libraryQueue.get(library) ?? new Set();\n  libraryQueue.set(library, queueSet);\n\n  if (availableLibrary) return availableLibrary;\n\n  const requestResolver = new Promise((resolve) => {\n    queueSet.add(() => {\n      setTimeout(() => {\n        resolve(checkAvailability());\n      }, 10);\n    });\n  });\n\n  if (!libRequest.has(library)) {\n    libRequest.set(library, (async () => {\n      const assets = [];\n\n      if (scriptSrc) {\n        assets.push(new Promise((resolve) => {\n          const script = document.createElement('script');\n          script.type = 'text/javascript';\n          script.onload = () => {\n            resolve();\n          };\n          script.src = scriptSrc;\n          script.dataset.replaced = true;\n          document.head.appendChild(script);\n        }));\n      }\n\n      if (cssSrc) {\n        assets.push(new Promise((resolve) => {\n          const link = document.createElement('link');\n          link.rel = \"stylesheet\";\n          link.type = \"text/css\";\n          link.onload = () => {\n            resolve();\n          };\n          link.href = cssSrc;\n          link.dataset.replaced = true;\n          document.head.appendChild(link);\n        }));\n      }\n\n      await Promise.all(assets);\n\n      queueSet.forEach(resolver => resolver());\n    })());\n  }\n\n  return requestResolver;\n};\n\nexport const LibraryContext = createContext({});\n\nexport const LibraryProvider = ({libraries, children}) => {\n  const requestLibrary = useMemo(() => {\n    return requestLabelStudio(libraries);\n  }, [libraries]);\n\n  return (\n    <LibraryContext.Provider value={{ requestLibrary }}>\n      {children}\n    </LibraryContext.Provider>\n  );\n};\n\nexport const useLibrary = (libraryName) => {\n  const ctx = useContext(LibraryContext);\n  const [library, setLibrary] = useState();\n\n  const fetchLibrary = useCallback(async () => {\n    const libLoaded = await ctx.requestLibrary(libraryName);\n\n    setLibrary(!!libLoaded);\n  }, [ctx, libraryName]);\n\n  useEffect(() => {\n    fetchLibrary();\n  }, [fetchLibrary]);\n\n  return library;\n};\n","/**\n * @param {HTMLElement} source\n * @param {HTMLElement} target\n */\nconst positioner = (source, target) => {\n  const sourcePosition = source.getBoundingClientRect();\n  const targetPosition = target.getBoundingClientRect();\n  return {\n    source: sourcePosition,\n    target: targetPosition,\n    get top() {\n      return sourcePosition.top - targetPosition.height;\n    },\n    get bottom() {\n      return sourcePosition.top + sourcePosition.height;\n    },\n    get horizontalCenter() {\n      return (\n        sourcePosition.left +\n        sourcePosition.width / 2 -\n        targetPosition.width / 2\n      );\n    },\n    get horizontalLeft() {\n      return sourcePosition.left;\n    },\n    get horizontalRight() {\n      return sourcePosition.left + sourcePosition.width - targetPosition.width;\n    },\n  };\n};\n\nexport const alignElements = (elem, target, align = 'bottom-left', padding = 0) => {\n  let offsetLeft = 0;\n  let offsetTop = 0;\n\n  const pos = positioner(elem, target);\n  let resultAlign = align.split('-');\n\n  switch (align) {\n    case \"top-center\":\n      offsetTop = pos.top - padding;\n      offsetLeft = pos.horizontalCenter;\n      break;\n    case \"top-left\":\n      offsetTop = pos.top - padding;\n      offsetLeft = pos.horizontalLeft;\n      break;\n    case \"top-right\":\n      offsetTop = pos.top - padding;\n      offsetLeft = pos.horizontalRight;\n      break;\n    case \"bottom-center\":\n      offsetTop = pos.bottom + padding;\n      offsetLeft = pos.horizontalCenter;\n      break;\n    case \"bottom-left\":\n      offsetTop = pos.bottom + padding;\n      offsetLeft = pos.horizontalLeft;\n      break;\n    case \"bottom-right\":\n      offsetTop = pos.bottom + padding;\n      offsetLeft = pos.horizontalRight;\n      break;\n    default:\n      break;\n  }\n\n  if (offsetTop < window.scrollX) {\n    offsetTop = pos.bottom + padding;\n    resultAlign[0] = 'bottom';\n  } else if (\n    offsetTop + pos.target.height >\n    window.scrollX + window.innerHeight\n  ) {\n    offsetTop = pos.top - padding;\n    resultAlign[0] = 'top';\n  }\n\n  if (offsetLeft < 0) {\n    offsetLeft = pos.horizontalLeft;\n    resultAlign[1] = 'left';\n  } else if (offsetLeft + pos.target.width > window.innerWidth) {\n    offsetLeft = pos.horizontalRight;\n    resultAlign[1] = 'right';\n  }\n\n  return { top: offsetTop, left: offsetLeft, pos, align: resultAlign.join('-') };\n};\n","import React from \"react\";\n\nexport const DropdownContext = React.createContext();\n","import React, { Children, cloneElement, forwardRef, useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\nimport { Dropdown } from \"./DropdownComponent\";\nimport { DropdownContext } from \"./DropdownContext\";\n\nexport const DropdownTrigger = forwardRef(\n  (\n    {\n      tag,\n      children,\n      dropdown,\n      content,\n      toggle,\n      closeOnClickOutside = true,\n      ...props\n    },\n    ref,\n  ) => {\n    const dropdownRef = ref ?? dropdown ?? useRef();\n    const triggerEL = Children.only(children);\n    const [childset] = useState(new Set());\n\n    /** @type {import('react').RefObject<HTMLElement>} */\n    const triggerRef = triggerEL.props.ref ?? useRef();\n    const parentDropdown = useContext(DropdownContext);\n\n    const targetIsInsideDropdown = useCallback((target) => {\n      const triggerClicked = triggerRef.current?.contains?.(target);\n      const dropdownClicked = dropdownRef.current?.dropdown?.contains?.(\n        target,\n      );\n      const childDropdownClicked = Array.from(childset).reduce(\n        (res, child) => {\n          return res || child.hasTarget(target);\n        },\n        false,\n      );\n\n      return triggerClicked || dropdownClicked || childDropdownClicked;\n    }, [triggerRef, dropdownRef]);\n\n    const handleClick = useCallback((e) => {\n      if (!closeOnClickOutside) return;\n      if (targetIsInsideDropdown(e.target)) return;\n\n      dropdownRef.current?.close?.();\n    }, [closeOnClickOutside, targetIsInsideDropdown]);\n\n    const handleToggle = useCallback((e) => {\n      const inDropdown = dropdownRef.current?.dropdown?.contains?.(e.target);\n\n      if (inDropdown) return e.stopPropagation();\n\n      if (toggle === false) return dropdownRef?.current?.open();\n\n      dropdownRef?.current?.toggle();\n    }, [dropdownRef]);\n\n    const triggerClone = cloneElement(triggerEL, {\n      ...triggerEL.props,\n      tag,\n      key: \"dd-trigger\",\n      ref: triggerRef,\n      onClickCapture: triggerEL.props?.onClick ? null : handleToggle,\n    });\n\n    const dropdownClone = content ? (\n      <Dropdown {...props} ref={dropdownRef}>\n        {content}\n      </Dropdown>\n    ) : null;\n\n    useEffect(() => {\n      document.addEventListener(\"click\", handleClick, { capture: true });\n      return () =>\n        document.removeEventListener(\"click\", handleClick, { capture: true });\n    }, [handleClick]);\n\n    const contextValue = useMemo(() => ({\n      triggerRef,\n      dropdown: dropdownRef,\n      hasTarget: targetIsInsideDropdown,\n      addChild: (child) => childset.add(child),\n      removeChild: (child) => childset.delete(child),\n      open: () => dropdownRef?.current?.open?.(),\n      close: () => dropdownRef?.current?.close?.(),\n    }), [triggerRef, dropdownRef]);\n\n    useEffect(() => {\n      if (!parentDropdown) return;\n\n      parentDropdown.addChild(contextValue);\n      return () => parentDropdown.removeChild(contextValue);\n    }, []);\n\n    return (\n      <DropdownContext.Provider value={contextValue}>\n        {triggerClone}\n        {dropdownClone}\n      </DropdownContext.Provider>\n    );\n  },\n);\n\nexport const useDropdown = () => {\n  return useContext(DropdownContext);\n};\n","import React, { cloneElement, forwardRef, useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Block, cn } from \"../../utils/bem\";\nimport { alignElements } from \"../../utils/dom\";\nimport { aroundTransition } from \"../../utils/transition\";\nimport \"./Dropdown.styl\";\nimport { DropdownContext } from \"./DropdownContext\";\nimport { DropdownTrigger } from \"./DropdownTrigger\";\n\nlet lastIndex = 1;\n\nexport const Dropdown = forwardRef(\n  ({ animated = true, visible = false, ...props }, ref) => {\n    const rootName = cn(\"dropdown\");\n\n    /**@type {import('react').RefObject<HTMLElement>} */\n    const dropdown = useRef();\n    const { triggerRef } = useContext(DropdownContext) ?? {};\n    const isInline = triggerRef === undefined;\n\n    const { children } = props;\n    const [renderable, setRenderable] = useState(visible);\n    const [currentVisible, setVisible] = useState(visible);\n    const [offset, setOffset] = useState({});\n    const [visibility, setVisibility] = useState(\n      visible ? \"visible\" : null,\n    );\n\n    const calculatePosition = useCallback(() => {\n      const dropdownEl = dropdown.current;\n      const parent = triggerRef?.current ?? dropdownEl.parentNode;\n      const { left, top } = alignElements(parent, dropdownEl, `bottom-${props.align ?? 'left'}`);\n\n      setOffset({ left, top });\n    }, [triggerRef]);\n\n    const dropdownIndex = useMemo(() => {\n      return lastIndex++;\n    }, []);\n\n    const performAnimation = useCallback(async (visible = false) => {\n      if (props.enabled === false && visible === true) return;\n\n      return new Promise((resolve) => {\n        const menu = dropdown.current;\n\n        if (animated !== false) {\n          aroundTransition(menu, {\n            transition: () => {\n              setVisibility(visible ? \"appear\" : \"disappear\");\n            },\n            beforeTransition: () => {\n              setVisibility(visible ? \"before-appear\" : \"before-disappear\");\n            },\n            afterTransition: () => {\n              setVisibility(visible ? \"visible\" : null);\n              resolve();\n            },\n          });\n        } else {\n          setVisibility(visible ? \"visible\" : null);\n          resolve();\n        }\n      });\n    }, [animated]);\n\n    const changeVisibility = useCallback(async (visibility) => {\n      props.onToggle?.(visibility);\n      await performAnimation(visibility);\n      setVisible(visibility);\n      props.onVisibilityChanged?.(visibility);\n    }, [props, performAnimation]);\n\n    const close = useCallback(async () => {\n      if (currentVisible === false || renderable === false) return;\n\n      await changeVisibility(false);\n      setRenderable(false);\n    }, [currentVisible, performAnimation, props, renderable]);\n\n    const open = useCallback(async () => {\n      if (currentVisible === true || renderable === true) return;\n\n      setRenderable(true);\n    }, [currentVisible, performAnimation, props, renderable]);\n\n    const toggle = useCallback(async () => {\n      const newState = !currentVisible;\n\n      if (newState) {\n        open();\n      } else {\n        close();\n      }\n    }, [close, currentVisible, open]);\n\n    useEffect(() => {\n      if (!ref) return;\n\n      ref.current = {\n        dropdown: dropdown.current,\n        visible: visibility !== null,\n        toggle,\n        open,\n        close,\n      };\n    }, [close, open, ref, toggle, dropdown, visibility]);\n\n    useEffect(() => {\n      setVisible(visible);\n    }, [visible]);\n\n    useEffect(() => {\n      if (!isInline && visibility === \"before-appear\") {\n        calculatePosition();\n      }\n    }, [visibility, calculatePosition, isInline]);\n\n    useEffect(() => {\n      if (props.enabled === false) performAnimation(false);\n    }, [props.enabled]);\n\n    useEffect(() => {\n      if (renderable) changeVisibility(true);\n    }, [renderable]);\n\n    const content =\n      children.props && children.props.type === \"Menu\"\n        ? cloneElement(children, {\n          ...children.props,\n          className: rootName.elem(\"menu\").mix(children.props.className),\n        })\n        : children;\n\n    const visibilityClasses = useMemo(() => {\n      switch (visibility) {\n        case \"before-appear\":\n          return \"before-appear\";\n        case \"appear\":\n          return \"appear before-appear\";\n        case \"before-disappear\":\n          return \"before-disappear\";\n        case \"disappear\":\n          return \"disappear before-disappear\";\n        case \"visible\":\n          return \"visible\";\n        default:\n          return visible ? \"visible\" : null;\n      }\n    }, [visibility, visible]);\n\n    const compositeStyles = {\n      ...(props.style ?? {}),\n      ...(offset ?? {}),\n      zIndex: 1000 + dropdownIndex,\n    };\n\n    const result = (\n      <Block\n        ref={dropdown}\n        name=\"dropdown\"\n        mix={[props.className, visibilityClasses]}\n        style={compositeStyles}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {content}\n      </Block>\n    );\n\n    return renderable ? (\n      props.inline === true\n        ? result\n        : ReactDOM.createPortal(result, document.body)\n    ) : null;\n  },\n);\n\nDropdown.displayName = \"Dropdown\";\n\nDropdown.Trigger = DropdownTrigger;\n","import { Dropdown } from \"./DropdownComponent\";\nimport { DropdownTrigger } from \"./DropdownTrigger\";\n\nDropdown.Trigger = DropdownTrigger;\n\nexport { Dropdown };\n","// extracted by mini-css-extract-plugin\nexport default {\"main-menu\":\"ls-main-menu\",\"main-menu__item\":\"ls-main-menu__item\",\"main-menu__item-icon\":\"ls-main-menu__item-icon\",\"main-menu__item_look_danger\":\"ls-main-menu__item_look_danger\",\"main-menu__item_active\":\"ls-main-menu__item_active\",\"sidebar__pin\":\"ls-sidebar__pin\",\"main-menu__spacer\":\"ls-main-menu__spacer\",\"main-menu__divider\":\"ls-main-menu__divider\",\"main-menu_size_compact\":\"ls-main-menu_size_compact\",\"main-menu_size_small\":\"ls-main-menu_size_small\",\"main-menu_collapsed\":\"ls-main-menu_collapsed\",\"menu-group__title\":\"ls-menu-group__title\",\"menu-group__list\":\"ls-menu-group__list\"};","import React from \"react\";\nimport { BemWithSpecifiContext } from \"../../utils/bem\";\n\nexport const MenuContext = React.createContext();\nexport const {Block, Elem} = BemWithSpecifiContext();\n","import { forwardRef, useCallback, useMemo } from 'react';\nimport { cn } from '../../utils/bem';\nimport { useDropdown } from '../Dropdown/DropdownTrigger';\nimport './Menu.styl';\nimport { Block, Elem, MenuContext } from './MenuContext';\nimport { MenuItem } from './MenuItem';\n\nexport const Menu = forwardRef(\n  ({ children, className, style, size, selectedKeys, closeDropdownOnItemClick }, ref) => {\n    const dropdown = useDropdown();\n\n    const selected = useMemo(() => {\n      return new Set(selectedKeys ?? []);\n    }, [selectedKeys]);\n\n    const clickHandler = useCallback((e) => {\n      const elem = cn('main-menu').elem('item').closest(e.target);\n\n      if (dropdown && elem && closeDropdownOnItemClick !== false) {\n        dropdown.close();\n      }\n    }, [dropdown]);\n\n    const collapsed = useMemo(() => {\n      return !!dropdown;\n    }, [dropdown]);\n\n    return (\n      <MenuContext.Provider value={{ selected }}>\n        <Block ref={ref} tag=\"ul\" name=\"main-menu\" mod={{size, collapsed}} mix={className} style={style} onClick={clickHandler}>\n          {children}\n        </Block>\n      </MenuContext.Provider>\n    );\n  },\n);\n\nMenu.Item = MenuItem;\nMenu.Spacer = () => <Elem  block=\"main-menu\" tag=\"li\" name=\"spacer\"></Elem>;\nMenu.Divider = () => <Elem  block=\"main-menu\" tag=\"li\" name=\"divider\"></Elem>;\nMenu.Builder = (url, menuItems) => {\n  return (menuItems ?? []).map((item, index) => {\n    if (item === \"SPACER\") return <Menu.Spacer key={index} />;\n    if (item === \"DIVIDER\") return <Menu.Divider key={index} />;\n\n    let pageLabel, pagePath;\n\n    if (Array.isArray(item)) {\n      [pagePath, pageLabel] = item;\n    } else {\n      const {menuItem, title, path} = item;\n      pageLabel = title ?? menuItem;\n      pagePath = path;\n    }\n\n    if (typeof pagePath === \"function\") {\n      return <Menu.Item key={index} onClick={pagePath}>{pageLabel}</Menu.Item>;\n    }\n\n    const location = `${url}${pagePath}`.replace(/([/]+)/g, '/');\n\n    return <Menu.Item key={index} to={location} exact>{pageLabel}</Menu.Item>;\n  });\n};\n\nMenu.Group = ({ children, title, className, style }) => {\n  return (\n    <Block name=\"menu-group\" mix={className} style={style}>\n      <Elem name=\"title\">{title}</Elem>\n      <Elem tag=\"ul\" name=\"list\" >{children}</Elem>\n    </Block>\n  );\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { cn } from '../../utils/bem';\nimport { absoluteURL } from '../../utils/helpers';\n\nexport const MenuItem = ({\n  children,\n  label,\n  icon,\n  to,\n  className,\n  href,\n  exact = false,\n  forceReload = false,\n  active = false,\n  onClick,\n  ...rest\n}) => {\n  const rootClass = cn(\"main-menu\", {elem: \"item\"});\n  const classList = [rootClass.toClassName()];\n  const isActive = (() => {\n    const pathname = location.pathname.replace(/\\/$/, '');\n    const url = to ?? href;\n\n    if (exact) {\n      return pathname === url;\n    } else {\n      return pathname.includes(url);\n    }\n  })();\n\n  if (isActive || active) classList.push(rootClass.mod({ active: true }));\n\n  if (className) classList.push(className);\n\n  const linkContent = (\n    <>\n      {icon && <span className={rootClass.elem('item-icon')}>{icon}</span>}\n      {children ?? label}\n    </>\n  );\n\n  const linkAttributes = {\n    className: classList.join(' '),\n    onClick,\n    ...rest,\n  };\n\n  const activeClassName = rootClass.mod({active: true}).toClassName();\n  const finalHref = to ?? href;\n\n  if (forceReload) {\n    linkAttributes.onClick = () => location.href = to ?? href;\n  }\n\n  return (\n    <li>\n      {to ? (\n        <NavLink to={finalHref}\n          {...linkAttributes}\n          exact={exact}\n          activeClassName={activeClassName}\n          data-external\n        >\n          {linkContent}\n        </NavLink>\n      ) : finalHref ?  (\n        <a href={absoluteURL(finalHref)} {...linkAttributes}>\n          {linkContent}\n        </a>\n      ) : (\n        <span {...linkAttributes}>\n          {linkContent}\n        </span>\n      )}\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"breadcrumbs\":\"ls-breadcrumbs\",\"breadcrumbs__list\":\"ls-breadcrumbs__list\",\"breadcrumbs__item\":\"ls-breadcrumbs__item\",\"breadcrumbs__item_last\":\"ls-breadcrumbs__item_last\",\"breadcrumbs__settings\":\"ls-breadcrumbs__settings\"};","import React, { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useConfig } from '../../providers/ConfigProvider';\nimport { useBreadcrumbs, useFindRouteComponent } from '../../providers/RoutesProvider';\nimport { BemWithSpecifiContext } from '../../utils/bem';\nimport { absoluteURL } from '../../utils/helpers';\nimport { Dropdown } from '../Dropdown/Dropdown';\nimport { Menu } from '../Menu/Menu';\nimport './Breadcrumbs.styl';\n\nconst {Block, Elem} = BemWithSpecifiContext();\n\nexport const Breadcrumbs = () => {\n  const config = useConfig();\n  const reactBreadcrumbs = useBreadcrumbs();\n  const findComponent = useFindRouteComponent();\n  const [breadcrumbs, setBreadcrumbs] = useState(reactBreadcrumbs);\n\n  useEffect(() => {\n    if (reactBreadcrumbs.length) {\n      setBreadcrumbs(reactBreadcrumbs);\n    } else if (config.breadcrumbs) {\n      setBreadcrumbs(config.breadcrumbs);\n    }\n  }, [reactBreadcrumbs, config]);\n\n  return (\n    <Block name=\"breadcrumbs\">\n      <Elem tag=\"ul\" name=\"list\">\n        {breadcrumbs.map((item, index, list) => {\n          const isLastItem = index === list.length - 1;\n\n          const key = `item-${index}-${item.title}`;\n\n          const href = item.href ?? item.path;\n\n          const isInternal = findComponent(href) !== null;\n\n          const title = (\n            <Elem tag=\"span\" name=\"label\" mod={{faded: index === item.length - 1}}>\n              {item.title}\n            </Elem>\n          );\n\n          const dropdownSubmenu = item.submenu ? (\n            <Dropdown>\n              <Menu>\n                {item.submenu.map((sub, index) => {\n                  return <Menu.Item\n                    key={`${index}-${item.title}`}\n                    label={sub.title}\n                    icon={sub.icon}\n                    href={sub.href ?? sub.path}\n                    active={sub.active}\n                  />;\n                })}\n              </Menu>\n            </Dropdown>\n          ) : null;\n\n          return item.onClick ? (\n            <Elem key={key} tag=\"li\" name=\"item\" mod={{last: isLastItem}}>\n              <span onClick={item.onClick}>{title}</span>\n            </Elem>\n          ) : dropdownSubmenu ? (\n            <Elem key={key} tag=\"li\" component={Dropdown.Trigger} name=\"item\" mod={{last: isLastItem}} content={dropdownSubmenu}>\n              <span>{title}</span>\n            </Elem>\n          ) : (href && !isLastItem) ? (\n            <Elem key={key} tag=\"li\" name=\"item\" mod={{last: isLastItem}}>\n              {isInternal ? (\n                <NavLink to={href} data-external={true}>{title}</NavLink>\n              ) : (\n                <a href={absoluteURL(href)}>{title}</a>\n              )}\n            </Elem>\n          ) : (\n            <Elem key={key} tag=\"li\" name=\"item\" mod={{last: isLastItem}}>\n              {title}\n            </Elem>\n          );\n        })}\n      </Elem>\n    </Block>\n  );\n};\n","import React from 'react';\nimport { cn } from '../../utils/bem';\nimport \"./Card.styl\";\n\nexport const Card = ({header, extra, children, style}) => {\n  const rootClass = cn(\"card\");\n  return <div className={rootClass} style={style}>\n    {(header || extra) && (\n      <div className={rootClass.elem(\"header\")}>\n        <div className={rootClass.elem(\"header-content\")}>\n          {header}\n        </div>\n\n        {extra && (\n          <div className={rootClass.elem(\"header-extra\")}>\n            {extra}\n          </div>\n        )}\n      </div>\n    )}\n    <div className={rootClass.elem(\"content\")}>\n      {children}\n    </div>\n  </div>;\n};\n","import React from 'react';\nimport { cn } from '../../utils/bem';\nimport \"./Columns.styl\";\n\nexport const Columns = ({children, count, size, gap}) => {\n  /**@type {import('react').RefObject<HTMLElement>} */\n  const ref = React.useRef();\n\n  /**@type {import('react').CSSProperties} */\n  const style = {\n    \"--columns\": Math.max(1, count ?? 1),\n    \"--column-width\": size,\n    \"--column-gap\": gap,\n  };\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\"columns\")}\n      style={style}\n      children={children}\n    />\n  );\n};\n\nColumns.Column = ({title, children}) => {\n  return (\n    <div className={cn(\"columns\").elem(\"item\")}>\n      <div className={cn(\"columns\").elem(\"title\")}>{title}</div>\n      {children}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"hamburger\":\"ls-hamburger\",\"hamburger_animated\":\"ls-hamburger_animated\",\"hamburger_opened\":\"ls-hamburger_opened\"};","import React from 'react';\nimport { cn } from '../../utils/bem';\nimport './Hamburger.styl';\n\nexport const Hamburger = ({opened, animated = true}) => {\n  const root = cn('hamburger');\n\n  return (\n    <span className={root.mod({animated, opened})}>\n      <span></span>\n      <span></span>\n      <span></span>\n    </span>\n  );\n};\n","\nconst loadedScripts = new Set();\n\n/**\n * Check wether it's a real script tag or not\n * @param {HTMLScriptElement} script\n */\nconst isScriptTag = (script) => {\n  return [null, undefined, '', 'text/javascript'].includes(script.type);\n};\n\n/**\n * Create a blob url from inline script\n * @param {String} scriptContent\n */\nconst createScriptLink = (scriptContent) => {\n  const blob = new Blob([scriptContent], {type: \"text/javascript\"});\n  return URL.createObjectURL(blob).toString();\n};\n\nexport const isScriptValid = (scriptTag, forceUpdate) => {\n  // Check wether the tag is a real script or not\n  if (!isScriptTag(scriptTag)) {\n    return false;\n  }\n\n  // Skip loading already existing scripts\n  if (scriptTag.dataset.alwaysReload === undefined) {\n    if (forceUpdate !== true && loadedScripts.has(scriptTag.outerHTML)) {\n      return false;\n    }\n  }\n\n  // Skip if the script is not attached to DOM\n  if (!scriptTag.parentNode) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const clearScriptsCache = () => {\n  loadedScripts.clear();\n};\n\n/**\n * @param {HTMLScriptElement} targetScript\n * @param {HTMLScriptElement} sourceScript\n */\nconst swapScripts = (targetScript, sourceScript) => {\n  return new Promise((resolve) => {\n    /**@type {HTMLScriptElement} */\n    const newScript = document.createElement('script');\n\n    sourceScript = sourceScript ?? targetScript;\n\n    // Use existing src or create url from script content\n    // This is necessary for onload event to work properly\n    const src = sourceScript.src || createScriptLink(sourceScript.text);\n\n    // Remember the script to prevent loading it more than once\n    loadedScripts.add(sourceScript.outerHTML);\n\n    // We respect async attribute, so we only wait for script to load\n    // when it's explicitly no async attribute\n    if (!sourceScript.async) {\n      const onScriptLoaded = ({type}) => {\n        newScript.removeEventListener('load', onScriptLoaded);\n        newScript.removeEventListener('error', onScriptLoaded);\n        resolve(type === 'error' ? false : newScript);\n      };\n\n      newScript.addEventListener('load', onScriptLoaded);\n      newScript.addEventListener('error', onScriptLoaded);\n    } else {\n      resolve();\n    }\n\n    if (sourceScript.dataset.alwaysReload !== undefined) {\n      newScript.dataset.alwaysReload = \"\";\n    }\n\n    if (sourceScript.id) newScript.id = sourceScript.id;\n    if (sourceScript.className) newScript.className = sourceScript.className;\n\n    newScript.dataset.replaced = 'true';\n    newScript.async = sourceScript.async;\n    newScript.defer = sourceScript.defer;\n    newScript.type = 'text/javascript';\n    newScript.src = src;\n\n    targetScript.parentNode.insertBefore(newScript, targetScript);\n    targetScript.remove();\n  });\n};\n\n/**\n * @param {HTMLScriptElement} scriptTag\n * @param {Function} onReplace\n */\nexport const replaceScript = async (scriptTag, {sourceScript, forceUpdate = false} = {}) => {\n  sourceScript = sourceScript ?? scriptTag;\n\n  if (!isScriptValid(scriptTag, forceUpdate)) return;\n  if (sourceScript !== scriptTag && !isScriptValid(sourceScript, forceUpdate)) return;\n\n  return swapScripts(scriptTag, sourceScript);\n};\n\nconst scriptIterator = function * (scripts){\n  while(scripts.length) {\n    const nextScript = scripts.shift();\n    yield replaceScript(nextScript).then((result) => {\n      return result;\n    });\n  }\n};\n\n/**\n * Re-inserts script tags inside a given element\n * Only scripts with src or with empty type, or with\n * type text/javascript will be processed\n * @param {HTMLElement} root\n */\nexport const reInsertScripts = async (root) => {\n  const scripts = root.querySelectorAll('script');\n\n  if (!scripts.length) return [];\n\n  const iterarot = scriptIterator(Array.from(scripts));\n  const result = [];\n\n  for await(const script of iterarot) {\n    result.push(script);\n  }\n\n  return result;\n};\n","import React, { createContext, useCallback, useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { ErrorWrapper } from '../../components/Error/Error';\nimport { modal } from '../../components/Modal/Modal';\nimport { ConfigContext } from '../../providers/ConfigProvider';\nimport { absoluteURL, removePrefix } from '../../utils/helpers';\nimport { clearScriptsCache, isScriptValid, reInsertScripts, replaceScript } from '../../utils/scripts';\n\nconst pageCache = new Map();\n\nconst pageFromHTML = (html) => {\n  const parser = new DOMParser();\n  const document = parser.parseFromString(html, 'text/html');\n  return document;\n};\n\nconst loadAsyncPage = async (url) => {\n  try {\n    if (pageCache.has(url)) {\n      return pageCache.get(url);\n    } else {\n      const response = await fetch(url);\n      const html = await response.text();\n\n      if (response.status === 401) {\n        location.href = absoluteURL(\"/\");\n        return;\n      }\n\n      if (!response.ok) {\n        modal({\n          body: () => (\n            <ErrorWrapper\n              title={`Error ${response.status}: ${response.statusText}`}\n              errorId={response.status}\n              stacktrace={`Cannot load url ${url}\\n\\n${html}`}\n            />\n          ),\n          allowClose: false,\n          style: { width: 680 },\n        });\n        return null;\n      }\n\n      pageCache.set(url, html);\n      return html;\n    }\n  } catch (err) {\n    modal({\n      body: () => (\n        <ErrorWrapper\n          possum={false}\n          title={\"Connection refused\"}\n          message={\"Server not responding. Is it still running?\"}\n        />\n      ),\n      simple: true,\n      allowClose: false,\n      style: { width: 680 },\n    });\n    return null;\n  }\n};\n\n/**\n * @param {HTMLElement} oldNode\n * @param {HTMLElement} newNode\n */\nconst swapNodes = async (oldNode, newNode) => {\n  if (oldNode && newNode) {\n    oldNode.replaceWith(newNode);\n    await reInsertScripts(newNode);\n  }\n};\n\n/**\n * @param {Document} oldPage\n * @param {Document} newPage\n */\nconst swapAppSettings = async (oldPage, newPage) => {\n  const oldSettings = oldPage.querySelector('script#app-settings');\n  const newSettings = newPage.querySelector('script#app-settings');\n\n  if (oldSettings && newSettings) {\n    await replaceScript(oldSettings, {\n      sourceScript: newSettings,\n      forceUpdate: true,\n    });\n  }\n};\n\n/**\n * @param {Document} oldPage\n * @param {Document} newPage\n */\nconst swapContent = async (oldPage, newPage) => {\n  const currentContent = oldPage.querySelector('#dynamic-content');\n  const newContent = newPage.querySelector('#dynamic-content');\n\n  if (currentContent && newContent) {\n    await swapNodes(currentContent, newContent);\n  } else {\n    await swapNodes(oldPage.body.children[0], newContent, {removeOld: false});\n  }\n};\n\n/** @param {HTMLElement} nodes */\nconst nodesToSignatures = (nodes) => {\n  return new Set(Array.from(nodes).map(n => n.outerHTML));\n};\n\n\n/**\n * @param {HTMLHeadElement} oldHead\n * @param {HTMLHeadElement} newHead\n */\nconst swapHeadScripts = async (oldHead, newHead) => {\n  swapNodes(oldHead.querySelector('title'), newHead.querySelector('title'));\n\n  const fragment = document.createDocumentFragment();\n\n  Array.from(newHead.querySelectorAll('script'))\n    .filter(script => isScriptValid(script))\n    .forEach(script => fragment.appendChild(script));\n\n  Array.from(oldHead.querySelectorAll('script'))\n    .filter(script => isScriptValid(script))\n    .forEach(script => script.remove());\n\n  oldHead.appendChild(fragment);\n  await reInsertScripts(oldHead);\n};\n\n/**\n * @param {Document} oldPage\n * @param {Document} newPage\n */\nconst swapStylesheets = async (oldPage, newPage) => {\n  const linkSelector = [\n    'style:not([data-replaced])',\n    'link[rel=stylesheet]:not([data-replaced])',\n  ].join(', ');\n  const oldStyles = Array.from(oldPage.querySelectorAll(linkSelector));\n  const newStyles = Array.from(newPage.querySelectorAll(linkSelector));\n\n  const existingSignatures = nodesToSignatures(oldStyles);\n  const stylesToReplace = newStyles.filter(style => !existingSignatures.has(style.outerHTML));\n\n  await Promise.all(\n    stylesToReplace.map(style => new Promise((resolve) => {\n      style.onload = () => resolve(style.outerHTML);\n      document.head.append(style);\n    })),\n  );\n\n};\n\n/** @param {Document} newPage */\nconst swapPageParts = async (newPage, onReady) => {\n  document.title = newPage.title;\n\n  await swapStylesheets(document, newPage);\n  await swapHeadScripts(document.head, newPage.head);\n  await swapAppSettings(document, newPage);\n  await swapContent(document, newPage);\n  onReady?.();\n};\n\nconst isVisitable = (target) => {\n  if (!target) return false;\n  if (target.dataset.external) return false;\n  if (target.getAttribute('href').match(/#/)) return false;\n  if (target.origin !== location.origin) return false;\n\n  return true;\n};\n\nconst locationWithoutHash = () => {\n  const {href} = location;\n  return href.replace(/#(.*)/g, '');\n};\n\nconst fetchPage = async (locationUrl) => {\n  const html = await loadAsyncPage(locationUrl);\n  return html ? pageFromHTML(html) : null;\n};\n\nlet currentLocation = locationWithoutHash();\n\nconst useStaticContent = (initialContent, onContentLoad) => {\n  const [staticContent, setStaticContent] = useState(initialContent);\n\n  const fetchCallback = useCallback(async (locationUrl) => {\n\n    currentLocation = locationUrl;\n    clearScriptsCache();\n    const result = await fetchPage(locationUrl);\n\n    if (result) {\n      await swapPageParts(result, onContentLoad);\n      setStaticContent(result);\n      return true;\n    }\n    return false;\n  }, []);\n\n  return [\n    staticContent,\n    fetchCallback,\n  ];\n};\n\nexport const AsyncPageContext = createContext(null);\n\nexport const AsyncPageConsumer = AsyncPageContext.Consumer;\n\nexport const AsyncPage = ({children}) => {\n  const initialContent = document;\n\n  const history = useHistory();\n  const config = useContext(ConfigContext);\n  const onLoadCallback = useCallback(() => {\n    config.update(window.APP_SETTINGS);\n  }, []);\n  const [staticContent, fetchStatic] = useStaticContent(initialContent, onLoadCallback);\n\n  const onLinkClick = useCallback(async (e) => {\n    /**@type {HTMLAnchorElement} */\n    const target = e.target.closest('a[href]:not([target]):not([download])');\n\n    if (!isVisitable(target)) return;\n    if (target.matches('[data-external]')) return;\n    if (e.metaKey || e.ctrlKey) return;\n\n    e.preventDefault();\n    const fetched = await fetchStatic(target.href);\n\n    if (fetched) {\n      history.push(`${removePrefix(target.pathname)}${target.search}`);\n    }\n  }, []);\n\n  const onPopState = useCallback(() => {\n    const newLocation = locationWithoutHash();\n    const isSameLocation = newLocation === currentLocation;\n\n    if (!isSameLocation) {\n      currentLocation = newLocation;\n      fetchStatic(newLocation);\n    }\n  }, []);\n\n  // useEffect(onPopState, [location]);\n\n  useEffect(() => {\n    document.addEventListener('click', onLinkClick, {capture: true});\n    window.addEventListener('popstate', onPopState);\n    return () => {\n      document.removeEventListener('click', onLinkClick, {capture: true});\n      window.removeEventListener('popstate', onPopState);\n    };\n  }, []);\n\n  return (\n    <AsyncPageContext.Provider value={staticContent}>\n      {children}\n    </AsyncPageContext.Provider>\n  );\n};\n","import parseHTML from 'html-react-parser';\nimport React from 'react';\nimport { reInsertScripts } from '../../utils/scripts';\nimport { AsyncPageContext } from '../AsyncPage/AsyncPage';\n\nconst parseContent = (id, source, children, parse) => {\n  let result;\n  let setInnerHTML = false;\n\n  if (!children || children.length === 0 || children instanceof Function) {\n    const template = source.querySelector(`template#${id}`);\n    const templateHTML = template.innerHTML ?? \"\";\n\n    if (parse) {\n      const parsed = parseHTML(templateHTML);\n      const childResult = children instanceof Function ? children(parsed) : false;\n      result = childResult || parsed;\n    } else {\n      const childResult = children instanceof Function ? children(template) : false;\n\n      if (childResult) {\n        result = childResult;\n      } else {\n        result = templateHTML;\n        setInnerHTML = true;\n      }\n    }\n  } else {\n    result = children;\n  }\n\n  return { children: result, setInnerHTML };\n};\n\nconst StaticContentDrawer = React.forwardRef(({\n  id,\n  tagName,\n  children,\n  source,\n  onRenderFinished,\n  parse = false,\n  raw = false,\n  ...props\n}, ref) => {\n  const rootRef = ref ?? React.useRef();\n\n  const [content, setContent] = React.useState(parseContent(id, source, children, parse));\n\n  React.useEffect(() => {\n    setContent(parseContent(id, source, children, parse));\n  }, [source, children]);\n\n  React.useEffect(() => {\n    if (rootRef.current) reInsertScripts(rootRef.current);\n    onRenderFinished?.();\n  }, [content]);\n\n  if (content.setInnerHTML) {\n    props.dangerouslySetInnerHTML = { __html: content.children };\n  } else {\n    props.children = content.children;\n  }\n\n  return (raw === true && content.children)\n    ? <React.Fragment children={content.children}/>\n    : React.createElement(tagName ?? 'div', {\n      ...props,\n      ref: rootRef\n    });\n});\n\nexport const StaticContent = React.forwardRef((props, ref) => {\n  const pageSource = React.useContext(AsyncPageContext);\n\n  return pageSource ? (\n    <StaticContentDrawer {...props} source={pageSource} ref={ref}/>\n  ) : null;\n});\n","import { Children, cloneElement, forwardRef, useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { Block, Elem } from \"../../utils/bem\";\nimport { alignElements } from \"../../utils/dom\";\nimport { aroundTransition } from \"../../utils/transition\";\nimport \"./Tooltip.styl\";\n\nexport const Tooltip = forwardRef(\n  ({ title, children, defaultVisible, disabled, style }, ref) => {\n    if (!children || Array.isArray(children)) {\n      throw new Error(\"Tooltip does accept a single child only\");\n    }\n\n    const triggerElement = ref ?? useRef();\n    const tooltipElement = useRef();\n    const [offset, setOffset] = useState({});\n    const [visibility, setVisibility] = useState(\n      defaultVisible ? \"visible\" : null,\n    );\n    const [injected, setInjected] = useState(false);\n    const [align, setAlign] = useState('top-center');\n\n    const calculatePosition = useCallback(() => {\n      const { left, top, align: resultAlign } = alignElements(\n        triggerElement.current,\n        tooltipElement.current,\n        align,\n        10,\n      );\n\n      setOffset({ left, top });\n      setAlign(resultAlign);\n    }, [triggerElement.current, tooltipElement.current]);\n\n    const performAnimation = useCallback(\n      (visible) => {\n        if (tooltipElement.current) {\n          aroundTransition(tooltipElement.current, {\n            beforeTransition() {\n              setVisibility(visible ? \"before-appear\" : \"before-disappear\");\n            },\n            transition() {\n              if (visible) calculatePosition();\n              setVisibility(visible ? \"appear\" : \"disappear\");\n            },\n            afterTransition() {\n              setVisibility(visible ? \"visible\" : null);\n              if (visible === false) setInjected(false);\n            },\n          });\n        }\n      },\n      [injected, calculatePosition, tooltipElement],\n    );\n\n    const visibilityClasses = useMemo(() => {\n      switch (visibility) {\n        case \"before-appear\":\n          return \"before-appear\";\n        case \"appear\":\n          return \"appear before-appear\";\n        case \"before-disappear\":\n          return \"before-disappear\";\n        case \"disappear\":\n          return \"disappear before-disappear\";\n        case \"visible\":\n          return \"visible\";\n        default:\n          return visibility ? \"visible\" : null;\n      }\n    }, [visibility]);\n\n    const tooltip = useMemo(\n      () =>\n        injected ? (\n          <Block\n            ref={tooltipElement}\n            name=\"tooltip\"\n            mod={{align}}\n            mix={visibilityClasses}\n            style={{ ...offset, ...(style ?? {}) }}\n          >\n            <Elem name=\"body\">{title}</Elem>\n          </Block>\n        ) : null,\n      [injected, offset, title, visibilityClasses, tooltipElement],\n    );\n\n    const child = Children.only(children);\n    const clone = cloneElement(child, {\n      ...child.props,\n      ref: triggerElement,\n      onMouseEnter(e) {\n        if (disabled === true) return;\n        setInjected(true);\n        child.props.onMouseEnter?.(e);\n      },\n      onMouseLeave(e) {\n        if (disabled === true) return;\n        performAnimation(false);\n        child.props.onMouseLeave?.(e);\n      },\n    });\n\n    useEffect(() => {\n      if (injected) performAnimation(true);\n    }, [injected]);\n\n    return (\n      <>\n        {clone}\n        {createPortal(tooltip, document.body)}\n      </>\n    );\n  },\n);\nTooltip.displayName = \"Tooltip\";\n","// extracted by mini-css-extract-plugin\nexport default {\"userpic\":\"ls-userpic\",\"userpic__username\":\"ls-userpic__username\"};","import { forwardRef, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Block, Elem } from '../../utils/bem';\nimport { Tooltip } from '../Tooltip/Tooltip';\nimport './Userpic.styl';\n\nconst FALLBACK_IMAGE = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=';\n\nexport const Userpic = forwardRef(({\n  username,\n  size,\n  src,\n  user,\n  className,\n  showUsername,\n  style,\n  ...rest\n}, ref) => {\n  const imgRef = useRef();\n  const [finalUsername, setFinalUsername] = useState(username);\n  const [finalSrc, setFinalSrc] = useState(user?.avatar ?? src);\n  const [imgVisible, setImgVisible] = useState(false);\n  const [nameVisible, setNameVisible] = useState(true);\n\n  if (size) {\n    style = Object.assign({ width: size, height: size, fontSize: size * 0.4 }, style);\n  }\n\n  useEffect(() => {\n    if (user) {\n      const {first_name, last_name, email, initials, username} = user;\n\n      if (initials) {\n        setFinalUsername(initials);\n      } else if (username) {\n        setFinalUsername(username);\n      } else if (first_name && last_name) {\n        setFinalUsername(`${first_name[0]}${last_name[0]}`);\n      } else if (email) {\n        setFinalUsername(email.substring(0, 2));\n      }\n\n      if (user.avatar) setFinalSrc(user.avatar);\n    } else {\n      setFinalUsername(username);\n      setFinalSrc(src);\n    }\n  }, [user]);\n\n  const onImageLoaded = useCallback(() => {\n    setImgVisible(true);\n    if (finalSrc !== FALLBACK_IMAGE) setNameVisible(false);\n  }, [finalSrc]);\n\n  const userpic = (\n    <Block ref={ref} name=\"userpic\" mix={className} style={style} {...rest}>\n      <Elem\n        tag=\"img\"\n        name=\"avatar\"\n        ref={imgRef}\n        src={finalSrc}\n        alt={(finalUsername ?? \"\").toUpperCase()}\n        style={{opacity: imgVisible ? 1 : 0}}\n        onLoad={onImageLoaded}\n        onError={() => setFinalSrc(FALLBACK_IMAGE) }\n      />\n      {nameVisible && (\n        <Elem tag=\"span\" name=\"username\">\n          {(finalUsername ?? \"\").toUpperCase()}\n        </Elem>\n      )}\n    </Block>\n  );\n\n  const userFullName = useMemo(() => {\n    if (user?.first_name || user?.last_name) {\n      return `${user?.first_name ?? ''} ${user?.last_name ?? ''}`.trim();\n    } else if (user?.email) {\n      return user.email;\n    } else {\n      return username;\n    }\n  }, [user, username]);\n\n  return (showUsername && userFullName) ? (\n    <Tooltip title={userFullName}>\n      {userpic}\n    </Tooltip>\n  ) : userpic;\n});\nUserpic.displayName = 'Userpic';\n","// extracted by mini-css-extract-plugin\nexport default {\"version-notifier\":\"ls-version-notifier\",\"version-notifier__icon\":\"ls-version-notifier__icon\",\"version-notifier__content\":\"ls-version-notifier__content\",\"version-notifier__title\":\"ls-version-notifier__title\",\"version-notifier__description\":\"ls-version-notifier__description\",\"current-version\":\"ls-current-version\"};","import { format } from 'date-fns';\nimport React, { createContext, useCallback, useContext, useEffect, useReducer } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAPI } from \"../../providers/ApiProvider\";\nimport { Block, Elem } from '../../utils/bem';\nimport './VersionNotifier.styl';\nimport { IconBell } from '../../assets/icons';\n\nconst VersionContext = createContext();\n\nexport const VersionProvider = ({children}) => {\n  const api = useAPI();\n\n  const [state, dispatch] = useReducer((state, action) => {\n    if (action.type === 'fetch-version') {\n      return {...state, ...action.payload};\n    }\n  });\n\n  const fetchVersion = useCallback(async () => {\n    const response = await api.callApi(\"version\");\n\n    if (response !== null) {\n      const data = response['label-studio-os-package'];\n\n      dispatch({\n        type: \"fetch-version\",\n        payload: {\n          version: data.version,\n          latestVersion: data.latest_version_from_pypi,\n          newVersion: data.current_version_is_outdated,\n          updateTime: format(new Date(data.latest_version_upload_time), 'MMM d'),\n        },\n      });\n    }\n  }, [api]);\n\n  useEffect(() => {\n    fetchVersion();\n  }, []);\n\n  return (\n    <VersionContext.Provider value={state}>\n      {children}\n    </VersionContext.Provider>\n  );\n};\n\nexport const VersionNotifier = ({showNewVersion, showCurrentVersion}) => {\n  const url = \"https://pypi.org/project/label-studio/#history\";\n  const {newVersion, updateTime, latestVersion, version } = useContext(VersionContext) ?? {};\n\n  return (newVersion && showNewVersion) ? (\n    <Block tag=\"li\" name=\"version-notifier\">\n      <a href={url} target=\"_blank\">\n        <Elem name=\"icon\">\n          <IconBell/>\n        </Elem>\n        <Elem name=\"content\">\n          <Elem name=\"title\" data-date={updateTime}>\n            {latestVersion} Available\n          </Elem>\n          <Elem name=\"description\">\n            Current version: {version}\n          </Elem>\n        </Elem>\n      </a>\n    </Block>\n  ) : (version && showCurrentVersion) ? (\n    <Block tag={Link} name=\"current-version\" to=\"/version\" target=\"_blank\">v{ version }</Block>\n  ) : null;\n};\n","import { t } from 'i18next';\nimport { createContext, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { StaticContent } from '../../app/StaticContent/StaticContent';\nimport { IconBook, IconFolder, IconPersonInCircle, IconPin, IconTerminal, LsDoor, LsGitHub, LsSettings, LsSlack } from '../../assets/icons';\nimport { useConfig } from '../../providers/ConfigProvider';\nimport { useContextComponent, useFixedLocation } from '../../providers/RoutesProvider';\nimport { cn } from '../../utils/bem';\nimport { absoluteURL } from '../../utils/helpers';\nimport { Breadcrumbs } from '../Breadcrumbs/Breadcrumbs';\nimport { Dropdown } from \"../Dropdown/Dropdown\";\nimport { Hamburger } from \"../Hamburger/Hamburger\";\nimport { Menu } from '../Menu/Menu';\nimport { Userpic } from '../Userpic/Userpic';\nimport { VersionNotifier, VersionProvider } from '../VersionNotifier/VersionNotifier';\nimport './Menubar.styl';\nimport './MenuContent.styl';\nimport './MenuSidebar.styl';\n\nexport const MenubarContext = createContext();\n\nconst LeftContextMenu = ({ className }) => (\n  <StaticContent\n    id=\"context-menu-left\"\n    className={className}\n  >{(template) => <Breadcrumbs fromTemplate={template} />}</StaticContent>\n);\n\nconst RightContextMenu = ({ className, ...props }) => {\n  const { ContextComponent, contextProps } = useContextComponent();\n\n  return ContextComponent ? (\n    <div className={className}>\n      <ContextComponent {...props} {...(contextProps ?? {})}/>\n    </div>\n  ) : (\n    <StaticContent\n      id=\"context-menu-right\"\n      className={className}\n    />\n  );\n};\n\nexport const Menubar = ({\n  enabled,\n  defaultOpened,\n  defaultPinned,\n  children,\n  onSidebarToggle,\n  onSidebarPin,\n}) => {\n  const menuDropdownRef = useRef();\n  const useMenuRef = useRef();\n  const location = useFixedLocation();\n\n  const config = useConfig();\n  const [sidebarOpened, setSidebarOpened] = useState(defaultOpened ?? false);\n  const [sidebarPinned, setSidebarPinned] = useState(defaultPinned ?? false);\n  const [PageContext, setPageContext] = useState({\n    Component: null,\n    props: {},\n  });\n\n  const menubarClass = cn('menu-header');\n  const menubarContext = menubarClass.elem('context');\n  const sidebarClass = cn('sidebar');\n  const contentClass = cn('content-wrapper');\n  const contextItem = menubarClass.elem('context-item');\n\n  const sidebarPin = useCallback((e) => {\n    e.preventDefault();\n\n    const newState = !sidebarPinned;\n\n    setSidebarPinned(newState);\n    onSidebarPin?.(newState);\n  }, [sidebarPinned]);\n\n  const sidebarToggle = useCallback((visible) => {\n    const newState = visible;\n\n    setSidebarOpened(newState);\n    onSidebarToggle?.(newState);\n  }, [sidebarOpened]);\n\n  const providerValue = useMemo(() => ({\n    PageContext,\n\n    setContext(ctx){\n      setTimeout(() => {\n        setPageContext({\n          ...PageContext,\n          Component: ctx,\n        });\n      });\n    },\n\n    setProps(props) {\n      setTimeout(() => {\n        setPageContext({\n          ...PageContext,\n          props,\n        });\n      });\n    },\n\n    contextIsSet(ctx) {\n      return PageContext.Component === ctx;\n    },\n  }), [PageContext]);\n\n  useEffect(() => {\n    if (!sidebarPinned) {\n      menuDropdownRef?.current?.close();\n    }\n    useMenuRef?.current?.close();\n  }, [location]);\n\n  return (\n    <div className={contentClass}>\n      {enabled && (\n        <div className={menubarClass}>\n          <Dropdown.Trigger\n            dropdown={menuDropdownRef}\n            closeOnClickOutside={!sidebarPinned}\n          >\n            <div className={`${menubarClass.elem('trigger')} main-menu-trigger`}>\n              <span style={{ color: '#09f',fontWeight: 'bold' }}>\n                \n              </span>\n              {/* <img src={absoluteURL(\"/static/icons/logo-black.svg\")} alt=\"Label Studio Logo\" height=\"22\"/> */}\n              <Hamburger opened={sidebarOpened}/>\n            </div>\n          </Dropdown.Trigger>\n\n          <div className={menubarContext}>\n            <LeftContextMenu className={contextItem.mod({ left: true })}/>\n\n            <RightContextMenu className={contextItem.mod({ right: true })}/>\n          </div>\n\n          <Dropdown.Trigger ref={useMenuRef} align=\"right\" content={(\n            <Menu>\n              <Menu.Item\n                icon={<LsSettings/>}\n                label={t(\"Account & Settings\")}\n                href=\"/user/account\"\n                data-external\n              />\n              {/* <Menu.Item label=\"Dark Mode\"/> */}\n              <Menu.Item\n                icon={<LsDoor/>}\n                label={t(\"Log Out\")}\n                href={absoluteURL(\"/logout\")}\n                data-external\n              />\n            </Menu>\n          )}>\n            <div className={menubarClass.elem('user')}>\n              <Userpic user={config.user}/>\n            </div>\n          </Dropdown.Trigger>\n        </div>\n      )}\n\n      <VersionProvider>\n        <div className={contentClass.elem('body')}>\n          {enabled && (\n            <Dropdown\n              ref={menuDropdownRef}\n              onToggle={sidebarToggle}\n              onVisibilityChanged={() => window.dispatchEvent(new Event('resize'))}\n              visible={sidebarOpened}\n              className={[sidebarClass, sidebarClass.mod({ floating: !sidebarPinned })].join(\" \")}\n              style={{ width: 240 }}\n            >\n              <Menu>\n                <Menu.Item\n                  label={t(\"Projects\")}\n                  to=\"/projects\"\n                  icon={<IconFolder/>}\n                  data-external\n                  exact\n                />\n                <Menu.Item\n                  label={t(\"Organization\")}\n                  to=\"/organization\"\n                  icon={<IconPersonInCircle/>}\n                  data-external\n                  exact\n                />\n\n                <Menu.Spacer/>\n\n                <Menu.Divider/>\n\n                <Menu.Item\n                  icon={<IconPin/>}\n                  className={sidebarClass.elem('pin')}\n                  onClick={sidebarPin}\n                  active={sidebarPinned}\n                >\n                  {sidebarPinned ?  \"Unpin menu\" : \"Pin menu\"}\n                </Menu.Item>\n\n              </Menu>\n            </Dropdown>\n          )}\n\n          <MenubarContext.Provider value={providerValue}>\n            <div className={contentClass.elem('content').mod({ withSidebar: sidebarPinned && sidebarOpened })}>\n              {children}\n            </div>\n          </MenubarContext.Provider>\n        </div>\n      </VersionProvider>\n    </div>\n  );\n};\n","import React from 'react';\nimport { cn } from \"../../utils/bem\";\nimport { Menu } from '../Menu/Menu';\nimport './SidebarMenu.styl';\n\nexport const SidebarMenu = ({children, menu, path, menuItems}) => {\n  const rootClass = cn('sidebar-menu');\n\n  return (\n    <div className={rootClass}>\n      {\n        menuItems && menuItems.length > 1 ?\n          (<div className={rootClass.elem('navigation')}>\n            <Menu>\n              {menuItems ? Menu.Builder(path, menuItems) : menu}\n            </Menu>\n          </div>)\n          :\n          null\n      }\n      <div className={rootClass.elem('content')}>\n        {children}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { cn } from '../../utils/bem';\nimport './Spinner.styl';\n\nexport const Spinner = ({ className, style, size = 32, stopped = false }) => {\n  const rootClass = cn('spinner');\n\n  const sizeWithUnit = typeof size === 'number' ? `${size}px` : size;\n\n  return (\n    <div className={rootClass.mix(className)} style={{...(style ?? {}), '--spinner-size': sizeWithUnit}}>\n      <div className={rootClass.elem('body').mod({stopped})}>\n        <span/>\n        <span/>\n        <span/>\n        <span/>\n      </div>\n    </div>\n  );\n};\n","import React, { CSSProperties } from \"react\";\nimport { cn } from \"../../utils/bem\";\nimport \"./ToggleItems.styl\";\n\nexport const ToggleItems = ({ className, style, big, items, active, onSelect }: {\n  className: string,\n  style?: CSSProperties,\n  big?: boolean,\n  items: { [name: string]: string },\n  active: string,\n  onSelect: (name: string) => any,\n}) => {\n  const rootClass = cn('toggle-items');\n\n  return (\n    <ul className={rootClass.mod({ big }).mix(className).toString()} style={style}>\n      {Object.keys(items).map(item => (\n        <li\n          key={item}\n          className={rootClass.elem(\"item\").mod({ active: item === active }).toString()}\n          onClick={() => onSelect(item)}\n        >{items[item]}</li>\n      ))}\n    </ul>\n  );\n};\n","import { Dispatch, SetStateAction, useEffect, useMemo, useState } from \"react\";\n\nexport const useValueTracker = <T>(\n  value: T,\n  defaultValue?: T,\n): [T, Dispatch<SetStateAction<T>>] => {\n  const initialValue = useMemo(() => {\n    return (value ?? defaultValue ?? \"\") as T;\n  }, [value, defaultValue]);\n\n  const [finalValue, setValue] = useState<T>(initialValue);\n\n  useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n\n  return [\n    finalValue as T,\n    setValue,\n  ];\n};\n\n","import React, { useMemo } from 'react';\n\nexport const Oneof = ({value, children, className}) => {\n  const selectedChild = useMemo(() => {\n    if (Array.isArray(children)) {\n      return children.find(c => c.props.case === value) || null;\n    } else if (children.props.case === value) {\n      return children;\n    }\n  }, [children, value]);\n\n  return selectedChild ? React.cloneElement(selectedChild, {\n    ...selectedChild.props,\n    className: [className, selectedChild.props.className].join(\" \")\n  }) : null;\n};\n","import { isDefined, isEmptyString } from '../../../utils/helpers';\nimport './Validation.styl';\n\n\nexport const required = (fieldName, value) => {\n  if (!isDefined(value) || isEmptyString(value)) {\n    return `${fieldName} is required`;\n  }\n};\n\nexport const matchPattern = (pattern) => (fieldName, value) => {\n  pattern = (typeof pattern === 'string') ? new RegExp(pattern) : pattern;\n\n  if (!isEmptyString(value) && value.match(pattern) === null) {\n    return `${fieldName} must match the pattern ${pattern}`;\n  }\n};\n\nexport const json = (fieldName, value) => {\n  const err = `${fieldName} must be valid JSON string`;\n\n  if (!isDefined(value) || value.trim().length === 0) return;\n\n  if (/^(\\{|\\[)/.test(value) === false || /(\\}|\\])$/.test(value) === false) {\n    return err;\n  }\n\n  try {\n    JSON.parse(value);\n  } catch (e) {\n    return err;\n  }\n};\n\nexport const regexp = (fieldName, value) => {\n  try {\n    new RegExp(value);\n  } catch (err) {\n    return `${fieldName} must be a valid regular expression`;\n  }\n};\n","import { forwardRef, useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { isDefined } from '../../utils/helpers';\nimport { FormContext } from \"./FormContext\";\nimport * as Validators from './Validation/Validators';\n\nexport const FormField = forwardRef(({\n  label,\n  name,\n  children,\n  required,\n  validate,\n  skip,\n  allowEmpty,\n  skipAutofill,\n  setValue,\n  dependency,\n  validators,\n  ...props\n}, ref) => {\n  /**@type {Form} */\n  const context = useContext(FormContext);\n  const [dependencyField, setDependencyField] = useState(null);\n\n  const field = ref ?? useRef();\n\n  const validation = [\n    ...(validate ?? []),\n  ];\n\n  validators?.forEach?.(validator => {\n    const [name, value] = validator.split(/:(.+)/).slice(0, 2);\n    const validatorFunc = Validators[name];\n\n    if (isDefined(validatorFunc)) {\n      if (isDefined(value)) {\n        validation.push(validatorFunc(value));\n      } else {\n        validation.push(validatorFunc);\n      }\n    }\n  });\n\n  if (required) validation.push(Validators.required);\n\n  useEffect(() => {\n    if (!context || !dependency) return;\n\n    let field = null;\n    const dep = context.getFieldContext(dependency);\n\n    const handler = () => {\n      props.onDependencyChanged?.(dep.field);\n    };\n\n    if (dep) {\n      dep.field.addEventListener('change', handler);\n      field = dep.field;\n    } else {\n      console.warn(`Dependency field not found ${dependency}`);\n    }\n\n    setDependencyField(field);\n    return () => dep.field.removeEventListener('change', handler);\n  }, [context, field, dependency]);\n\n  const setValueCallback = useCallback((value) => {\n    if (!field || !field.current) return;\n\n    /**@type {HTMLInputElement|HTMLTextAreaElement} */\n    const input = field.current;\n\n    if (setValue instanceof Function) {\n      setValue(value);\n    } else if (input.type === 'checkbox' || input.type === 'radio') {\n      input.checked = value ?? input.checked;\n    } else if (value === null) {\n      input.value = \"\";\n    } else {\n      input.value = value;\n    }\n\n    const evt = document.createEvent(\"HTMLEvents\");\n\n    evt.initEvent(\"change\", false, true);\n    input.dispatchEvent(evt);\n  }, [field]);\n\n  useEffect(() => {\n    const isProtected = skipAutofill && !allowEmpty && field.current.type === 'password';\n\n    context?.registerField({\n      label,\n      name,\n      validation,\n      skip,\n      allowEmpty,\n      skipAutofill,\n      isProtected,\n      field: field.current,\n      setValue: setValueCallback,\n    });\n    return () => context?.unregisterField(name);\n  }, [field, setValueCallback]);\n\n  return children(field, dependencyField, context);\n});\n","import React, { createElement } from 'react';\nimport { cn } from '../../../../utils/bem';\nimport './Label.styl';\n\nconst Label = ({text, children, required, placement, description, size, large, style, simple, flat}) => {\n  const rootClass = cn('label');\n  const classList = [rootClass];\n  const tagName = simple ? 'div' : 'label';\n  const mods = {\n    size,\n    large,\n    flat,\n    placement,\n    withDescription: !!description,\n    empty: !children,\n  };\n\n  classList.push(rootClass.mod(mods));\n\n  return createElement(tagName, {\n    'className': classList.join(\" \"),\n    'data-required': required,\n    'style': style,\n  }, (\n    <>\n      <div className={rootClass.elem('text')}>\n        <div className={rootClass.elem('content')}>\n          {text}\n          {description && <div className={rootClass.elem(\"description\")}>{description}</div>}\n        </div>\n      </div>\n      <div className={rootClass.elem('field')}>{children}</div>\n    </>\n  ));\n};\n\nexport default Label;\n","import React from 'react';\nimport { FaMinus, FaPlus } from 'react-icons/fa';\nimport { Block, Elem } from '../../../../utils/bem';\nimport { Oneof } from '../../../Oneof/Oneof';\nimport { FormField } from '../../FormField';\nimport { default as Label } from '../Label/Label';\nimport './Counter.styl';\n\nconst allowedKeys = [\n  'ArrowUp',\n  'ArrowDown',\n  'Backspace',\n  'Delete',\n  /[0-9]/,\n];\n\nconst CounterContext = React.createContext(null);\n\nconst Counter = ({label, className, validate, required, skip, labelProps, ...props}) => {\n\n  const [min, max] = [props.min ?? -Infinity, props.max ?? Infinity];\n\n  const normalizeValue = (value) => Math.max(min, Math.min(max, value));\n\n  const [currentValue, setCurrentValue] = React.useState(normalizeValue(props.value ?? 0));\n  const [focused, setFocused] = React.useState(props.autofocus ?? false);\n  const [disabled, setDisabled] = React.useState(props.disabled ?? null);\n\n  const setNewValue = (value) => {\n    setCurrentValue(normalizeValue(Number(value)));\n  };\n\n  const increase = React.useCallback(() => {\n    setNewValue((currentValue ?? 0) + (props.step ?? 1));\n  }, [currentValue, props.step]);\n\n  const decrease = React.useCallback(() => {\n    setNewValue((currentValue ?? 0) - (props.step ?? 1));\n  }, [currentValue, props.step]);\n\n  /**@type {(e: import('react').SyntheticEvent<HTMLInputElement, KeyboardEvent>)} */\n  const onInputHandler = (e) => {\n    const allowedKey = allowedKeys.find(k => (k instanceof RegExp) ? k.test(e.key) : k === e.key );\n\n    if (!allowedKey && !e.metaKey) e.preventDefault();\n\n    if (allowedKey === 'ArrowUp') {\n      increase();\n      e.preventDefault();\n    } else if (allowedKey === 'ArrowDown') {\n      decrease();\n      e.preventDefault();\n    }\n  };\n\n\n  /**@type {(e: import('react').SyntheticEvent<HTMLInputElement, ClipboardEvent>)} */\n  const onPasteHandler = (e) => {\n    const content = e.nativeEvent.clipboardData.getData('text');\n    const isNumerical = /([0-9]+)/.test(content);\n\n    if (!isNumerical) e.preventDefault();\n  };\n\n  /**@type {(e: import('react').SyntheticEvent<HTMLInputElement>)} */\n  const onChangeHandler = (e) => {\n    if (e.target.value) {\n      setCurrentValue(normalizeValue(Number(e.target.value)));\n    } else {\n      setCurrentValue(\"\");\n    }\n    props.onChange?.(e);\n  };\n\n  const onFocusHandler = (e) => {\n    setFocused(true);\n    props.onFocus?.(e);\n  };\n\n  const onBlurHandler = (e) => {\n    setFocused(false);\n    props.onBlur?.(e);\n  };\n\n  const onClickHandler = (type, input) => (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    document.activeElement?.blur();\n    setFocused();\n    input.current.focus();\n    getSelection().removeAllRanges();\n    if (type === 'increase') return increase();\n    else if (type === 'decrease') return decrease();\n  };\n\n  const field = (\n    <FormField\n      label={label}\n      name={props.name}\n      validate={validate}\n      required={required}\n      setValue={setNewValue}\n      skip={skip}\n      onDependencyChanged={(f) => {\n        if (f.type === 'checkbox') setDisabled(!f.checked);\n      }}\n      {...props}\n    >{(ref, dep) => {\n        const depDisabled = (dep?.type === 'checkbox' && dep?.checked === false) || false;\n        const fieldDisabled = disabled ?? depDisabled;\n        const contextValue = {\n          currentValue,\n          min,\n          max,\n          disabled: fieldDisabled,\n          ref,\n          onClickHandler\n        };\n\n        return (\n          <CounterContext.Provider value={contextValue}>\n            <Block name=\"counter\" mod={{focused, disabled: fieldDisabled}} mix={className}>\n              <CounterButton type=\"decrease\"/>\n\n              <Elem\n                ref={ref}\n                tag=\"input\"\n                name=\"input\"\n                type=\"text\"\n                disabled={fieldDisabled}\n                value={currentValue}\n                onKeyDown={onInputHandler}\n                onPaste={onPasteHandler}\n                onChange={onChangeHandler}\n                onFocus={onFocusHandler}\n                onBlur={onBlurHandler}\n              />\n\n              <CounterButton type=\"increase\"/>\n            </Block>\n          </CounterContext.Provider>\n        );\n      }}</FormField>\n  );\n\n  return (label ? (\n    <Label\n      {...(labelProps ?? {})}\n      text={label}\n      required={required}\n      children={field}\n    />\n  ) : field);\n};\n\n\n\nconst CounterButton = ({type}) => {\n  const {currentValue, min, max, disabled, ref, onClickHandler} = React.useContext(CounterContext);\n\n  const compareLimit = type === 'increase' ? max : min;\n\n  return (\n    <Elem\n      tag=\"a\"\n      href=\"#\"\n      name=\"btn\"\n      mod={{\n        type,\n        disabled: currentValue === compareLimit || disabled\n      }}\n      onClick={onClickHandler(type, ref)}\n      onMouseDownCapture={e => e.preventDefault()}\n    >\n      <Oneof value={type}>\n        <FaMinus case=\"decrease\"/>\n        <FaPlus case=\"increase\"/>\n      </Oneof>\n    </Elem>\n  );\n};\n\nexport default Counter;\n","import React from 'react';\nimport { cn } from '../../../../utils/bem';\nimport { FormField } from '../../FormField';\nimport { default as Label } from '../Label/Label';\nimport './Input.styl';\n\nconst Input = ({label, className, validate, required, skip, labelProps, ghost, ...props}) => {\n  const classList = [\n    cn('input').mod({ghost}),\n    className,\n  ].join(\" \").trim();\n\n  const input = (\n    <FormField\n      label={label}\n      name={props.name}\n      validate={validate}\n      required={required}\n      skip={skip}\n      {...props}\n    >\n      {ref => (\n        <input {...props} ref={ref} className={classList}/>\n      )}\n    </FormField>\n  );\n\n  return label ? <Label {...(labelProps ?? {})} text={label} required={required}>{input}</Label> : input;\n};\n\nexport default Input;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { cn } from '../../../../utils/bem';\nimport { FormField } from '../../FormField';\nimport { default as Label } from '../Label/Label';\nimport './Select.styl';\n\nconst Select = ({ label, className, options, validate, required, skip, labelProps, ghost, ...props }) => {\n  const rootClass = cn('select');\n  const initialValue = useMemo(() => props.value ?? \"\", [props.value]);\n  const [value, setValue] = useState(initialValue);\n\n  const classList = rootClass.mod({ ghost }).mix(className);\n\n  useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n\n  const selectWrapper = (\n    <FormField\n      name={props.name}\n      label={label}\n      validate={validate}\n      required={required}\n      skip={skip}\n      setValue={val => setValue(val)}\n      {...props}\n    >\n      {ref => {\n        return (\n          <div className={classList}>\n            <select\n              {...props}\n              value={value}\n              onChange={(e) => {\n                setValue(e.target.value),\n                props.onChange?.(e);\n              }}\n              ref={ref}\n              className={rootClass.elem('list')}\n            >\n              {props.placeholder && (!props.defaulValue || !props.value) && (\n                <option value=\"\" disabled hidden>{props.placeholder}</option>\n              )}\n\n              {(options ?? []).map(option => {\n                const value = option.value ?? option;\n                const label = option.label ?? value;\n                const disabled = option.disabled ?? false;\n                const hidden = option.hidden ?? false;\n\n                return (\n                  <option key={value} value={value} disabled={disabled} hidden={hidden}>\n                    {label}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n        );\n      }}\n    </FormField>\n  );\n\n  return label ? <Label {...(labelProps ?? {})} text={label} required={required}>{selectWrapper}</Label> : selectWrapper;\n};\n\nexport default Select;\n","import React from 'react';\nimport { cn } from '../../../../utils/bem';\nimport { FormField } from '../../FormField';\nimport { default as Label } from '../Label/Label';\n\nconst TextArea = ({label, className, validate, required, skip, labelProps, ...props}) => {\n  const classList = [\n    cn('textarea'),\n    className\n  ].join(\" \").trim();\n\n  const input = (\n    <FormField\n      label={label}\n      name={props.name}\n      validate={validate}\n      required={required}\n      skip={skip}\n      {...props}\n    >\n      {ref => (\n        <textarea {...props} ref={ref} className={classList}/>\n      )}\n    </FormField>\n  );\n\n  return label ? <Label {...(labelProps ?? {})} text={label} required={required}>{input}</Label> : input;\n};\n\nexport default TextArea;\n","import React, { forwardRef, useEffect, useMemo } from 'react';\nimport { cn } from '../../../../utils/bem';\nimport { FormField } from '../../FormField';\nimport { useValueTracker } from '../../Utils';\nimport { default as Label } from '../Label/Label';\nimport './Toggle.styl';\n\nconst Toggle = forwardRef(({ className, label, labelProps, description, checked, defaultChecked, onChange, validate, required, skip, ...props }, ref) => {\n  const rootClass = cn('toggle');\n  const initialChecked = useMemo(() => defaultChecked ?? checked ?? false, [defaultChecked, checked]);\n  const [isChecked, setIsChecked] = useValueTracker(checked, defaultChecked ?? false);\n\n  const classList = [rootClass];\n  const mods = {};\n\n  useEffect(() => {\n    setIsChecked(initialChecked);\n  }, [initialChecked]);\n\n  if (isChecked) mods.checked = isChecked;\n  mods.disabled = props.disabled;\n\n  classList.push(rootClass.mod(mods), className);\n\n  const formField = (\n    <FormField\n      ref={label ? null : ref}\n      label={label}\n      name={props.name}\n      validate={validate}\n      required={required}\n      skip={skip}\n      setValue={value => setIsChecked(value)}\n      {...props}\n    >\n      {ref => (\n        <div className={classList.join(\" \")}>\n          <input\n            ref={ref}\n            {...props}\n            className={rootClass.elem('input')}\n            type=\"checkbox\"\n            checked={isChecked}\n            onChange={(e) => {\n              setIsChecked(e.target.checked);\n              onChange?.(e);\n            }}\n          />\n          <span className={rootClass.elem('indicator')}></span>\n        </div>\n      )}\n    </FormField>\n  );\n\n  return label ? (\n    <Label\n      ref={ref}\n      placement=\"right\"\n      required={required}\n      text={label}\n      children={formField}\n      description={description}\n      {...(labelProps ?? {})}\n    />\n  ) : formField;\n});\n\nexport default Toggle;\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { useFixedLocation } from '../providers/RoutesProvider';\n\nexport const useSet = <T>(initialSet: Set<T> = new Set()) => {\n  const [set, setSet] = useState(initialSet);\n\n  const stableActions = useMemo(() => {\n    const add = (item: T) => setSet((prevSet) => {\n      return new Set([...Array.from(prevSet), item]);\n    });\n\n    const remove = (item: T) => setSet((prevSet) => {\n      return new Set(Array.from(prevSet).filter((i) => i !== item));\n    });\n\n    const toggle = (item: T) => setSet((prevSet) => {\n      return prevSet.has(item)\n        ? new Set(Array.from(prevSet).filter((i) => i !== item))\n        : new Set([...Array.from(prevSet), item]);\n    });\n\n    return { add, remove, toggle, reset: () => setSet(initialSet) };\n  }, [setSet]);\n\n  const utils = {\n    has: useCallback((item) => set.has(item), [set]),\n    ...stableActions,\n  };\n\n  return [set, utils];\n};\n\nexport const useRefresh = () => {\n  const history = useHistory();\n  const { pathname } = useFixedLocation();\n\n  const refresh = useCallback((redirectPath) => {\n    history.replace(\"/\");\n\n    setTimeout(() => {\n      history.replace(redirectPath ?? pathname);\n    }, 10);\n\n    return pathname;\n  }, [pathname]);\n\n  return refresh;\n};\n\nexport function useFirstMountState(): boolean {\n  const isFirst = useRef(true);\n\n  if (isFirst.current) {\n    isFirst.current = false;\n\n    return true;\n  }\n\n  return isFirst.current;\n}\n\nexport const useUpdateEffect: typeof useEffect = (effect, deps) => {\n  const isFirstMount = useFirstMountState();\n\n  useEffect(() => {\n    if (!isFirstMount) {\n      return effect();\n    }\n  }, deps);\n};\n","import { CSSProperties, FC, forwardRef, KeyboardEvent, useCallback, useEffect, useMemo, useState } from \"react\";\nimport { Block, Elem } from \"../../utils/bem\";\nimport { clamp, isDefined } from \"../../utils/helpers\";\nimport { useValueTracker } from \"../Form/Utils\";\nimport { Select } from '../Form/Elements';\nimport \"./Pagination.styl\";\nimport { useUpdateEffect } from \"../../utils/hooks\";\n\ninterface PaginationProps {\n  name?: string\n  page: number,\n  totalPages: number,\n  pageSize: number,\n  totalItems: number,\n  label?: string,\n  allowInput?: boolean,\n  allowRewind?: boolean,\n  disabled?: boolean,\n  waiting?: boolean,\n  urlParamName?: string,\n  pageSizeOptions?: number[],\n  size?: \"small\" | \"medium\" | \"large\"\n  style?: CSSProperties,\n  onInit?: (pageNumber: number, pageSize: number) => void\n  onChange?: (pageNumber: number, pageSize: number) => void\n  onPageLoad?: (pageNumber: number, pageSize: number) => Promise<void>\n}\n\nconst isSystemEvent = (e: KeyboardEvent<HTMLInputElement>): boolean => {\n  return (\n    (e.code.match(/arrow/i) !== null) ||\n    (e.shiftKey && e.code.match(/arrow/i) !== null) ||\n    (e.metaKey || e.ctrlKey || e.code === 'Backspace')\n  );\n};\n\nconst getStoredPageSize = (name?: string): number | undefined => {\n  const value = localStorage.getItem(`pages:${name}`);\n\n  if (isDefined(value)) {\n    return parseInt(value);\n  }\n\n  return undefined;\n};\n\nconst setStoredPageSize = (name: string, pageSize: number) => {\n  localStorage.setItem(`pages:${name}`, pageSize.toString());\n};\n\nexport const Pagination: FC<PaginationProps> = forwardRef(({\n  allowInput = true,\n  allowRewind = true,\n  disabled = false,\n  size = \"medium\",\n  pageSizeOptions = [],\n  ...props\n}, ref) => {\n  const [inputMode, setInputMode] = useState(false);\n  const [currentPage, setCurrentPage] = useValueTracker(props.page);\n  const [waiting, setWaiting] = useValueTracker(props.waiting);\n  const [pageSize, setPageSize] = useValueTracker(\n    props.pageSize,\n    getStoredPageSize(props.name) ?? pageSizeOptions?.[0] ?? 10,\n  );\n\n  const totalPages = useMemo(() => {\n    return props.totalPages ?? Math.ceil(props.totalItems / pageSize);\n  }, [pageSize, props.totalItems, props.totalPages]);\n\n  const visibleItems = useMemo(() => {\n    const { totalItems } = props;\n    const start = (pageSize * currentPage - pageSize) + 1;\n    const end = start + pageSize - 1;\n\n    return {\n      start: clamp(start, 1, totalItems),\n      end: clamp(end, 1, totalItems),\n    };\n  }, [currentPage, totalPages, pageSize, props.totalItems]);\n\n  const handlePageLoad = useCallback(async (pageNumber: number, pageSize: number) => {\n    if (props.onPageLoad) {\n      setWaiting(true);\n      await props.onPageLoad(pageNumber, pageSize);\n      setWaiting(false);\n    }\n  }, [props.onPageLoad]);\n\n  const setPageClamped = useCallback((value: number, force = false) => {\n    const pageNumber = clamp(value, 1, totalPages);\n\n    if (pageNumber !== currentPage || force === true) {\n      setCurrentPage(pageNumber);\n      updateURL(pageNumber);\n    }\n  }, [totalPages, currentPage, pageSize, handlePageLoad]);\n\n  const updateURL = useCallback((page: number, options: {\n    replace?: boolean\n  } = {}) => {\n    if (!props.urlParamName) return;\n\n    const urlParams = new URLSearchParams(location.search);\n\n    urlParams.set(props.urlParamName, page.toString());\n\n    const historyArgs: [any, string, string] = [\n      { page },\n      \"\",\n      `${location.pathname}?${urlParams.toString()}`,\n    ];\n\n    if (options.replace) {\n      history.replaceState(...historyArgs);\n    } else {\n      history.pushState(...historyArgs);\n    }\n  }, [props.urlParamName]);\n\n  const applyPageNumberFromEvent = (e: React.KeyboardEvent<HTMLInputElement> | React.FocusEvent<HTMLInputElement>) => {\n    const result = parseInt((e.target as HTMLInputElement).value);\n\n    setPageClamped(result);\n    setInputMode(false);\n  };\n\n  useEffect(() => {\n    props.onInit?.(currentPage, pageSize);\n    updateURL(currentPage, { replace: true });\n  }, []);\n\n  useUpdateEffect(() => {\n    if (currentPage > totalPages) {\n      setPageClamped(1, true);\n    } else {\n      props.onChange?.(currentPage, pageSize);\n\n      handlePageLoad(currentPage, pageSize);\n    }\n  }, [pageSize, totalPages]);\n\n  useUpdateEffect(() => {\n    props.onChange?.(currentPage, pageSize);\n\n    handlePageLoad(currentPage, pageSize);\n  }, [currentPage]);\n\n  useEffect(() => {\n    const popStateHandler = () => {\n      if (!props.urlParamName) return;\n\n      const urlParams = new URLSearchParams(location.search);\n      const pageNumberFromURL = parseInt(urlParams.get(props.urlParamName) ?? \"\");\n\n      if (!isNaN(pageNumberFromURL) && pageNumberFromURL !== currentPage) {\n        setCurrentPage(pageNumberFromURL);\n      }\n    };\n\n    window.addEventListener('popstate', popStateHandler);\n\n    return () => window.removeEventListener('popstate', popStateHandler);\n  }, [props.urlParamName]);\n\n  return (totalPages > 1) ? (\n    <Block name=\"pagination\" mod={{ disabled, size, waiting }} style={props.style}>\n      {(props.label && isDefined(pageSize)) && (\n        <Elem name=\"label\">\n          {props.label}: {visibleItems.start}-{visibleItems.end}\n        </Elem>\n      )}\n      <Elem name=\"navigation\">\n        {allowRewind && (\n          <>\n            <NavigationButton\n              mod={['arrow-left', 'arrow-left-double']}\n              onClick={() => setPageClamped(1)}\n              disabled={currentPage === 1}\n            />\n            <Elem name=\"divider\" />\n          </>\n        )}\n        <NavigationButton\n          mod={['arrow-left']}\n          onClick={() => setPageClamped(currentPage - 1)}\n          disabled={currentPage === 1}\n        />\n        <Elem name=\"input\">\n          {inputMode ? (\n            <input\n              type=\"text\"\n              autoFocus\n              defaultValue={currentPage}\n              pattern=\"[0-9]\"\n              onKeyDown={(e) => {\n                if (e.code === 'Escape') {\n                  setInputMode(false);\n                } else if (e.code === 'Enter') {\n                  applyPageNumberFromEvent(e);\n                } else if (e.code.match(/[0-9]/) === null && !isSystemEvent(e)) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }\n              }}\n              onBlur={(e) => {\n                applyPageNumberFromEvent(e);\n              }}\n            />\n          ) : (\n            <Elem\n              name=\"page-indicator\"\n              onClick={() => {\n                if (allowInput) setInputMode(true);\n              }}\n            >\n              {currentPage}{\" \"}<span>of {totalPages}</span>\n              <div onClick={() => { /*  */ }}></div>\n            </Elem>\n          )}\n        </Elem>\n        <NavigationButton\n          mod={['arrow-right']}\n          onClick={() => setPageClamped(currentPage + 1)}\n          disabled={currentPage === totalPages}\n        />\n        {allowRewind && (\n          <>\n            <Elem name=\"divider\" />\n            <NavigationButton\n              mod={['arrow-right', 'arrow-right-double']}\n              onClick={() => setPageClamped(totalPages)}\n              disabled={currentPage === totalPages}\n            />\n          </>\n        )}\n      </Elem>\n\n      {pageSizeOptions?.length > 0 && (\n        <Elem name=\"page-size\">\n          <Select\n            value={pageSize}\n            options={pageSizeOptions.map(v => ({ label: `${v} ${window.t(\"per page\")}`, value: v }))}\n            onChange={(e: any) => {\n              const newPageSize = parseInt(e.target.value);\n\n              setPageSize(newPageSize);\n\n              if (props.name) {\n                setStoredPageSize(props.name, newPageSize);\n              }\n            }}\n          />\n        </Elem>\n      )}\n    </Block>\n  ) : null;\n});\n\nconst NavigationButton: FC<{\n  onClick: (e: React.MouseEvent<HTMLDivElement>) => void,\n  mod: string[],\n  disabled?: boolean,\n}> = (props) => {\n  const mod = Object.fromEntries(props.mod.map(m => [m, true]));\n\n  mod.disabled = props.disabled === true;\n\n  return (\n    <Elem name=\"btn\" mod={mod} onClick={props.onClick}/>\n  );\n};\n\nexport const usePage = (paramName: string, initialValue = 1) => {\n  const params = new URLSearchParams(location.search);\n  const urlValue = params.get(paramName);\n\n  const [page, setPage] = useState(urlValue ? parseInt(urlValue) : initialValue);\n\n  return [page, setPage];\n};\n\nexport const usePageSize = (paramName: string, initialValue = 1) => {\n  const params = new URLSearchParams(location.search);\n  const urlValue = params.get(paramName);\n\n  const [pageSize, setPageSize] = useState(urlValue ? parseInt(urlValue) : initialValue);\n\n  return [pageSize, setPageSize];\n};\n","import React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { shallowEqualObjects } from 'shallow-equal';\nimport { ApiProvider } from '../../providers/ApiProvider';\nimport { MultiProvider } from '../../providers/MultiProvider';\nimport { Block, cn, Elem } from '../../utils/bem';\nimport { debounce } from '../../utils/debounce';\nimport { isDefined, objectClean } from '../../utils/helpers';\nimport { Button } from '../Button/Button';\nimport { Oneof } from '../Oneof/Oneof';\nimport { Space } from '../Space/Space';\nimport { Counter, Input, Select, Toggle } from './Elements';\nimport './Form.styl';\nimport { FormContext, FormResponseContext, FormStateContext, FormSubmissionContext, FormValidationContext } from './FormContext';\nimport * as Validators from './Validation/Validators';\n\nconst PASSWORD_PROTECTED_VALUE = 'got ya, suspicious hacker!';\n\nexport default class Form extends React.Component {\n  state = {\n    validation: null,\n    showValidation: true,\n    submitting: false,\n  }\n\n  /**@type {import('react').RefObject<HTMLFormElement>} */\n  formElement = React.createRef()\n\n  apiRef = React.createRef()\n\n  /**@type {Set<HTMLInputElement|HTMLSelectElement>} */\n  fields = new Set()\n\n  validation = new Map()\n\n  get api() { return this.apiRef.current; }\n\n  componentDidMount() {\n    if (this.props.formData) {\n      setTimeout(() => {\n        this.fillFormData();\n      }, 50);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const equal = shallowEqualObjects(prevProps.formData ?? {}, this.props.formData ?? {});\n\n    if (!equal) {\n      this.fillFormData();\n    }\n  }\n\n  render() {\n    const providers = [\n      <FormContext.Provider key=\"form-ctx\" value={this} />,\n      <FormValidationContext.Provider key=\"form-validation-ctx\" value={this.state.validation} />,\n      <FormSubmissionContext.Provider key=\"form-submission-ctx\" value={this.state.submitting} />,\n      <FormStateContext.Provider key=\"form-state-ctx\" value={this.state.state} />,\n      <FormResponseContext.Provider key=\"form-response\" value={this.state.lastResponse} />,\n      <ApiProvider key=\"form-api\" ref={this.apiRef} />,\n    ];\n\n    return (\n      <MultiProvider providers={providers}>\n        <form\n          ref={this.formElement}\n          className={cn('form')}\n          action={this.props.action}\n          onSubmit={this.onFormSubmitted}\n          onChange={this.onFormChanged}\n          autoComplete={this.props.autoComplete}\n          autoSave={this.props.autoSave}\n          style={this.props.style}\n        >\n          {this.props.children}\n\n          {this.state.validation && this.state.showValidation && (\n            <ValidationRenderer validation={this.state.validation} />\n          )}\n        </form>\n      </MultiProvider>\n    );\n  }\n\n  registerField(field) {\n    const existingField = this.getFieldContext(field.name);\n\n    if (!existingField) {\n      this.fields.add(field);\n\n      setTimeout(() => {\n        this.fillWithFormData(field);\n      }, 0);\n    } else {\n      Object.assign(existingField, field);\n    }\n  }\n\n  unregisterField(name) {\n    const field = this.getFieldContext(name);\n\n    if (field) this.fields.delete(field);\n  }\n\n  getField(name) {\n    return this.getFieldContext(name)?.field;\n  }\n\n  getFieldContext(name) {\n    return Array.from(this.fields).find(f => f.name === name);\n  }\n\n  disableValidationMessage() {\n    this.setState({ showValidation: false });\n  }\n\n  enableValidationMessage() {\n    this.setState({ showValidation: true });\n  }\n\n  onFormSubmitted = async (e) => {\n    e.preventDefault();\n\n    this.validateFields();\n\n    if (!this.validation.size) {\n      this.setState({ step: \"submitting\" });\n      this.submit();\n    } else {\n      this.setState({ step: \"invalid\" });\n    }\n  }\n\n  _onAutoSubmit = () => {\n    this.validateFields();\n\n    if (!this.validation.size) {\n      this.submit();\n    }\n  }\n\n  onAutoSubmit = this.props.debounce ? debounce(this._onAutoSubmit, this.props.debounce) : this._onAutoSubmit\n\n  onFormChanged = async (e) => {\n    e.stopPropagation();\n\n    this.props.onChange?.(e);\n\n    this.autosubmit();\n  }\n\n  autosubmit() {\n    if (this.props.autosubmit) {\n      setTimeout(() => {\n        this.onAutoSubmit();\n      }, 100);\n    }\n  }\n\n  assembleFormData({\n    asJSON = false,\n    full = false,\n    booleansAsNumbers = false,\n    fieldsFilter,\n  } = {}) {\n    let fields = Array.from(this.fields);\n\n    if (fieldsFilter instanceof Function) {\n      fields = fields.filter(fieldsFilter);\n    }\n\n\n    const requestBody = fields.reduce((res, { name, field, skip, allowEmpty, isProtected }) => {\n      const skipProtected = isProtected && field.value === PASSWORD_PROTECTED_VALUE;\n      const skipField = skip || skipProtected || ((this.props.skipEmpty || allowEmpty === false) && !field.value);\n\n      if (full === true || !skipField) {\n        const value = (() => {\n          const inputValue = field.value;\n\n          if (['checkbox', 'radio'].includes(field.type)) {\n            if (isDefined(inputValue) && !['', 'on', 'off', 'true', 'false'].includes(inputValue)) {\n              return field.checked ? inputValue : null;\n            }\n\n            return booleansAsNumbers ? Number(field.checked) : field.checked;\n          }\n\n          return inputValue;\n        })();\n\n        if (value !== null) res.push([name, value]);\n      }\n\n      return res;\n    }, []);\n\n    if (asJSON) {\n      return requestBody.reduce((res, [key, value]) => ({ ...res, [key]: value }), {});\n    } else {\n      const formData = new FormData();\n\n      requestBody.forEach(([key, value]) => formData.append(key, value));\n      return formData;\n    }\n  }\n\n  async submit({ fieldsFilter } = {}) {\n    this.setState({ submitting: true, lastResponse: null });\n\n    const rawAction = this.formElement.current.getAttribute(\"action\");\n    const useApi = this.api.isValidMethod(rawAction);\n    const data = this.assembleFormData({ asJSON: useApi, fieldsFilter });\n    const body = this.props.prepareData?.(data) ?? data;\n    let success = false;\n\n    if (useApi) {\n      success = await this.submitWithAPI(rawAction, body);\n    } else {\n      success = await this.submitWithFetch(body);\n    }\n\n    this.setState({\n      submitting: false,\n      state: success ? \"success\" : \"fail\",\n    }, () => {\n      setTimeout(() => {\n        this.setState({ state: null });\n      }, 1500);\n    });\n  }\n\n  async submitWithAPI(action, body) {\n    const urlParams = objectClean(this.props.params ?? {});\n    const response = await this.api.callApi(action, {\n      params: urlParams,\n      body,\n    });\n\n    this.setState({ lastResponse: response });\n\n    if (response === null) {\n      this.props.onError?.();\n      return false;\n    } else {\n      this.props.onSubmit?.(response);\n      return true;\n    }\n  }\n\n  async submitWithFetch(body) {\n    const action = this.formElement.current.action;\n    const method = (this.props.method ?? 'POST').toUpperCase();\n    const response = await fetch(action, { method, body });\n\n    try {\n      const result = await response.json();\n\n      this.setState({ lastResponse: result });\n\n      if (result.validation_errors) {\n        Object.entries(result.validation_errors).forEach(([key, messages]) => {\n          const field = this.getField(key);\n\n          this.validation.set(field.name, {\n            label: field.label,\n            field: field.field,\n            messages,\n          });\n        });\n\n        this.setState({ validation: this.validation });\n      }\n\n      if (response.ok) {\n        this.props.onSubmit?.(result);\n        return true;\n      } else {\n        this.props.onError?.(result);\n      }\n    } catch (err) {\n      console.log(err);\n      this.props.onError?.(err);\n    }\n    return false;\n  }\n\n  validateFields() {\n    this.validation.clear();\n\n    for (const field of this.fields) {\n      const result = this.validateField(field);\n\n      if (result.length) {\n        this.validation.set(field.name, {\n          label: field.label,\n          messages: result,\n          field: field.field,\n        });\n      }\n    }\n\n    if (this.validation.size) {\n      this.setState({ validation: this.validation });\n    } else {\n      this.setState({ validation: null });\n    }\n\n    return this.validation.size === 0;\n  }\n\n  validateField(field) {\n    const messages = [];\n    const { validation, field: element } = field;\n    const value = element.value?.trim() || null;\n\n    if (field.isProtected && value === PASSWORD_PROTECTED_VALUE) {\n      return messages;\n    }\n\n    validation.forEach((validator) => {\n      const result = validator(field.label, value);\n\n      if (result) messages.push(result);\n    });\n\n    return messages;\n  }\n\n  fillFormData() {\n    if (!this.props.formData) return;\n    if (this.fields.size === 0) return;\n\n    Array.from(this.fields).forEach((field) => {\n      this.fillWithFormData(field);\n    });\n  }\n\n  fillWithFormData(field) {\n    const value = (this.props.formData ?? {})[field.name];\n\n    if (field.isProtected && this.props.formData) {\n      field.setValue(PASSWORD_PROTECTED_VALUE);\n    } else if (isDefined(value) && field.value !== value && !field.skipAutofill) {\n      field.setValue(value);\n    }\n  }\n}\n\nconst ValidationRenderer = ({ validation }) => {\n  const rootClass = cn('form-validation');\n\n  return (\n    <div className={rootClass}>\n      {Array.from(validation).map(([name, result]) => (\n        <div key={name} className={rootClass.elem('group')} onClick={() => result.field.focus()}>\n          <div className={rootClass.elem('field')}>{result.label}</div>\n\n          <div className={rootClass.elem('messages')}>\n            {result.messages.map((message, i) => (\n              <div key={`${name}-${i}`} className={rootClass.elem('message')}>\n                {message}\n              </div>\n            ))}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nForm.Validator = Validators;\n\nForm.Row = ({ columnCount, rowGap, children, style, spread = false }) => {\n  const styles = {};\n\n  if (columnCount) styles['--column-count'] = columnCount;\n  if (rowGap) styles['--row-gap'] = rowGap;\n\n  return (\n    <div className={cn('form').elem('row').mod({ spread })} style={{ ...(style ?? {}), ...styles }}>\n      {children}\n    </div>\n  );\n};\n\nForm.Builder = React.forwardRef(({\n  fields: defaultFields,\n  formData: defaultFormData,\n  fetchFields,\n  fetchFormData,\n  children,\n  formRowStyle,\n  onSubmit,\n  withActions,\n  ...props\n}, ref) => {\n  const formRef = ref ?? useRef();\n  const [fields, setFields] = useState(defaultFields ?? []);\n  const [formData, setFormData] = useState(defaultFormData ?? {});\n\n  const renderFields = (fields) => {\n    return fields.map((field, index) => {\n      if (!field) return <div key={`spacer-${index}`} />;\n\n      const currentValue = formData?.[field.name] ?? undefined;\n      const triggerUpdate = props.autosubmit !== true && field.trigger_form_update === true;\n      const getValue = () => {\n        const isProtected = field.skipAutofill && !field.allowEmpty && field.type === 'password';\n\n        if (isProtected) {\n          return PASSWORD_PROTECTED_VALUE;\n        }\n\n        if (field.skipAutofill) {\n          return null;\n        }\n\n        return currentValue ?? field.value;\n      };\n\n      const commonProps = {};\n\n      if (triggerUpdate) {\n        commonProps.onChange = async () => {\n          await formRef.current.submit({\n            fieldsFilter: (f) => f.name === field.name,\n          });\n          await updateFields();\n          await updateFormData();\n        };\n      }\n\n      const InputComponent = (() => {\n        switch(field.type) {\n          case \"select\": return Select;\n          case \"counter\": return Counter;\n          case \"toggle\": return Toggle;\n          default: return Input;\n        }\n      })();\n\n      if (['checkbox', 'radio', 'toggle'].includes(field.type)) {\n        commonProps.checked = getValue();\n      } else {\n        commonProps.defaultValue = getValue();\n      }\n\n      return (\n        <InputComponent\n          key={field.name ?? index}\n          {...field}\n          {...commonProps}\n        />\n      );\n    });\n  };\n\n  const renderColumns = (columns) => {\n    return columns.map((col, index) => (\n      <div className={cn('form').elem('column')} key={index} style={{ width: col.width }}>\n        {renderFields(col.fields)}\n      </div>\n    ));\n  };\n\n  const updateFields = useCallback(async () => {\n    if (fetchFields) {\n      const newFields = await fetchFields();\n\n      if (JSON.stringify(fields) !== JSON.stringify(newFields)) {\n        setFields(newFields);\n      }\n    }\n  }, [fetchFields]);\n\n  const updateFormData = useCallback(async () => {\n    if (fetchFormData) {\n      const newFormData = await fetchFormData();\n\n      if (shallowEqualObjects(formData, newFormData) === false) {\n        setFormData(newFormData);\n      }\n    }\n  }, [fetchFormData]);\n\n  const handleOnSubmit = useCallback(async (...args) => {\n    onSubmit?.(...args);\n    await updateFields();\n    await updateFormData();\n  }, [onSubmit, fetchFormData]);\n\n  useEffect(() => {\n    updateFields();\n  }, [updateFields]);\n\n  useEffect(() => {\n    updateFormData();\n  }, [updateFormData]);\n\n  useEffect(() => {\n    setFields(defaultFields);\n  }, [defaultFields]);\n\n  return (\n    <Form {...props} onSubmit={handleOnSubmit} ref={formRef}>\n      {(fields ?? []).map(({ columnCount, fields, columns }, index) => (\n        <Form.Row key={index} columnCount={columnCount} style={formRowStyle} spread>\n          {columns ? renderColumns(columns) : renderFields(fields)}\n        </Form.Row>\n      ))}\n      {children}\n      {(props.autosubmit !== true && withActions === true) && (\n        <Form.Actions>\n          <Button\n            type=\"submit\"\n            look=\"primary\"\n            style={{ width: 120 }}\n          >\n            Save\n          </Button>\n        </Form.Actions>\n      )}\n    </Form>\n  );\n});\n\nForm.Actions = ({ children, valid, extra, size }) => {\n  const rootClass = cn('form');\n\n  return (\n    <div className={rootClass.elem('submit').mod({ size })}>\n      <div className={rootClass.elem('info').mod({ valid })}>\n        {extra}\n      </div>\n\n      <Space>\n        {children}\n      </Space>\n    </div>\n  );\n};\n\nForm.Indicator = () => {\n  const state = React.useContext(FormStateContext);\n\n  return (\n    <Block name=\"form-indicator\">\n      <Oneof value={state}>\n        <Elem tag=\"span\" mod={{ type: state }} name=\"item\" case=\"success\">Saved!</Elem>\n      </Oneof>\n    </Block>\n  );\n};\n\nForm.ResponseParser = ({ children }) => {\n  const callback = children;\n\n  if (callback instanceof Function === false) {\n    throw new Error(\"Response Parser only accepts function as a child\");\n  }\n\n  const response = useContext(FormResponseContext);\n\n  return <>{response ? callback(response) : null}</>;\n};\n","/**\n * Returns a function, that, as long as it continues to be invoked,\n * will not be triggered. The function will be called after it\n * stops being called for N milliseconds. If `immediate` is passed,\n * trigger the function on the leading edge, instead of the trailing.\n *\n * @param {function} func\n * @param {number} wait\n * @param {boolean} immediate\n */\nexport function debounce(func, wait, immediate) {\n  let timeout;\n\n  return function(...args) {\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(this, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) func.apply(this, args);\n  };\n}\n","export const LABELS_PALETTE = \"FFA39E D4380D FFC069 AD8B00 D3F261 389E0D 5CDBD3 096DD9 ADC6FF 9254DE F759AB\".split(\" \").map(s => \"#\" + s);\n\nexport function* Palette(colors = LABELS_PALETTE) {\n  let index = 0;\n  while (true) {\n    yield colors[index];\n    index = (index + 1) % colors.length;\n  }\n}\n\nwindow.Palette = Palette;\n","export const colorNames = {\n  aliceblue: \"#f0f8ff\",\n  antiquewhite: \"#faebd7\",\n  aqua: \"#00ffff\",\n  aquamarine: \"#7fffd4\",\n  azure: \"#f0ffff\",\n  beige: \"#f5f5dc\",\n  bisque: \"#ffe4c4\",\n  black: \"#000000\",\n  blanchedalmond: \"#ffebcd\",\n  blue: \"#0000ff\",\n  blueviolet: \"#8a2be2\",\n  brown: \"#a52a2a\",\n  burlywood: \"#deb887\",\n  cadetblue: \"#5f9ea0\",\n  chartreuse: \"#7fff00\",\n  chocolate: \"#d2691e\",\n  coral: \"#ff7f50\",\n  cornflowerblue: \"#6495ed\",\n  cornsilk: \"#fff8dc\",\n  crimson: \"#dc143c\",\n  cyan: \"#00ffff\",\n  darkblue: \"#00008b\",\n  darkcyan: \"#008b8b\",\n  darkgoldenrod: \"#b8860b\",\n  darkgray: \"#a9a9a9\",\n  darkgreen: \"#006400\",\n  darkkhaki: \"#bdb76b\",\n  darkmagenta: \"#8b008b\",\n  darkolivegreen: \"#556b2f\",\n  darkorange: \"#ff8c00\",\n  darkorchid: \"#9932cc\",\n  darkred: \"#8b0000\",\n  darksalmon: \"#e9967a\",\n  darkseagreen: \"#8fbc8f\",\n  darkslateblue: \"#483d8b\",\n  darkslategray: \"#2f4f4f\",\n  darkturquoise: \"#00ced1\",\n  darkviolet: \"#9400d3\",\n  deeppink: \"#ff1493\",\n  deepskyblue: \"#00bfff\",\n  dimgray: \"#696969\",\n  dodgerblue: \"#1e90ff\",\n  firebrick: \"#b22222\",\n  floralwhite: \"#fffaf0\",\n  forestgreen: \"#228b22\",\n  fuchsia: \"#ff00ff\",\n  gainsboro: \"#dcdcdc\",\n  ghostwhite: \"#f8f8ff\",\n  gold: \"#ffd700\",\n  goldenrod: \"#daa520\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  greenyellow: \"#adff2f\",\n  honeydew: \"#f0fff0\",\n  hotpink: \"#ff69b4\",\n  indianred: \"#cd5c5c\",\n  indigo: \"#4b0082\",\n  ivory: \"#fffff0\",\n  khaki: \"#f0e68c\",\n  lavender: \"#e6e6fa\",\n  lavenderblush: \"#fff0f5\",\n  lawngreen: \"#7cfc00\",\n  lemonchiffon: \"#fffacd\",\n  lightblue: \"#add8e6\",\n  lightcoral: \"#f08080\",\n  lightcyan: \"#e0ffff\",\n  lightgoldenrodyellow: \"#fafad2\",\n  lightgrey: \"#d3d3d3\",\n  lightgreen: \"#90ee90\",\n  lightpink: \"#ffb6c1\",\n  lightsalmon: \"#ffa07a\",\n  lightseagreen: \"#20b2aa\",\n  lightskyblue: \"#87cefa\",\n  lightslategray: \"#778899\",\n  lightsteelblue: \"#b0c4de\",\n  lightyellow: \"#ffffe0\",\n  lime: \"#00ff00\",\n  limegreen: \"#32cd32\",\n  linen: \"#faf0e6\",\n  magenta: \"#ff00ff\",\n  maroon: \"#800000\",\n  mediumaquamarine: \"#66cdaa\",\n  mediumblue: \"#0000cd\",\n  mediumorchid: \"#ba55d3\",\n  mediumpurple: \"#9370d8\",\n  mediumseagreen: \"#3cb371\",\n  mediumslateblue: \"#7b68ee\",\n  mediumspringgreen: \"#00fa9a\",\n  mediumturquoise: \"#48d1cc\",\n  mediumvioletred: \"#c71585\",\n  midnightblue: \"#191970\",\n  mintcream: \"#f5fffa\",\n  mistyrose: \"#ffe4e1\",\n  moccasin: \"#ffe4b5\",\n  navajowhite: \"#ffdead\",\n  navy: \"#000080\",\n  oldlace: \"#fdf5e6\",\n  olive: \"#808000\",\n  olivedrab: \"#6b8e23\",\n  orange: \"#ffa500\",\n  orangered: \"#ff4500\",\n  orchid: \"#da70d6\",\n  palegoldenrod: \"#eee8aa\",\n  palegreen: \"#98fb98\",\n  paleturquoise: \"#afeeee\",\n  palevioletred: \"#d87093\",\n  papayawhip: \"#ffefd5\",\n  peachpuff: \"#ffdab9\",\n  peru: \"#cd853f\",\n  pink: \"#ffc0cb\",\n  plum: \"#dda0dd\",\n  powderblue: \"#b0e0e6\",\n  purple: \"#800080\",\n  rebeccapurple: \"#663399\",\n  red: \"#ff0000\",\n  rosybrown: \"#bc8f8f\",\n  royalblue: \"#4169e1\",\n  saddlebrown: \"#8b4513\",\n  salmon: \"#fa8072\",\n  sandybrown: \"#f4a460\",\n  seagreen: \"#2e8b57\",\n  seashell: \"#fff5ee\",\n  sienna: \"#a0522d\",\n  silver: \"#c0c0c0\",\n  skyblue: \"#87ceeb\",\n  slateblue: \"#6a5acd\",\n  slategray: \"#708090\",\n  snow: \"#fffafa\",\n  springgreen: \"#00ff7f\",\n  steelblue: \"#4682b4\",\n  tan: \"#d2b48c\",\n  teal: \"#008080\",\n  thistle: \"#d8bfd8\",\n  tomato: \"#ff6347\",\n  turquoise: \"#40e0d0\",\n  violet: \"#ee82ee\",\n  wheat: \"#f5deb3\",\n  white: \"#ffffff\",\n  whitesmoke: \"#f5f5f5\",\n  yellow: \"#ffff00\",\n  yellowgreen: \"#9acd32\",\n};\n","const OBJECTS = {\n  Image: {\n    type: 'Image',\n    settings: {\n      strokeWidth: {\n        title: 'Width of region borders',\n        type: Number,\n        param: ($obj, value) => $obj.$controls.forEach($control => $control.setAttribute('strokeWidth', value)),\n        value: $obj => $obj.$controls[0]?.getAttribute('strokeWidth') ?? 1,\n      },\n      zoom: {\n        title: 'Allow image zoom (ctrl+wheel)',\n        type: Boolean,\n        param: 'zoom',\n      },\n      zoomControl: {\n        title: 'Show controls to zoom in and out',\n        type: Boolean,\n        param: 'zoomControl',\n      },\n      rotateControl: {\n        title: 'Show controls to rotate image',\n        type: Boolean,\n        param: 'rotateControl',\n      },\n    },\n  },\n  Text: {\n    type: 'Text',\n    settings: {\n      granularity: {\n        title: 'Select text by words',\n        type: Boolean,\n        param: ($obj, value) => value ? $obj.setAttribute('granularity', 'word') : $obj.removeAttribute('granularity'),\n        value: $obj => $obj.getAttribute('granularity') === 'word',\n        when: $obj => $obj.$controls.filter(c => c.tagName.endsWith('Labels')).length > 0,\n      },\n    },\n  },\n  HyperText: {\n    type: 'HyperText',\n  },\n  Audio: {\n    type: 'Audio',\n  },\n  AudioPlus: {\n    type: 'AudioPlus',\n  },\n  TimeSeries: {\n    type: 'TimeSeries',\n  },\n  Paragraphs: {\n    type: 'Paragraphs',\n  },\n  Table: {\n    type: 'Table',\n  },\n  Video: {\n    type: 'Video',\n  },\n};\n\nconst Labels = {\n  type: 'Labels',\n  settings: {\n    placeLabelsLeft: {\n      title: 'Display labels:',\n      type: [\"bottom\", \"left\", \"right\", \"top\"],\n      control: true,\n      when: $tag => $tag.$object.tagName !== \"Video\",\n      param: ($control, value) => {\n        let $container = $control.parentNode;\n        let $labels = $control;\n\n        if ($container.firstChild?.tagName?.toUpperCase() === \"FILTER\") {\n          $labels = $container;\n          $container = $labels.parentNode;\n        }\n        const $obj = $control.$object;\n        const inline = [\"top\", \"bottom\"].includes(value);\n        const reversed = [\"top\", \"left\"].includes(value);\n        const direction = (inline ? \"column\" : \"row\") + (reversed ? \"-reverse\" : \"\");\n        const alreadyApplied = $container.getAttribute(\"style\")?.includes(\"flex\");\n\n        if (!alreadyApplied) {\n          $container = $obj.ownerDocument.createElement('View');\n          $labels.parentNode.insertBefore($container, $obj);\n          $container.appendChild($obj);\n          $container.appendChild($labels);\n        }\n        $control.setAttribute('showInline', JSON.stringify(inline));\n        $container.setAttribute('style', 'display:flex;align-items:start;gap:8px;flex-direction:' + direction);\n      },\n      value: $control => {\n        let $container = $control.parentNode;\n\n        if ($container.firstChild?.tagName?.toUpperCase() === \"FILTER\") {\n          $container = $container.parentNode;\n        }\n        const style = $container.getAttribute(\"style\");\n        const direction = style?.match(/direction:(row|column)(-reverse)?/);\n\n        if (!direction) {\n          const position = $control.compareDocumentPosition($control.$object);\n\n          return position & Node.DOCUMENT_POSITION_FOLLOWING ? \"top\" : \"bottom\";\n        }\n        if (direction[1] === \"column\") return direction[2] ? \"top\" : \"bottom\";\n        else return direction[2] ? \"left\" : \"right\";\n      },\n    },\n    filter: {\n      title: 'Add filter for long list of labels',\n      type: Boolean,\n      control: true,\n      param: ($obj, value) => {\n        if (value) {\n          const $filter = $obj.ownerDocument.createElement('Filter');\n          const $container = $obj.ownerDocument.createElement('View');\n\n          $filter.setAttribute('toName', $obj.getAttribute('name'));\n          $filter.setAttribute('minlength', 0);\n          $filter.setAttribute('name', 'filter'); // @todo should be unique\n          $obj.parentNode.insertBefore($container, $obj);\n          $container.appendChild($filter);\n          $container.appendChild($obj);\n        } else {\n          const $filter = $obj.previousElementSibling;\n\n          if ($filter.tagName.toUpperCase() === \"FILTER\") {\n            const $container = $obj.parentNode;\n\n            $container.parentNode.insertBefore($obj, $container);\n            $container.parentNode.removeChild($container);\n          }\n        }\n      },\n      value: $control => $control.previousElementSibling?.tagName.toUpperCase() === \"FILTER\",\n    },\n  },\n};\n\nconst CONTROLS = {\n  Labels,\n  RectangleLabels: Labels,\n};\n\nconst TAGS = { ...OBJECTS, ...CONTROLS };\n\nexport { OBJECTS, CONTROLS, TAGS };\n","import { CONTROLS, OBJECTS } from \"./tags\";\nimport { Palette } from \"../../../utils/colors\";\n\nexport const EMPTY_CONFIG = \"<View></View>\";\nexport const DEFAULT_COLUMN = \"$undefined$\";\nexport const isEmptyConfig = config => [\"\", EMPTY_CONFIG].includes(config.replace(/\\s+/g, ''));\n\nexport class Template {\n  objects = []\n  controls = []\n  details = false\n  palette = Palette()\n\n  constructor(tpl) {\n    this.tpl = tpl;\n    this.config = tpl.config;\n\n    const parser = new DOMParser();\n    this.$root = parser.parseFromString(this.config, 'application/xml');\n\n    this.serializer = new XMLSerializer();\n\n    this.initRoot();\n  }\n\n  flatten(el) {\n    const tags = [];\n    for (let tag of el.children) {\n      tags.push(tag);\n      if (tag.children.length) tags.push(...this.flatten(tag));\n    }\n    return tags;\n  }\n\n  onConfigUpdate() {\n    // should be overwritten\n  }\n\n  render() {\n    const config = this.serializer.serializeToString(this.$root);\n    this.onConfigUpdate(config);\n  }\n\n  initRoot() {\n    const tags = this.flatten(this.$root);\n    this.objects = tags.filter($tag => $tag.tagName in OBJECTS && $tag.getAttribute(\"value\"));\n    const names = this.objects.map($tag => $tag.getAttribute('name'));\n    this.controls = tags.filter($tag => names.includes($tag.getAttribute('toName')));\n\n    for (let $object of this.objects) {\n      const object = OBJECTS[$object.tagName];\n      $object.$controls = this.controls.filter($tag => $tag.getAttribute('toName') === $object.getAttribute('name'));\n      $object.$controls.forEach($control => $control.$object = $object);\n\n      for (let item in object.settings) {\n        object.settings[item].object = $object;\n      }\n\n      let settings = { ...object.settings };\n      $object.$controls.forEach($control => {\n        let control = CONTROLS[$control.tagName];\n\n        if (control) {\n          for (let item in control.settings) {\n            control.settings[item].control = $control;\n            control.settings[item].object = $object;\n          }\n          \n          settings = { ...settings, ...control.settings };\n        }\n      });\n      this.settings = settings;\n    }\n  }\n\n  // fix `value` of object tags according to current columns from data\n  fixColumns(columns) {\n    if (columns.length === 1 && columns[0] === DEFAULT_COLUMN) return;\n    const existing = this.objects.map(obj => obj.getAttribute(\"value\").replace(/^\\$/, ''));\n    let free = columns.filter(c => !existing.includes(c));\n    for (let obj of this.objects) {\n      if (!columns.includes(obj.getAttribute(\"value\").replace(/^\\$/, ''))) {\n        obj.setAttribute(\"value\", \"$\" + (free.shift() ?? columns[0]));\n      }\n    }\n\n    this.render();\n  }\n\n  addLabels(control, labels) {\n    if (!labels) return;\n    if (!Array.isArray(labels)) {\n      labels = labels.split(\"\\n\").map(s => s.trim()).filter(Boolean);\n    }\n    if (!labels.length) return;\n\n    const existing = [...control.children].map(ch => ch.getAttribute(\"value\"));\n    const isChoices = control.tagName === \"Choices\";\n\n    labels.forEach(label => {\n      if (existing.includes(label)) return;\n      existing.push(label);\n      const $label = this.$root.createElement(isChoices ? \"Choice\" : \"Label\");\n      $label.setAttribute(\"value\", label);\n      if (!isChoices) $label.setAttribute(\"background\", this.palette.next().value);\n      control.appendChild($label);\n    });\n\n    this.render();\n  }\n\n  removeLabel($label) {\n    $label.parentNode.removeChild($label);\n    this.render();\n  }\n\n  changeLabel($label, attrs) {\n    for (let attr of Object.keys(attrs)) {\n      $label.setAttribute(attr, attrs[attr]);\n    }\n    this.render();\n  }\n}\n","import { useEffect, useRef } from 'react';\nimport { Spinner } from '../../../components';\nimport { useLibrary } from '../../../providers/LibraryProvider';\nimport { cn } from '../../../utils/bem';\nimport './Config.styl';\nimport { EMPTY_CONFIG } from './Template';\n\nconst configClass = cn(\"configure\");\n\nexport const Preview = ({ config, data, error }) => {\n  const LabelStudio = useLibrary('lsf');\n  const lsfRoot = useRef();\n  const lsf = useRef();\n\n  useEffect(() => {\n    if (!LabelStudio) return;\n    if (!lsfRoot.current) return;\n    if (error) return;\n    if (!data) return;\n\n    const LSF = window.LabelStudio;\n    try {\n      lsf.current?.destroy();\n      lsf.current = new LSF(lsfRoot.current, {\n        config: config || EMPTY_CONFIG, // empty string causes error in LSF\n        interfaces: [\n          \"side-column\",\n        ],\n        task: {\n          annotations: [],\n          predictions: [],\n          id: 1,\n          data,\n        },\n        onLabelStudioLoad: function(LS) {\n          LS.settings.bottomSidePanel = true;\n          var c = LS.annotationStore.addAnnotation({\n            userGenerate: true,\n          });\n          LS.annotationStore.selectAnnotation(c.id);\n        },\n      });\n    } catch(e) {\n      console.error(e);\n    }\n  }, [config, data, LabelStudio, lsfRoot]);\n\n  return (\n    <div className={configClass.elem(\"preview\")}>\n      <h3>UI Preview</h3>\n      {error && <div className={configClass.elem(\"preview-error\")}>\n        <h2>{error.detail} {error.id}</h2>\n        {error.validation_errors?.non_field_errors?.map?.(err => <p key={err}>{err}</p>)}\n        {error.validation_errors?.label_config?.map?.(err => <p key={err}>{err}</p>)}\n        {error.validation_errors?.map?.(err => <p key={err}>{err}</p>)}\n      </div>}\n      {!data && <Spinner style={{ width: \"100%\", height: \"50vh\" }} />}\n      <div id=\"label-studio\" ref={lsfRoot}></div>\n      {/* <iframe srcDoc={page} frameBorder=\"0\"></iframe> */}\n    </div>\n  );\n};\n","import 'codemirror/lib/codemirror.css';\nimport 'codemirror/mode/xml/xml';\nimport React from 'react';\nimport { Spinner } from '../../../components';\nimport { useAPI } from '../../../providers/ApiProvider';\nimport { cn } from '../../../utils/bem';\nimport './Config.styl';\nimport { IconInfo } from '../../../assets/icons';\n\n\nconst listClass = cn(\"templates-list\");\n\nconst Arrow = () => (\n  <svg width=\"8\" height=\"12\" viewBox=\"0 0 8 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path opacity=\"0.9\" d=\"M2 10L6 6L2 2\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"square\"/>\n  </svg>\n);\n\nconst TemplatesInGroup = ({ templates, group, onSelectRecipe }) => {\n  const picked = templates\n    .filter(recipe => recipe.group === group)\n    // templates without `order` go to the end of the list\n    .sort((a, b) => (a.order ?? Infinity) - (b.order ?? Infinity));\n\n  return (\n    <ul>\n      {picked.map(recipe => (\n        <li\n          key={recipe.title}\n          onClick={() => onSelectRecipe(recipe)}\n          className={listClass.elem(\"template\")}\n        >\n          <img src={recipe.image} />\n          <h3>{recipe.title}</h3>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport const TemplatesList = ({ selectedGroup, selectedRecipe, onCustomTemplate, onSelectGroup, onSelectRecipe }) => {\n  const [groups, setGroups] = React.useState([]);\n  const [templates, setTemplates] = React.useState();\n  const api = useAPI();\n\n  React.useEffect(async () => {\n    const res = await api.callApi('configTemplates');\n\n    if (!res) return;\n    const { templates, groups } = res;\n\n    setTemplates(templates);\n    setGroups(groups);\n  }, []);\n\n  const selected = selectedGroup || groups[0];\n\n  return (\n    <div className={listClass}>\n      <aside className={listClass.elem(\"sidebar\")}>\n        <ul>\n          {groups.map(group => (\n            <li\n              key={group}\n              onClick={() => onSelectGroup(group)}\n              className={listClass.elem(\"group\").mod({\n                active: selected === group,\n                selected: selectedRecipe?.group === group,\n              })}\n            >\n              {group}\n              <Arrow />\n            </li>\n          ))}\n        </ul>\n        <button type=\"button\" onClick={onCustomTemplate} className={listClass.elem(\"custom-template\")}>Custom template</button>\n      </aside>\n      <main>\n        {!templates && <Spinner style={{ width: \"100%\", height: 200 }} />}\n        <TemplatesInGroup templates={templates || []} group={selected} onSelectRecipe={onSelectRecipe} />\n      </main>\n      <footer>\n        {/* <IconInfo className={listClass.elem(\"info-icon\")} width=\"20\" height=\"20\" />\n        See the documentation to <a href=\"https://labelstud.io/guide\" target=\"_blank\">contribute a template</a>. */}\n      </footer>\n    </div>\n  );\n};\n","import 'codemirror/lib/codemirror.css';\nimport 'codemirror/mode/xml/xml';\nimport React from 'react';\nimport { UnControlled as CodeMirror } from 'react-codemirror2';\nimport { Button, ToggleItems } from '../../../components';\nimport { Form } from '../../../components/Form';\nimport { Oneof } from '../../../components/Oneof/Oneof';\nimport { cn } from '../../../utils/bem';\nimport { Palette } from '../../../utils/colors';\nimport { colorNames } from './colors';\nimport './Config.styl';\nimport { Preview } from './Preview';\nimport { DEFAULT_COLUMN, EMPTY_CONFIG, isEmptyConfig, Template } from './Template';\nimport { TemplatesList } from './TemplatesList';\nimport { useAPI } from '../../../providers/ApiProvider';\n\n// don't do this, kids\nconst formatXML = (xml) => {\n  // don't use formatting if the config has new lines\n  if (xml.indexOf(\"\\n\") >= 0) {\n    return xml;\n  }\n\n  let depth = 0;\n\n  try {\n    return xml.replace(/<(\\/)?.*?(\\/)?>[\\s\\n]*/g, (tag, close1, close2) => {\n      if (!close1) {\n        const res = \"  \".repeat(depth) + tag.trim() + \"\\n\";\n\n        if (!close2) depth++;\n        return res;\n      } else {\n        depth--;\n        return \"  \".repeat(depth) + tag.trim() + \"\\n\";\n      }\n    });\n  } catch (e) {\n    return xml;\n  }\n};\n\nconst wizardClass = cn(\"wizard\");\nconst configClass = cn(\"configure\");\n\nconst EmptyConfigPlaceholder = () => (\n  <div className={configClass.elem(\"empty-config\")}>\n    <p>Your labeling configuration is empty. It is required to label your data.</p>\n  </div>\n);\n\nconst Label = ({ label, template, color }) => {\n  const value = label.getAttribute(\"value\");\n\n  return (\n    <li className={configClass.elem(\"label\").mod({ choice: label.tagName === \"Choice\" })}>\n      <label style={{ background: color }}>\n        <input\n          type=\"color\"\n          className={configClass.elem(\"label-color\")}\n          value={colorNames[color] || color}\n          onChange={e => template.changeLabel(label, { background: e.target.value })}\n        />\n      </label>\n      <span>{value}</span>\n      <button type=\"button\" className={configClass.elem(\"delete-label\")} onClick={() => template.removeLabel(label)}>\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" stroke=\"red\" strokeWidth=\"2\" strokeLinecap=\"square\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M2 12L12 2\"/>\n          <path d=\"M12 12L2 2\"/>\n        </svg>\n      </button>\n    </li>\n  );\n};\n\nconst ConfigureControl = ({ control, template }) => {\n  const refLabels = React.useRef();\n  const tagname = control.tagName;\n\n  if (tagname !== \"Choices\" && !tagname.endsWith(\"Labels\")) return null;\n  const palette = Palette();\n\n  const onAddLabels = () => {\n    if (!refLabels.current) return;\n    template.addLabels(control, refLabels.current.value);\n    refLabels.current.value = \"\";\n  };\n  const onKeyPress = e => {\n    if (e.key === \"Enter\" && e.ctrlKey) {\n      e.preventDefault();\n      onAddLabels();\n    }\n  };\n\n  return (\n    <div className={configClass.elem(\"labels\")}>\n      <form className={configClass.elem(\"add-labels\")} action=\"\">\n        <h4>{tagname === \"Choices\" ? \"Add choices\" : \"Add label names\"}</h4>\n        <textarea name=\"labels\" id=\"\" cols=\"30\" rows=\"5\" ref={refLabels} onKeyPress={onKeyPress}></textarea>\n        <input type=\"button\" value=\"Add\" onClick={onAddLabels} />\n      </form>\n      <div className={configClass.elem(\"current-labels\")}>\n        <h3>{tagname === \"Choices\" ? \"Choices\" : \"Labels\"} ({control.children.length})</h3>\n        <ul>\n          {Array.from(control.children).map(label => (\n            <Label\n              label={label}\n              template={template}\n              key={label.getAttribute(\"value\")}\n              color={label.getAttribute(\"background\") || palette.next().value}\n            />\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst ConfigureSettings = ({ template }) => {\n  const { settings } = template;\n\n  if (!settings) return null;\n  const keys = Object.keys(settings);\n\n  const items = keys.map(key => {\n    const options = settings[key];\n    const type = Array.isArray(options.type) ? Array : options.type;\n    const $object = options.object;\n    const $tag = options.control ? options.control : $object;\n\n    if (!$tag) return null;\n    if (options.when && !options.when($tag)) return;\n    let value = false;\n\n    if (options.value) value = options.value($tag);\n    else if (typeof options.param === \"string\") value = $tag.getAttribute(options.param);\n    if (value === \"true\") value = true;\n    if (value === \"false\") value = false;\n    let onChange;\n    let size;\n\n    switch (type) {\n      case Array:\n        onChange = e => {\n          if (typeof options.param === \"function\") {\n            options.param($tag, e.target.value);\n          } else {\n            $object.setAttribute(options.param, e.target.value);\n          }\n          template.render();\n        };\n        return (\n          <li key={key}><label>{options.title} <select value={value} onChange={onChange}>{options.type.map(option => (\n            <option key={option} value={option}>{option}</option>\n          ))}</select></label></li>\n        );\n      case Boolean:\n        onChange = e => {\n          if (typeof options.param === \"function\") {\n            options.param($tag, e.target.checked);\n          } else {\n            $object.setAttribute(options.param, e.target.checked ? 'true' : 'false');\n          }\n          template.render();\n        };\n        return (\n          <li key={key}><label><input type=\"checkbox\" checked={value} onChange={onChange} /> {options.title}</label></li>\n        );\n      case String:\n      case Number:\n        size = options.type === Number ? 5 : undefined;\n        onChange = e => {\n          if (typeof options.param === \"function\") {\n            options.param($tag, e.target.value);\n          } else {\n            $object.setAttribute(options.param, e.target.value);\n          }\n          template.render();\n        };\n        return (\n          <li key={key}><label>{options.title} <input type=\"text\" onInput={onChange} value={value} size={size} /></label></li>\n        );\n    }\n  });\n\n  // check for active settings\n  if (!items.filter(Boolean).length) return null;\n\n  return (\n    <ul className={configClass.elem(\"settings\")}>\n      <li>\n        <h4>Configure settings</h4>\n        <ul className={configClass.elem(\"object-settings\")}>\n          {items}\n        </ul>\n      </li>\n    </ul>\n  );\n};\n\nconst ConfigureColumns = ({ columns, template }) => {\n  const updateValue = obj => e => {\n    const attrName = e.target.value.replace(/^\\$/, \"\");\n\n    obj.setAttribute(\"value\", \"$\" + attrName);\n    template.render();\n  };\n\n  if (!template.objects.length) return null;\n\n  return (\n    <div className={configClass.elem(\"object\")}>\n      <h4>Configure data</h4>\n      {template.objects.length > 1 && columns?.length > 0 && columns.length < template.objects.length && (\n        <p className={configClass.elem(\"object-error\")}>This template requires more data then you have for now</p>\n      )}\n      {columns?.length === 0 && (\n        <p className={configClass.elem(\"object-error\")}>\n          To select which field(s) to label you need to upload the data. Alternatively, you can provide it using Code mode.\n        </p>\n      )}\n      {template.objects.map(obj => (\n        <p key={obj.getAttribute(\"name\")}>\n          Use {obj.tagName.toLowerCase()}\n          {template.objects > 1 && ` for ${obj.getAttribute(\"name\")}`}\n          {\" from \"}\n          {columns?.length > 0 && columns[0] !== DEFAULT_COLUMN && \"field \"}\n          <select onChange={updateValue(obj)} value={obj.getAttribute(\"value\")?.replace(/^\\$/, \"\")}>\n            {columns?.map(column => (\n              <option key={column} value={column}>\n                {column === DEFAULT_COLUMN ? \"<imported file>\" : `$${column}`}\n              </option>\n            ))}\n            {!columns?.length && (\n              <option value={obj.getAttribute(\"value\")?.replace(/^\\$/, \"\")}>{\"<imported file>\"}</option>\n            )}\n          </select>\n        </p>\n      ))}\n    </div>\n  );\n};\n\nconst Configurator = ({ columns, config, project, template, setTemplate, onBrowse, onSaveClick, onValidate, disableSaveButton }) => {\n  const [configure, setConfigure] = React.useState(isEmptyConfig(config) ? \"code\" : \"visual\");\n  const [visualLoaded, loadVisual] = React.useState(configure === \"visual\");\n  const [waiting, setWaiting] = React.useState(false);\n  const [error, setError] = React.useState();\n  const [configToCheck, setConfigToCheck] = React.useState();\n  const [data, setData] = React.useState();\n  const debounceTimer = React.useRef();\n  const api = useAPI();\n\n  React.useEffect(() => {\n    // config may change during init, so wait for that, but for a very short time only\n    debounceTimer.current = window.setTimeout(() => setConfigToCheck(config), configToCheck ? 500 : 30);\n    return () => window.clearTimeout(debounceTimer.current);\n  }, [config]);\n\n  React.useEffect(async () => {\n    if (!configToCheck) return;\n\n    const validation = await api.callApi(`validateConfig`, {\n      params: { pk: project.id },\n      body: { label_config: configToCheck },\n      errorFilter: () => true,\n    });\n\n    if (validation?.error) {\n      setError(validation.response);\n      return;\n    }\n\n    setError(null);\n    onValidate?.(validation);\n\n    const sample = await api.callApi(\"createSampleTask\", {\n      params: { pk: project.id },\n      body: { label_config: configToCheck },\n      errorFilter: () => true,\n    });\n\n    if (sample && !sample.error) {\n      setData(sample.sample_task);\n    } else {\n      // @todo validation can be done in this place,\n      // @todo but for now it's extremely slow in /sample-task endpoint\n      setError(sample?.response);\n    }\n  }, [configToCheck]);\n\n  React.useEffect(() => { setError(null); }, [template, config]);\n\n  // code should be reloaded on every render because of uncontrolled codemirror\n  // visuals should be always rendered after first render\n  // so load it on the first access, then just show/hide\n  const onSelect = value => {\n    setConfigure(value);\n    if (value === \"visual\") loadVisual(true);\n  };\n\n  const onSave = async () => {\n    setError(null);\n    setWaiting(true);\n    const res = await onSaveClick();\n\n    setWaiting(false);\n    if (res !== true) {\n      setError(res);\n    }\n  };\n\n  const extra = (\n    <p className={configClass.elem('tags-link')}>\n      Configure the labeling interface with tags.\n      <br/>\n      <a href=\"https://labelstud.io/tags/\" target=\"_blank\">See all available tags</a>\n      .\n    </p>\n  );\n\n  return (\n    <div className={configClass}>\n      <div className={configClass.elem(\"container\")}>\n        <header>\n          <button onClick={onBrowse}>Browse Templates</button>\n          <ToggleItems items={{ code: \"Code\", visual: \"Visual\" }} active={configure} onSelect={onSelect} />\n        </header>\n        <div className={configClass.elem('editor')}>\n          {configure === \"code\" && (\n            <div className={configClass.elem(\"code\")} style={{ display: configure === \"code\" ? undefined : \"none\" }}>\n              <CodeMirror\n                name=\"code\"\n                id=\"edit_code\"\n                value={formatXML(config)}\n                detach\n                options={{ mode: \"xml\", theme: \"default\", lineNumbers: true }}\n                onChange={(editor, data, value) => setTemplate(value)}\n              />\n            </div>\n          )}\n          {visualLoaded && (\n            <div className={configClass.elem(\"visual\")} style={{ display: configure === \"visual\" ? undefined : \"none\" }}>\n              {isEmptyConfig(config) && <EmptyConfigPlaceholder />}\n              <ConfigureColumns columns={columns} project={project} template={template} />\n              {template.controls.map(control => <ConfigureControl control={control} template={template} key={control.getAttribute(\"name\")} />)}\n              <ConfigureSettings template={template} />\n            </div>\n          )}\n        </div>\n        {disableSaveButton !== true && onSaveClick && (\n          <Form.Actions size=\"small\" extra={configure === \"code\" && extra} valid>\n            <Button look=\"primary\" size=\"compact\" style={{ width: 120 }} onClick={onSave} waiting={waiting}>\n              Save\n            </Button>\n          </Form.Actions>\n        )}\n      </div>\n      <Preview config={config} data={data} error={error} />\n    </div>\n  );\n};\n\nexport const ConfigPage = ({ config: initialConfig = \"\", columns: externalColumns, project, onUpdate, onSaveClick, onValidate, disableSaveButton, show = true }) => {\n  const [config, _setConfig] = React.useState(\"\");\n  const [mode, setMode] = React.useState(\"list\"); // view | list\n  const [selectedGroup, setSelectedGroup] = React.useState(null);\n  const [selectedRecipe, setSelectedRecipe] = React.useState(null);\n  const [template, setCurrentTemplate] = React.useState(null);\n  const api = useAPI();\n\n  const setConfig = React.useCallback(config => {\n    _setConfig(config);\n    onUpdate(config);\n  }, [_setConfig, onUpdate]);\n\n  const setTemplate = React.useCallback(config => {\n    const tpl = new Template({ config });\n\n    tpl.onConfigUpdate = setConfig;\n    setConfig(config);\n    setCurrentTemplate(tpl);\n  }, [setConfig, setCurrentTemplate]);\n\n  const [columns, setColumns] = React.useState();\n\n  React.useEffect(() => { if (externalColumns?.length) setColumns(externalColumns); }, [externalColumns]);\n\n  React.useEffect(async () => {\n    if (!project || columns) return;\n    const res = await api.callApi(\"dataSummary\", {\n      params: { pk: project.id },\n      // 404 is ok, and errors here don't matter\n      errorFilter: () => true,\n    });\n\n    if (res?.common_data_columns) {\n      setColumns(res.common_data_columns);\n    }\n  }, [columns, project]);\n\n  React.useEffect(() => {\n    if (columns?.length && template) {\n      template.fixColumns(columns);\n    }\n  }, [columns, template]);\n\n  const onSelectRecipe = React.useCallback(recipe => {\n    if (!recipe) {\n      setSelectedRecipe(null);\n      setMode(\"list\");\n      return;\n    }\n    setTemplate(recipe.config);\n    setSelectedRecipe(recipe);\n    setMode(\"view\");\n  });\n\n  const onCustomTemplate = React.useCallback(() => {\n    setTemplate(EMPTY_CONFIG);\n    setMode(\"view\");\n  });\n\n  React.useEffect(() => {\n    if (initialConfig) {\n      setTemplate(initialConfig);\n      setMode(\"view\");\n    }\n  }, []);\n\n  if (!show) return null;\n\n  return (\n    <div className={wizardClass} data-mode=\"list\" id=\"config-wizard\">\n      <Oneof value={mode}>\n        <TemplatesList\n          case=\"list\"\n          selectedGroup={selectedGroup}\n          selectedRecipe={selectedRecipe}\n          onSelectGroup={setSelectedGroup}\n          onSelectRecipe={onSelectRecipe}\n          onCustomTemplate={onCustomTemplate}\n        />\n        <Configurator\n          case=\"view\"\n          columns={columns}\n          config={config}\n          project={project}\n          selectedRecipe={selectedRecipe}\n          template={template}\n          setTemplate={setTemplate}\n          onBrowse={setMode.bind(null, \"list\")}\n          onValidate={onValidate}\n          disableSaveButton={disableSaveButton}\n          onSaveClick={onSaveClick}\n        />\n      </Oneof>\n    </div>\n  );\n};\n","import { useCallback, useEffect, useReducer, useRef, useState } from 'react';\nimport { Modal } from '../../../components/Modal/Modal';\nimport { cn } from '../../../utils/bem';\nimport { unique } from '../../../utils/helpers';\nimport \"./Import.styl\";\nimport { IconError, IconInfo, IconUpload } from '../../../assets/icons';\nimport { useAPI } from '../../../providers/ApiProvider';\n\nconst importClass = cn(\"upload_page\");\nconst dropzoneClass = cn(\"dropzone\");\n\nfunction flatten(nested) {\n  return [].concat(...nested);\n}\n\nfunction traverseFileTree(item, path) {\n  return new Promise((resolve) => {\n    path = path || \"\";\n    if (item.isFile) {\n      // Avoid hidden files\n      if (item.name[0] === \".\") return resolve([]);\n\n      resolve([item]);\n    } else if (item.isDirectory) {\n      // Get folder contents\n      const dirReader = item.createReader();\n      const dirPath = path + item.name + \"/\";\n\n      dirReader.readEntries(function(entries) {\n        Promise.all(entries.map(entry => traverseFileTree(entry, dirPath)))\n          .then(flatten)\n          .then(resolve);\n      });\n    }\n  });\n}\n\nfunction getFiles(files) {\n  // @todo this can be not a files, but text or any other draggable stuff\n  return new Promise(resolve => {\n    if (!files.length) return resolve([]);\n    if (!files[0].webkitGetAsEntry) return resolve(files);\n\n    // Use DataTransferItemList interface to access the file(s)\n    const entries = Array.from(files).map(file => file.webkitGetAsEntry());\n\n    Promise.all(entries.map(traverseFileTree))\n      .then(flatten)\n      .then(fileEntries => fileEntries.map(fileEntry => new Promise(res => fileEntry.file(res))))\n      .then(filePromises => Promise.all(filePromises))\n      .then(resolve);\n  });\n}\n\nconst Footer = () => {\n  return (\n    <Modal.Footer>\n      {''}\n    </Modal.Footer>\n  );\n};\n\nconst Upload = ({ children, sendFiles }) => {\n  const [hovered, setHovered] = useState(false);\n  const onHover = (e) => {\n    e.preventDefault();\n    setHovered(true);\n  };\n  const onLeave = setHovered.bind(null, false);\n  const dropzoneRef = useRef();\n\n  const onDrop = useCallback(e => {\n    e.preventDefault();\n    onLeave();\n    getFiles(e.dataTransfer.items).then(files => sendFiles(files));\n  }, [onLeave, sendFiles]);\n\n  return (\n    <div id=\"holder\" className={dropzoneClass.mod({ hovered })} ref={dropzoneRef}\n      onDragStart={onHover}\n      onDragOver={onHover}\n      onDragLeave={onLeave}\n      onDrop={onDrop}\n      // {...getRootProps}\n    >\n      {children}\n    </div>\n  );\n};\n\nconst ErrorMessage = ({ error }) => {\n  if (!error) return null;\n  let extra = error.validation_errors ?? error.extra;\n  // support all possible responses\n\n  if (extra && typeof extra === \"object\" && !Array.isArray(extra)) {\n    extra = extra.non_field_errors ?? Object.values(extra);\n  }\n  if (Array.isArray(extra)) extra = extra.join(\"; \");\n\n  return (\n    <div className={importClass.elem(\"error\")}>\n      <IconError style={{ marginRight: 8 }} />\n      {error.id && `[${error.id}] `}\n      {error.detail || error.message}\n      {extra && ` (${extra})`}\n    </div>\n  );\n};\n\nexport const ImportPage = ({\n  project,\n  show = true,\n  onWaiting,\n  onFileListUpdate,\n  highlightCsvHandling,\n  dontCommitToProject = false,\n  csvHandling,\n  setCsvHandling,\n  addColumns,\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState();\n  const [ids, _setIds] = useState([]);\n  const api = useAPI();\n\n  const processFiles = (state, action) => {\n    if (action.sending) {\n      return { ...state, uploading: [...action.sending, ...state.uploading] };\n    }\n    if (action.sent) {\n      return { ...state, uploading: state.uploading.filter(f => !action.sent.includes(f)) };\n    }\n    if (action.uploaded) {\n      return { ...state, uploaded: unique([...state.uploaded, ...action.uploaded], (a, b) => a.id === b.id) };\n    }\n    // if (action.ids) {\n    //   const ids = unique([...state.ids, ...action.ids]);\n    //   onFileListUpdate?.(ids);\n    //   return {...state, ids };\n    // }\n    return state;\n  };\n  const [files, dispatch] = useReducer(processFiles, { uploaded: [], uploading: [] });\n  const showList = Boolean(files.uploaded?.length || files.uploading?.length);\n\n  const setIds = (ids) => {\n    _setIds(ids);\n    onFileListUpdate?.(ids);\n  };\n\n  const loadFilesList = useCallback(async (file_upload_ids) => {\n    const query = {};\n\n    if (file_upload_ids) {\n      // should be stringified array \"[1,2]\"\n      query.ids = JSON.stringify(file_upload_ids);\n    }\n    const files = await api.callApi(\"fileUploads\", {\n      params: { pk: project.id, ...query },\n    });\n\n    dispatch({ uploaded: files ?? [] });\n    if (files?.length) {\n      setIds(unique([...ids, ...files.map(f => f.id)]));\n    }\n    return files;\n  }, [project]);\n\n  const onStart = () => {\n    setLoading(true);\n    setError(null);\n  };\n  const onError = err => {\n    console.error(err);\n    // @todo workaround for error about input size in a wrong html format\n    if (typeof err === \"string\" && err.includes(\"RequestDataTooBig\")) {\n      const message = \"Imported file is too big\";\n      const extra = err.match(/\"exception_value\">(.*)<\\/pre>/)?.[1];\n\n      err = { message, extra };\n    }\n    setError(err);\n    setLoading(false);\n    onWaiting?.(false);\n  };\n  const onFinish = useCallback(res => {\n    const { could_be_tasks_list, data_columns, file_upload_ids } = res;\n    const file_ids = [...ids, ...file_upload_ids];\n\n    setIds(file_ids);\n    if (could_be_tasks_list && !csvHandling) setCsvHandling(\"choose\");\n    setLoading(true);\n    onWaiting?.(false);\n    addColumns(data_columns);\n    return loadFilesList(file_ids).then(() => setLoading(false));\n  }, [addColumns, loadFilesList, setIds, ids, setLoading]);\n\n  const importFiles = useCallback(async (files, body) => {\n    dispatch({ sending: files });\n\n    const query = dontCommitToProject ? { commit_to_project: \"false\" } : {};\n    // @todo use json for dataset uploads by URL\n    const contentType = body instanceof FormData\n      ? 'multipart/form-data' // usual multipart for usual files\n      : 'application/x-www-form-urlencoded'; // chad urlencoded for URL uploads\n    const res = await api.callApi(\"importFiles\", {\n      params: { pk: project.id, ...query },\n      headers: { 'Content-Type': contentType },\n      body,\n      errorFilter: () => true,\n    });\n\n    if (res && !res.error) onFinish?.(res);\n    else onError?.(res?.response);\n\n    dispatch({ sent: files });\n  }, [project, onFinish]);\n\n  const sendFiles = useCallback(files => {\n    onStart();\n    onWaiting?.(true);\n    files = [...files]; // they can be array-like object\n    const fd = new FormData;\n\n    for (let f of files) fd.append(f.name, f);\n    return importFiles(files, fd);\n  }, [importFiles, onStart]);\n\n  const onUpload = useCallback(e => {\n    sendFiles(e.target.files);\n    e.target.value = \"\";\n  }, [sendFiles]);\n\n  const onLoadURL = useCallback(e => {\n    e.preventDefault();\n    onStart();\n    const url = urlRef.current?.value;\n\n    if (!url) {\n      setLoading(false);\n      return;\n    }\n    urlRef.current.value = \"\";\n    onWaiting?.(true);\n    const body = new URLSearchParams({ url });\n\n    importFiles([{ name: url }], body);\n  }, [importFiles]);\n\n  useEffect(() => {\n    if (project?.id !== undefined) {\n      loadFilesList().then(files => {\n        if (csvHandling) return;\n        // empirical guess on start if we have some possible tasks list/time series problem\n        if (Array.isArray(files) && files.some(({ file }) => /\\.[ct]sv$/.test(file))) {\n          setCsvHandling(\"choose\");\n        }\n      });\n    }\n  }, [project, loadFilesList]);\n\n  const urlRef = useRef();\n\n  if (!project) return null;\n  if (!show) return null;\n\n  const csvProps = {\n    name: \"csv\",\n    type: \"radio\",\n    onChange: e => setCsvHandling(e.target.value),\n  };\n\n  return (\n    <div className={importClass}>\n      {highlightCsvHandling && <div className={importClass.elem(\"csv-splash\")}/>}\n      <input id=\"file-input\" type=\"file\" name=\"file\" multiple onChange={onUpload} style={{ display: \"none\" }}/>\n\n      <header>\n        <form className={importClass.elem(\"url-form\") + \" inline\"} method=\"POST\" onSubmit={onLoadURL}>\n          <input placeholder=\"Dataset URL\" name=\"url\" ref={urlRef} />\n          <button type=\"submit\">Add URL</button>\n        </form>\n        <span>or</span>\n        <button onClick={() => document.getElementById('file-input').click()} className={importClass.elem(\"upload-button\")}>\n          <IconUpload width=\"16\" height=\"16\" className={importClass.elem(\"upload-icon\")} />\n          Upload {files.uploaded.length ? \"More \" : \"\"}Files\n        </button>\n        <div className={importClass.elem(\"csv-handling\").mod({ highlighted: highlightCsvHandling, hidden: !csvHandling })}>\n          <span>Treat CSV/TSV as</span>\n          <label><input {...csvProps} value=\"tasks\" checked={csvHandling === \"tasks\"}/> List of tasks</label>\n          <label><input {...csvProps} value=\"ts\" checked={csvHandling === \"ts\"}/> Time Series</label>\n        </div>\n        <div className={importClass.elem(\"status\")}>\n          {files.uploaded.length\n            ? `${files.uploaded.length} files uploaded`\n            : \"\"}\n        </div>\n      </header>\n\n      <ErrorMessage error={error} />\n\n      <main>\n        <Upload sendFiles={sendFiles} project={project}>\n          {!showList && (\n            <label htmlFor=\"file-input\">\n              <div className={dropzoneClass.elem(\"content\")}>\n                <header>Drag & drop files here<br/>or click to browse</header>\n                <IconUpload height=\"64\" className={dropzoneClass.elem(\"icon\")} />\n                <dl>\n                  <dt>Text</dt><dd>txt</dd>\n                  <dt>Audio</dt><dd>wav, aiff, mp3, au, flac, m4a, ogg</dd>\n                  <dt>Images</dt><dd>jpg, png, gif, bmp, svg, webp</dd>\n                  <dt>HTML</dt><dd>html, htm, xml</dd>\n                  <dt>Time Series</dt><dd>csv, tsv</dd>\n                  <dt>Common Formats</dt><dd>csv, tsv, txt, json</dd>\n                </dl>\n              </div>\n            </label>\n          )}\n\n          {showList && (\n            <table>\n              <tbody>\n                {files.uploading.map(file => (\n                  <tr key={file.name}>\n                    <td>{file.name}</td>\n                    <td><span className={importClass.elem(\"file-status\").mod({ uploading: true })} /></td>\n                  </tr>\n                ))}\n                {files.uploaded.map(file => (\n                  <tr key={file.file}>\n                    <td>{file.file}</td>\n                    <td><span className={importClass.elem(\"file-status\")} /></td>\n                    <td>{file.size}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </Upload>\n      </main>\n\n      <Footer />\n    </div>\n  );\n};\n","import React from 'react';\nimport { useAPI } from '../../../providers/ApiProvider';\nimport { unique } from '../../../utils/helpers';\n\nconst DEFAULT_COLUMN = \"$undefined$\";\n\nexport const useImportPage = (project) => {\n  const [uploading, setUploadingStatus] = React.useState(false);\n  const [fileIds, setFileIds] = React.useState([]);\n  const [_columns, _setColumns] = React.useState([]);\n  const addColumns = cols => _setColumns(current => unique(current.concat(cols)));\n  // undefined - no csv added, all good, keep moving\n  // choose - csv added, block modal until user chooses a way to hangle csv\n  // tasks | ts  choice made, all good, this cannot be undone\n  const [csvHandling, setCsvHandling] = React.useState(); // undefined | choose | tasks | ts\n  const uploadDisabled = csvHandling === \"choose\";\n  const api = useAPI();\n\n  // don't use columns from csv if we'll not use it as csv\n  const columns = [\"choose\", \"ts\"].includes(csvHandling) ? [DEFAULT_COLUMN] : _columns;\n\n  const finishUpload = async () => {\n    setUploadingStatus(true);\n    const imported = await api.callApi('reimportFiles', {\n      params: {\n        pk: project.id,\n      },\n      body: {\n        file_upload_ids: fileIds,\n        files_as_tasks_list: csvHandling === 'tasks',\n      },\n    });\n\n    setUploadingStatus(false);\n    return imported;\n  };\n\n  const pageProps = {\n    onWaiting: setUploadingStatus,\n    // onDisableSubmit: onDisableSubmit,\n    highlightCsvHandling: uploadDisabled,\n    addColumns,\n    csvHandling,\n    setCsvHandling,\n    onFileListUpdate: setFileIds,\n    dontCommitToProject: true,\n  };\n\n  return { columns, uploading, uploadDisabled, finishUpload, fileIds, pageProps };\n};\n","import React from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, ToggleItems } from '../../components';\nimport { Modal } from '../../components/Modal/Modal';\nimport { Space } from '../../components/Space/Space';\nimport { useAPI } from '../../providers/ApiProvider';\nimport { cn } from '../../utils/bem';\nimport { ConfigPage } from './Config/Config';\nimport \"./CreateProject.styl\";\nimport { ImportPage } from './Import/Import';\nimport { useImportPage } from './Import/useImportPage';\nimport { useDraftProject } from './utils/useDraftProject';\n\n// 1\nconst DEFAULT_CONFIG = `<View>\n<Paragraphs name=\"dialogue\" value=\"$dialogue\" layout=\"dialogue\" />\n<Choices name=\"intent\" toName=\"dialogue\" choice=\"multiple\" showInLine=\"true\">\n  <Choice value=\"\"/>\n  <Choice value=\"\"/>\n  <Choice value=\"\"/>\n</Choices>\n</View>`;\n\nconst ProjectName = ({ name, setName, onSaveName, onSubmit, error, description, setDescription, show = true }) => !show ? null :(\n  <form className={cn(\"project-name\")} onSubmit={e => { e.preventDefault(); onSubmit(); }}>\n    <div className=\"field field--wide\">\n      <label htmlFor=\"project_name\">Project Name</label>\n      <input name=\"name\" id=\"project_name\" value={name} onChange={e => setName(e.target.value)} onBlur={onSaveName} />\n      {error && <span className=\"error\">{error}</span>}\n    </div>\n    <div className=\"field field--wide\">\n      <label htmlFor=\"project_description\">Description</label>\n      <textarea\n        name=\"description\"\n        id=\"project_description\"\n        placeholder=\"Optional description of your project\"\n        rows=\"4\"\n        value={description}\n        onChange={e => setDescription(e.target.value)}\n      />\n    </div>\n  </form>\n);\n\nexport const CreateProject = ({ onClose }) => {\n  const [step, setStep] = React.useState(\"name\"); // name | import | config\n  const [waiting, setWaitingStatus] = React.useState(false);\n\n  const project = useDraftProject();\n  const history = useHistory();\n  const api = useAPI();\n\n  const [name, setName] = React.useState(\"\");\n  const [error, setError] = React.useState();\n  const [description, setDescription] = React.useState(\"\");\n  const [config, setConfig] = React.useState(\"<View></View>\");\n\n  React.useEffect(() => { setError(null); }, [name]);\n\n  const { columns, uploading, uploadDisabled, finishUpload, pageProps } = useImportPage(project);\n\n  const rootClass = cn(\"create-project\");\n  const tabClass = rootClass.elem(\"tab\");\n  const steps = {\n    name: <span className={tabClass.mod({ disabled: !!error })}>Project Name</span>,\n    import: <span className={tabClass.mod({ disabled: uploadDisabled })}>Data Import</span>,\n    config: \"Labeling Setup\",\n  };\n\n  // name intentionally skipped from deps:\n  // this should trigger only once when we got project loaded\n  React.useEffect(() => project && !name && setName(project.title), [project]);\n\n  const projectBody = React.useMemo(() => ({\n    title: name,\n    description,\n    label_config: config,\n  }), [name, description, config]);\n\n  const onCreate = React.useCallback(async () => {\n    const imported = await finishUpload();\n\n    if (!imported) return;\n\n    setWaitingStatus(true);\n    const response = await api.callApi('updateProject',{\n      params: {\n        pk: project.id,\n      },\n      body: projectBody,\n    });\n\n    setWaitingStatus(false);\n\n    if (response !== null) {\n      history.push(`/projects/${response.id}/data`);\n    }\n  }, [project, projectBody, finishUpload]);\n\n  const onSaveName = async () => {\n    if (error) return;\n    const res = await api.callApi('updateProjectRaw', {\n      params: {\n        pk: project.id,\n      },\n      body: {\n        title: name,\n      },\n    });\n\n    if (res.ok) return;\n    const err = await res.json();\n\n    setError(err.validation_errors?.title);\n  };\n\n  const onDelete = React.useCallback(async () => {\n    setWaitingStatus(true);\n    if (project) await api.callApi('deleteProject', {\n      params: {\n        pk: project.id,\n      },\n    });\n    setWaitingStatus(false);\n    history.replace(\"/projects\");\n    onClose?.();\n  }, [project]);\n\n  return (\n    <Modal onHide={onDelete} fullscreen visible bare closeOnClickOutside={false}>\n      <div className={rootClass}>\n        <Modal.Header>\n          <h1>Create Project</h1>\n          <ToggleItems items={steps} active={step} onSelect={setStep} />\n\n          <Space>\n            <Button look=\"danger\" size=\"compact\" onClick={onDelete} waiting={waiting}>Delete</Button>\n            <Button look=\"primary\" size=\"compact\" onClick={onCreate} waiting={waiting || uploading} disabled={!project || uploadDisabled || error}>Save</Button>\n          </Space>\n        </Modal.Header>\n        <ProjectName\n          name={name}\n          setName={setName}\n          error={error}\n          onSaveName={onSaveName}\n          onSubmit={onCreate}\n          description={description}\n          setDescription={setDescription}\n          show={step === \"name\"}\n        />\n        <ImportPage project={project} show={step === \"import\"} {...pageProps} />\n        <ConfigPage project={project} onUpdate={setConfig} show={step === \"config\"} columns={columns} disableSaveButton={true} config={DEFAULT_CONFIG} />\n      </div>\n    </Modal>\n  );\n};\n","import React from 'react';\nimport { useAPI } from '../../../providers/ApiProvider';\n\nexport const useDraftProject = () => {\n  const api = useAPI();\n  const [project, setProject] = React.useState();\n\n  const fetchDraftProject = React.useCallback(async () => {\n    const response = await api.callApi('projects');\n\n    // always create the new one\n    const projects = response?.results ?? [];\n    const lastIndex = projects.length;\n    let projectNumber = lastIndex + 1;\n    let projectName = `New Project #${projectNumber}`;\n\n    // dirty hack to get proper non-duplicate name\n    while(projects.find(({ title }) => title === projectName)) {\n      projectNumber++;\n      projectName = `New Project #${projectNumber}`;\n    }\n\n    const draft = await api.callApi('createProject', {\n      body: {\n        title: projectName,\n      },\n    });\n\n    if (draft) setProject(draft);\n  }, []);\n\n  React.useEffect(() => {\n    fetchDraftProject();\n  }, []);\n\n  return project;\n};\n","import { useCallback, useState } from \"react\";\nimport { singletonHook } from 'react-singleton-hook';\nimport { isDefined } from \"../utils/helpers\";\n\nconst initialBreadcrumbs = [];\n\nconst noop = () => {\n  if (process.env.NODE_ENV === 'development') {\n    console.warn(\"Breadcrumbs must be initialized first\");\n  }\n};\n\nexport let setBreadcrumbs = noop;\n\nexport let addCrumb = noop;\n\nexport let deleteCrumb = noop;\n\nexport let addAction = noop;\n\nexport let deleteAction = noop;\n\nlet localCrumbs = [];\n\nexport const useBreadcrumbControls = singletonHook(initialBreadcrumbs, () => {\n  const [breadcrumbs, setBreadcrumbsState] = useState(initialBreadcrumbs);\n\n  localCrumbs = breadcrumbs;\n  setBreadcrumbs = (newCrumbs) => {\n    const crumbs = [...(newCrumbs ?? [])];\n\n    setBreadcrumbsState(crumbs);\n    localCrumbs = crumbs;\n  };\n\n  addCrumb = useCallback((crumb) => {\n    if (!isDefined(crumb?.key)) throw Error(\"Crumb must have a key\");\n    const crumbs = [...localCrumbs, crumb];\n\n    setBreadcrumbs(crumbs);\n    localCrumbs = crumbs;\n  }, [breadcrumbs]);\n\n  deleteCrumb = useCallback((key) => {\n    const crumbs = localCrumbs.filter(c => c.key !== key);\n\n    setBreadcrumbs(crumbs);\n    localCrumbs = crumbs;\n  }, [breadcrumbs]);\n\n  addAction = useCallback((key, onClick) => {\n    const crumbs = localCrumbs.map(crumb => {\n      if (crumb.key === key) {\n        return {...crumb, onClick: onClick};\n      }\n      return crumb;\n    });\n\n    setBreadcrumbs(crumbs);\n    localCrumbs = crumbs;\n  }, [breadcrumbs]);\n\n  deleteAction = useCallback((key) => {\n    const crumbs = localCrumbs.map(crumb => {\n      if (crumb.key === key) delete crumb.onClick;\n\n      return crumb;\n    });\n\n    setBreadcrumbs(crumbs);\n    localCrumbs = crumbs;\n  }, [breadcrumbs]);\n\n  return breadcrumbs;\n});\n","import { useCallback, useRef, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button } from '../../../components';\nimport { Modal } from '../../../components/Modal/Modal';\nimport { Space } from '../../../components/Space/Space';\nimport { useAPI } from '../../../providers/ApiProvider';\nimport { ProjectProvider, useProject } from '../../../providers/ProjectProvider';\nimport { useFixedLocation } from '../../../providers/RoutesProvider';\nimport { Elem } from '../../../utils/bem';\nimport { useRefresh } from '../../../utils/hooks';\nimport { ImportPage } from './Import';\nimport { useImportPage } from './useImportPage';\n\nexport const Inner = () => {\n  const history = useHistory();\n  const location = useFixedLocation();\n  const modal = useRef();\n  const refresh = useRefresh();\n  const {project} = useProject();\n  const [waiting, setWaitingStatus] = useState(false);\n  const api = useAPI();\n\n  const { uploading, uploadDisabled, finishUpload, fileIds, pageProps } = useImportPage(project);\n\n  const backToDM = useCallback(() => {\n    const path = location.pathname.replace(ImportModal.path, '');\n    const search = location.search;\n    const pathname = `${path}${search !== '?' ? search : ''}`;\n\n    return refresh(pathname);\n  }, [location, history]);\n\n  const onCancel = useCallback(async () => {\n    setWaitingStatus(true);\n    await api.callApi('deleteFileUploads', {\n      params: {\n        pk: project.id,\n      },\n      body: {\n        file_upload_ids: fileIds,\n      },\n    });\n    setWaitingStatus(false);\n    modal?.current?.hide();\n    backToDM();\n  }, [modal, project, fileIds, backToDM]);\n\n  const onFinish = useCallback(async () => {\n    const imported = await finishUpload();\n    if (!imported) return;\n    backToDM();\n  }, [backToDM, finishUpload]);\n\n  return (\n    <Modal\n      title=\"Import data\"\n      ref={modal}\n      onHide={() => backToDM()}\n      closeOnClickOutside={false}\n      fullscreen\n      visible\n      bare\n    >\n      <Modal.Header divided>\n        <Elem block=\"modal\" name=\"title\">Import Data</Elem>\n\n        <Space>\n          <Button waiting={waiting} onClick={onCancel}>Cancel</Button>\n          <Button look=\"primary\" onClick={onFinish} waiting={waiting || uploading} disabled={uploadDisabled}>\n            Import\n          </Button>\n        </Space>\n      </Modal.Header>\n      <ImportPage project={project} {...pageProps} />\n    </Modal>\n  );\n};\nexport const ImportModal = () => {\n  return (\n    <ProjectProvider>\n      <Inner />\n    </ProjectProvider>\n  );\n};\n\nImportModal.path = \"/import\";\nImportModal.modal = true;\n","// extracted by mini-css-extract-plugin\nexport default {\"export-page__finish\":\"ls-export-page__finish\",\"export-page__recent\":\"ls-export-page__recent\",\"export-page__footer\":\"ls-export-page__footer\",\"formats\":\"ls-formats\",\"formats__list\":\"ls-formats__list\",\"formats__item\":\"ls-formats__item\",\"formats__item_active\":\"ls-formats__item_active\",\"formats__item_selected\":\"ls-formats__item_selected\",\"formats__name\":\"ls-formats__name\",\"formats__tag\":\"ls-formats__tag\",\"formats__description\":\"ls-formats__description\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button } from '../../components';\nimport { Form, Input } from '../../components/Form';\nimport { Modal } from '../../components/Modal/Modal';\nimport { Space } from '../../components/Space/Space';\nimport { useAPI } from '../../providers/ApiProvider';\nimport { useFixedLocation, useParams } from '../../providers/RoutesProvider';\nimport { BemWithSpecifiContext } from '../../utils/bem';\nimport { isDefined } from '../../utils/helpers';\nimport \"./ExportPage.styl\";\n\n// const formats = {\n//   json: 'JSON',\n//   csv: 'CSV',\n// };\n\nconst downloadFile = (blob, filename) => {\n  const link = document.createElement('a');\n  link.href = URL.createObjectURL(blob);\n  link.download = filename;\n  link.click();\n};\n\nconst {Block, Elem} = BemWithSpecifiContext();\n\nconst wait = () => new Promise(resolve => setTimeout(resolve, 5000));\n\nexport const ExportPage = () => {\n  const history = useHistory();\n  const location = useFixedLocation();\n  const pageParams = useParams();\n  const api = useAPI();\n\n  const [previousExports, setPreviousExports] = useState([]);\n  const [downloading, setDownloading] = useState(false);\n  const [downloadingMessage, setDownloadingMessage] = useState(false);\n  const [availableFormats, setAvailableFormats] = useState([]);\n  const [currentFormat, setCurrentFormat] = useState('JSON');\n\n  /** @type {import('react').RefObject<Form>} */\n  const form = useRef();\n\n  const proceedExport = async () => {\n    setDownloading(true);\n\n    const message = setTimeout(() => {\n      setDownloadingMessage(true);\n    }, 1000);\n\n    const params = form.current.assembleFormData({\n      asJSON: true,\n      full: true,\n      booleansAsNumbers: true,\n    });\n\n    const response = await api.callApi('exportRaw', {\n      params: {\n        pk: pageParams.id,\n        ...params,\n      },\n    });\n\n    if (response.ok) {\n      const blob = await response.blob();\n      downloadFile(blob, response.headers.get('filename'));\n    } else {\n      api.handleError(response);\n    }\n\n    setDownloading(false);\n    setDownloadingMessage(false);\n    clearTimeout(message);\n  };\n\n  useEffect(() => {\n    if (isDefined(pageParams.id)) {\n      api.callApi(\"previousExports\", {\n        params: {\n          pk: pageParams.id,\n        },\n      }).then(({export_files}) => {\n        setPreviousExports(export_files.slice(0, 1));\n      });\n\n      api.callApi(\"exportFormats\", {\n        params: {\n          pk: pageParams.id,\n        },\n      }).then(formats => {\n        setAvailableFormats(formats);\n        setCurrentFormat(formats[0]?.name);\n      });\n    }\n  }, [pageParams]);\n\n  // const formatSelect = (\n  //   <Label text=\"Export format\" style={{display: \"block\", width: \"mix-content\"}} flat>\n  //     <Dropdown.Trigger content={(\n  //       <Menu size=\"medium\">\n  //         {Object.entries(formats).map(([key, value]) => {\n  //           return <Menu.Item key={key} onClick={() => setFormat(key)}>{value}</Menu.Item>;\n  //         })}\n  //       </Menu>\n  //     )}>\n  //       <Button size=\"small\" style={{textAlign: \"left\"}}>\n  //         <span>{formats[format]}</span>\n  //       </Button>\n  //     </Dropdown.Trigger>\n  //   </Label>\n  // );\n\n  // const aggregation = (\n  //   <Form.Row columnCount={2}>\n  //     {/* TODO: We don't have api for different formats yet, so let's hide the select for now */}\n  //     {/* {formatSelect} */}\n\n  //     <RadioGroup label=\"Aggregation of annotations\" size=\"small\" name=\"aggregator_type\" labelProps={{size: \"large\", flat: true}}>\n  //       <RadioGroup.Button value=\"majority_vote\" checked>\n  //         Majority vote\n  //       </RadioGroup.Button>\n  //       <RadioGroup.Button value=\"no_aggregation\">\n  //         No aggregation\n  //       </RadioGroup.Button>\n  //     </RadioGroup>\n  //   </Form.Row>\n  // );\n\n  // const exportHistory = (\n  //   <Label text=\"Previous exports\" size=\"large\" flat>\n  //     {previousExports.map(file => {\n  //       const basename = file.url.split('/').reverse()[0];\n  //       return (\n  //         <Button key={file.url} href={file.url} size=\"medium\" download={basename} icon={<FaFileDownload/>}>\n  //           {basename}\n  //         </Button>\n  //       );\n  //     })}\n  //   </Label>\n  // );\n\n  return (\n    <Modal\n      onHide={() => {\n        const path = location.pathname.replace(ExportPage.path, '');\n        const search = location.search;\n        history.replace(`${path}${search !== '?' ? search : ''}`);\n      }}\n      title=\"Export data\"\n      style={{width: 720}}\n      closeOnClickOutside={false}\n      allowClose={!downloading}\n      // footer=\"Read more about supported export formats in the Documentation.\"\n      visible\n    >\n      <Block name=\"export-page\">\n        <FormatInfo\n          availableFormats={availableFormats}\n          selected={currentFormat}\n          onClick={format => setCurrentFormat(format.name)}\n        />\n\n        <Form ref={form}>\n          <Input type=\"hidden\" name=\"exportType\" value={currentFormat}/>\n\n          {/* {aggregation} */}\n\n          {/*<Form.Row columnCount={3} style={{marginTop: 24}}>*/}\n          {/*  <Toggle label=\"Only finished tasks\" name=\"finished\" checked/>*/}\n          {/*  <Toggle label=\"Include full task descriptions\" name=\"return_task\" checked/>*/}\n          {/*  <Toggle label=\"Include predictions\" name=\"return_predictions\" checked/>*/}\n          {/*</Form.Row>*/}\n        </Form>\n\n        <Elem name=\"footer\">\n          <Space style={{width: '100%'}} spread>\n            <Elem name=\"recent\">\n              {/* {exportHistory} */}\n            </Elem>\n            <Elem name=\"actions\">\n              <Space>\n                {downloadingMessage && (\n                  \"Files are being prepared. It might take some time.\"\n                )}\n                <Elem\n                  tag={Button}\n                  name=\"finish\"\n                  look=\"primary\"\n                  onClick={proceedExport}\n                  waiting={downloading}\n                >\n                  Export\n                </Elem>\n              </Space>\n            </Elem>\n          </Space>\n        </Elem>\n      </Block>\n    </Modal>\n  );\n};\n\nconst FormatInfo = ({availableFormats, selected, onClick}) => {\n  return (\n    <Block name=\"formats\">\n      <Elem name=\"info\">You can export dataset in one of the following formats:</Elem>\n      <Elem name=\"list\">\n        {availableFormats.map(format => (\n          <Elem\n            key={format.name}\n            name=\"item\"\n            mod={{\n              active: !format.disabled,\n              selected: format.name === selected,\n            }}\n            onClick={!format.disabled ? () => onClick(format) : null}\n          >\n            <Elem name=\"name\">\n              {format.title}\n\n              <Space size=\"small\">\n                {format.tags?.map?.((tag, index) => (\n                  <Elem key={index} name=\"tag\">{tag}</Elem>\n                ))}\n              </Space>\n            </Elem>\n\n            {format.description && <Elem name=\"description\">{format.description}</Elem>}\n          </Elem>\n        ))}\n      </Elem>\n      <Elem name=\"feedback\">\n        Can't find an export format?\n        <br/>\n        Please let us know in <a className=\"no-go\" href=\"https://slack.labelstudio.heartex.com/?source=product-export\">Slack</a> or submit an issue to the <a className=\"no-go\" href=\"https://github.com/heartexlabs/label-studio-converter/issues\">Repository</a>\n      </Elem>\n    </Block>\n  );\n};\n\nExportPage.path = \"/export\";\nExportPage.modal = true;\n","import { isDefined } from '../../utils/helpers';\n\n/** @type {import(\"../utils/api-proxy\").APIProxyOptions} */\nexport const APIConfig = {\n  gateway: \"/api/dm\",\n  endpoints: {\n    /** Project base info */\n    project: \"/project\",\n\n    /** Available columns/fields of the dataset */\n    columns: \"/columns\",\n\n    /** Tabs (materialized views) */\n    tabs: \"/views\",\n\n    /** Creates a new tab */\n    createTab: \"POST:/views\",\n\n    /** Update particular tab (PATCH) */\n    updateTab: \"PATCH:/views/:tabID\",\n\n    /** Delete particular tab (DELETE) */\n    deleteTab: \"DELETE:/views/:tabID\",\n\n    /** Per-task annotations (annotations, predictions) */\n    annotations: \"/views/:tabID/annotations\",\n\n    /** Single task (sample) */\n    task: \"/../tasks/:taskID\",\n\n    /** List of tasks (samples) in the dataset */\n    tasks: \"/../tasks\",\n\n    /** Next task (labelstream, default sequential) */\n    nextTask: \"/tasks/next\",\n\n    /** Single annotation */\n    annotation: \"/../annotations/:id\",\n\n    /** Mark sample as skipped */\n    skipTask: {\n      method: \"post\",\n      path: (params) => {\n        const pathBase = \"/../tasks/:taskID/annotations\";\n        const isNewAnnotation = !isDefined(params.annotationID);\n\n        return isNewAnnotation ? pathBase : `${pathBase}/:annotationID`;\n      },\n    },\n\n    /** Submit annotation */\n    submitAnnotation: \"POST:/../tasks/:taskID/annotations\",\n\n    /** Update annotation */\n    updateAnnotation: \"PATCH:/../annotations/:annotationID\",\n\n    /** Delete annotation */\n    deleteAnnotation: \"DELETE:/../annotations/:annotationID\",\n\n    /** Override selected items list (checkboxes) */\n    setSelectedItems: \"POST:/views/:tabID/selected-items\",\n\n    /** Add item to the current selection */\n    addSelectedItem: \"PATCH:/views/:tabID/selected-items\",\n\n    /** List of available actions */\n    actions: \"/actions\",\n\n    /** Subtract item from the current selection */\n    deleteSelectedItem: \"DELETE:/views/:tabID/selected-items\",\n\n    /** Invoke a particular action */\n    invokeAction: \"POST:/actions\",\n  },\n};\n","import { t } from 'i18next';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { generatePath, useHistory } from 'react-router';\nimport { NavLink } from 'react-router-dom';\nimport { Spinner } from '../../components';\nimport { Button } from '../../components/Button/Button';\nimport { modal } from '../../components/Modal/Modal';\nimport { Space } from '../../components/Space/Space';\nimport { useAPI } from '../../providers/ApiProvider';\nimport { useLibrary } from '../../providers/LibraryProvider';\nimport { useProject } from '../../providers/ProjectProvider';\nimport { useContextProps, useFixedLocation, useParams } from '../../providers/RoutesProvider';\nimport { addAction, addCrumb, deleteAction, deleteCrumb } from '../../services/breadrumbs';\nimport { Block, Elem } from '../../utils/bem';\nimport { isDefined } from '../../utils/helpers';\nimport { ImportModal } from '../CreateProject/Import/ImportModal';\nimport { ExportPage } from '../ExportPage/ExportPage';\nimport { APIConfig } from './api-config';\nimport \"./DataManager.styl\";\n\nconst initializeDataManager = async (root, props, params) => {\n  if (!window.LabelStudio) throw Error(\"Label Studio Frontend doesn't exist on the page\");\n  if (!root && root.dataset.dmInitialized) return;\n\n  root.dataset.dmInitialized = true;\n\n  const { ...settings } = root.dataset;\n\n  const dmConfig = {\n    root,\n    projectId: params.id,\n    apiGateway: `${window.APP_SETTINGS.hostname}/api/dm`,\n    apiVersion: 2,\n    project: params.project,\n    polling: !window.APP_SETTINGS,\n    showPreviews: false,\n    apiEndpoints: APIConfig.endpoints,\n    interfaces: {\n      import: true,\n      export: true,\n      backButton: false,\n      labelingHeader: false,\n      autoAnnotation: params.autoAnnotation,\n    },\n    labelStudio: {\n      keymap: window.APP_SETTINGS.editor_keymap,\n    },\n    ...props,\n    ...settings,\n  };\n\n  return new window.DataManager(dmConfig);\n};\n\nconst buildLink = (path, params) => {\n  return generatePath(`/projects/:id${path}`, params);\n};\n\nexport const DataManagerPage = ({ ...props }) => {\n  const root = useRef();\n  const params = useParams();\n  const history = useHistory();\n  const api = useAPI();\n  const { project } = useProject();\n  const LabelStudio = useLibrary('lsf');\n  const DataManager = useLibrary('dm');\n  const setContextProps = useContextProps();\n  const [crashed, setCrashed] = useState(false);\n  const dataManagerRef = useRef();\n  const projectId = project?.id;\n\n  const init = useCallback(async () => {\n    if (!LabelStudio) return;\n    if (!DataManager) return;\n    if (!root.current) return;\n    if (!project?.id) return;\n    if (dataManagerRef.current) return;\n\n    const mlBackends = await api.callApi(\"mlBackends\", {\n      params: { project: project.id },\n    });\n\n    const interactiveBacked = (mlBackends ?? []).find(({ is_interactive }) => is_interactive);\n\n    const dataManager = (dataManagerRef.current = dataManagerRef.current ?? await initializeDataManager(\n      root.current,\n      props,\n      {\n        ...params,\n        project,\n        autoAnnotation: isDefined(interactiveBacked),\n      },\n    ));\n\n    Object.assign(window, { dataManager });\n\n    dataManager.on(\"crash\", () => setCrashed());\n\n    dataManager.on(\"settingsClicked\", () => {\n      history.push(buildLink(\"/settings/labeling\", { id: params.id }));\n    });\n\n    dataManager.on(\"importClicked\", () => {\n      history.push(buildLink(\"/data/import\", { id: params.id }));\n    });\n\n    dataManager.on(\"exportClicked\", () => {\n      history.push(buildLink(\"/data/export\", { id: params.id }));\n    });\n\n    dataManager.on(\"error\", response => {\n      api.handleError(response);\n    });\n\n    if (interactiveBacked) {\n      dataManager.on(\"lsf:regionFinishedDrawing\", (reg, group) => {\n        const { lsf, task, currentAnnotation: annotation } = dataManager.lsf;\n        const ids = group.map(r => r.id);\n        const result = annotation.serializeAnnotation().filter((res) => ids.includes(res.id));\n\n        const suggestionsRequest = api.callApi(\"mlInteractive\", {\n          params: { pk: interactiveBacked.id },\n          body: {\n            task: task.id,\n            context: { result },\n          },\n        });\n\n        lsf.loadSuggestions(suggestionsRequest, (response) => {\n          if (response.data) {\n            return response.data.result;\n          }\n\n          return [];\n        });\n      });\n    }\n\n    setContextProps({ dmRef: dataManager });\n  }, [LabelStudio, DataManager, projectId]);\n\n  const destroyDM = useCallback(() => {\n    if (dataManagerRef.current) {\n      dataManagerRef.current.destroy();\n      dataManagerRef.current = null;\n    }\n  }, [dataManagerRef]);\n\n  useEffect(() => {\n    init();\n\n    return () => destroyDM();\n  }, [root, init]);\n\n\n  if (!DataManager || !LabelStudio) {\n    return (\n      <div style={{\n        flex: 1,\n        width: '100%',\n        height: '100%',\n        display: \"flex\",\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}>\n        <Spinner size={64}/>\n      </div>\n    );\n  }\n\n  return crashed ? (\n    <Block name=\"crash\">\n      <Elem name=\"info\">Project was deleted or not yet created</Elem>\n\n      <Button to=\"/projects\">\n        Back to projects\n      </Button>\n    </Block>\n  ) : (\n    <Block ref={root} name=\"datamanager\"/>\n  );\n};\n\nDataManagerPage.path = \"/data\";\nDataManagerPage.pages = {\n  ExportPage,\n  ImportModal,\n};\nDataManagerPage.context = ({ dmRef }) => {\n  const location = useFixedLocation();\n  const { project } = useProject();\n  const [mode, setMode] = useState(dmRef?.mode ?? \"explorer\");\n\n  const links = {\n    '/settings': t(\"Settings\"),\n  };\n\n  const updateCrumbs = (currentMode) => {\n    const isExplorer = currentMode === 'explorer';\n    const dmPath = location.pathname.replace(DataManagerPage.path, '');\n\n    if (isExplorer) {\n      deleteAction(dmPath);\n      deleteCrumb('dm-crumb');\n    } else {\n      addAction(dmPath, (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        dmRef?.store?.closeLabeling?.();\n      });\n      addCrumb({\n        key: \"dm-crumb\",\n        title: \"Labeling\",\n      });\n    }\n  };\n\n  const showLabelingInstruction = (currentMode) => {\n    const isLabelStream = currentMode === 'labelstream';\n    const { expert_instruction, show_instruction } = project;\n\n    if (isLabelStream && show_instruction && expert_instruction) {\n      modal({\n        title: \"Labeling Instructions\",\n        body: <div dangerouslySetInnerHTML={{ __html: expert_instruction }}/>,\n        style: { width: 680 },\n      });\n    }\n  };\n\n  const onDMModeChanged = (currentMode) => {\n    setMode(currentMode);\n    updateCrumbs(currentMode);\n    showLabelingInstruction(currentMode);\n  };\n\n  useEffect(() => {\n    if (dmRef) {\n      dmRef.on('modeChanged', onDMModeChanged);\n    }\n\n    return () => {\n      dmRef?.off?.('modeChanged', onDMModeChanged);\n    };\n  }, [dmRef, project]);\n\n  return project && project.id ? (\n    <Space size=\"small\">\n      {(project.expert_instruction && mode !== 'explorer') && (\n        <Button size=\"compact\" onClick={() => {\n          modal({\n            title: \"Instructions\",\n            body: () => <div dangerouslySetInnerHTML={{ __html: project.expert_instruction }}/>,\n          });\n        }}>\n          Instructions\n        </Button>\n      )}\n\n      {Object.entries(links).map(([path, label]) => (\n        <Button\n          key={path}\n          tag={NavLink}\n          size=\"compact\"\n          to={`/projects/${project.id}${path}`}\n          data-external\n        >\n          {label}\n        </Button>\n      ))}\n    </Space>\n  ) : null;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"webhook-wrap\":\"ls-webhook-wrap\",\"webhook-wrap__content\":\"ls-webhook-wrap__content\",\"webhook-wrap__footer\":\"ls-webhook-wrap__footer\",\"webhook-wrap__footer-text\":\"ls-webhook-wrap__footer-text\",\"webhook-wrap__footer-icon\":\"ls-webhook-wrap__footer-icon\",\"webhook__title\":\"ls-webhook__title\",\"webhook__title-base\":\"ls-webhook__title-base\",\"webhook__controls\":\"ls-webhook__controls\",\"webhook__content\":\"ls-webhook__content\",\"webhook-delete-modal__width-button\":\"ls-webhook-delete-modal__width-button\",\"webhook-delete-modal__modal-text\":\"ls-webhook-delete-modal__modal-text\",\"webhook-list__item\":\"ls-webhook-list__item\",\"webhook-list__item-control\":\"ls-webhook-list__item-control\",\"webhook-list__item-url\":\"ls-webhook-list__item-url\",\"webhook-list__item-date\":\"ls-webhook-list__item-date\",\"webhook-form__form-row\":\"ls-webhook-form__form-row\",\"webhook-form__form-toggle\":\"ls-webhook-form__form-toggle\",\"webhook-detail__width-button\":\"ls-webhook-detail__width-button\",\"webhook-detail__black-text\":\"ls-webhook-detail__black-text\",\"webhook-detail__activator\":\"ls-webhook-detail__activator\",\"webhook-detail__url-space\":\"ls-webhook-detail__url-space\",\"webhook-detail__url-input\":\"ls-webhook-detail__url-input\",\"webhook-detail__form-label\":\"ls-webhook-detail__form-label\",\"webhook-detail__form-row\":\"ls-webhook-detail__form-row\",\"webhook-detail__delete-button\":\"ls-webhook-detail__delete-button\",\"webhook-detail__cancel-button\":\"ls-webhook-detail__cancel-button\",\"webhook-detail__status\":\"ls-webhook-detail__status\",\"webhook-detail__save-button\":\"ls-webhook-detail__save-button\",\"webhook-detail__headers\":\"ls-webhook-detail__headers\",\"webhook-detail__headers-control\":\"ls-webhook-detail__headers-control\",\"webhook-detail__headers-add\":\"ls-webhook-detail__headers-add\",\"webhook-detail__headers-row\":\"ls-webhook-detail__headers-row\",\"webhook-detail__headers-remove\":\"ls-webhook-detail__headers-remove\",\"webhook-detail__headers-input\":\"ls-webhook-detail__headers-input\",\"webhook-detail__controls\":\"ls-webhook-detail__controls\",\"webhook-payload\":\"ls-webhook-payload\",\"webhook-payload__title\":\"ls-webhook-payload__title\",\"webhook-payload__title_black\":\"ls-webhook-payload__title_black\",\"webhook-payload__content\":\"ls-webhook-payload__content\",\"webhook-payload__content-row\":\"ls-webhook-payload__content-row\"};","import React from 'react';\n\nimport { Button } from \"../../components\";\nimport { Elem } from \"../../components/Menu/MenuContext\";\nimport { modal } from \"../../components/Modal/Modal\";\nimport { useModalControls } from \"../../components/Modal/ModalPopup\";\nimport { Space } from \"../../components/Space/Space\";\nimport { useAPI } from \"../../providers/ApiProvider\";\nimport { Block, cn } from \"../../utils/bem\";\n\n\n\nexport const WebhookDeleteModal = ({onDelete}) => {\n  return modal({\n    title: \"Delete\",\n    body: ()=>{\n      const ctrl = useModalControls();\n      const rootClass = cn('webhook-delete-modal');\n      return (<div className={rootClass}>\n        <div className={rootClass.elem('modal-text')}>\n              Are you sure you want to delete the webhook? This action\n              cannot be undone.  \n        </div>\n\n      </div>);},\n    footer: ()=>{\n      const ctrl = useModalControls();\n      const rootClass = cn('webhook-delete-modal');\n      return <Space align=\"end\">\n        <Button \n          className={rootClass.elem('width-button')} \n          onClick={()=>{ctrl.hide();}}>\n                Cancel\n        </Button>\n        <Button \n          look=\"destructive\"\n          className={rootClass.elem('width-button')}\n          onClick={\n            async ()=>{\n              await onDelete();\n              ctrl.hide();\n            }\n          }\n        >Delete</Button>\n      </Space>;\n    },\n    style: { width: 512 },\n  });\n};","import React, { useCallback } from 'react';\nimport { LsCross, LsPencil, LsPlus } from '../../assets/icons';\nimport { Button } from '../../components';\nimport { Form, Label, Input, Toggle } from '../../components/Form';\nimport { modal } from '../../components/Modal/Modal';\nimport { Elem, Block } from '../../utils/bem';\nimport \"./WebhookPage.styl\";\nimport { format } from 'date-fns';\nimport { useAPI } from '../../providers/ApiProvider';\nimport { WebhookDeleteModal } from './WebhookDeleteModal';\nimport { useProject } from '../../providers/ProjectProvider';\n\n\nconst WebhookList = ({ onSelectActive, onAddWebhook, webhooks, fetchWebhooks }) => {\n\n  const api = useAPI();\n\n  if (webhooks === null) return <></>;\n\n  const onActiveChange = useCallback( async (event) => {\n    let value = event.target.checked;\n    await api.callApi('updateWebhook', {\n      params: {\n        pk: event.target.name,\n      },\n      body: {\n        is_active: value,\n      },\n    });\n    await fetchWebhooks();\n  }, [api]);\n\n  return <Block name='webhook'>\n    <Elem name='controls'>\n      <Button onClick={onAddWebhook}>\n        Add Webhook\n      </Button>\n    </Elem>\n    <Elem>\n      {webhooks.length === 0? \n        null\n        :\n        <Block name='webhook-list'>\n          {\n            webhooks.map(\n              (obj) => <Elem key={obj.id} name='item'>\n                <Elem name='item-active'>\n                  <Toggle\n                    name={obj.id}\n                    checked={obj.is_active}\n                    onChange={onActiveChange} \n                  />\n                </Elem>\n                <Elem name='item-url' onClick={() => onSelectActive(obj.id)}>\n                  {obj.url}\n                </Elem>\n                <Elem name='item-date'>\n                  Created {format(new Date(obj.created_at), 'dd MMM yyyy, HH:mm')}\n                </Elem>\n                <Elem name='item-control'>\n                  <Button\n                    onClick={() => onSelectActive(obj.id)}\n                    icon={<LsPencil />}\n                  >Edit</Button>\n                  <Button\n                    onClick={()=> WebhookDeleteModal({ \n                      onDelete: async ()=>{\n                        await api.callApi('deleteWebhook', {params:{pk:obj.id}});\n                        await fetchWebhooks();\n                      },\n                    })}\n                    look='danger'\n                    icon={<LsCross />}\n                  >Delete</Button>\n                </Elem>\n              </Elem>,\n            )\n          }\n        </Block>}\n    </Elem>\n  </Block>;\n};\n\n\nexport default WebhookList;\n","\nimport React, { useState, useEffect} from 'react';\nimport { Button } from '../../components';\nimport { Form, Label, Input, Toggle } from '../../components/Form';\nimport { Elem, Block, cn } from '../../utils/bem';\nimport { cloneDeep } from 'lodash';\nimport { LsCross, LsPlus } from '../../assets/icons';\nimport { useAPI } from '../../providers/ApiProvider';\nimport \"./WebhookPage.styl\";\nimport { Space } from '../../components/Space/Space';\nimport { useProject } from '../../providers/ProjectProvider';\nimport { modal } from '../../components/Modal/Modal';\nimport { useModalControls } from \"../../components/Modal/ModalPopup\";\nimport { WebhookDeleteModal } from \"./WebhookDeleteModal\";\nimport { format } from 'date-fns';\n\nconst WebhookDetail = ({ webhook, webhooksInfo, fetchWebhooks, onBack, onSelectActive }) => {\n\n  // if webhook === null - create mod\n  // else update\n  const rootClass = cn('webhook-detail');\n\n  const api = useAPI(); \n  const [headers, setHeaders] = useState(Object.entries(webhook?.headers || []));\n  const [sendForAllActions, setSendForAllActions] = useState(webhook ? webhook.send_for_all_actions : true);\n  const [actions, setActions] = useState(new Set(webhook?.actions));\n  const [isActive, setIsActive] = useState(webhook ? webhook.is_active : true);\n  const [sendPayload, setSendPayload] = useState(webhook ? webhook.send_payload : true);\n\n  const { project } = useProject();\n  \n  const [projectId, setProjectId] = useState(project.id);\n\n  useEffect(()=>{\n    if (Object.keys(project).length === 0) {\n      setProjectId(null);\n    }else{\n      setProjectId(project.id);\n    }\n\n  }, [project]);\n\n  const onAddHeaderClick = () => {\n    setHeaders([...headers, ['', '']]);\n  };\n  const onHeaderRemove = (index) => {\n    let newHeaders = cloneDeep(headers);\n    newHeaders.splice(index, 1);\n    setHeaders(newHeaders);\n  };\n  const onHeaderChange = (aim, event, index) => {\n    let newHeaders = cloneDeep(headers);\n    if (aim === 'key') {\n      newHeaders[index][0] = event.target.value;\n    }\n    if (aim === 'value') {\n      newHeaders[index][1] = event.target.value;\n    }\n    setHeaders(newHeaders);\n  };\n\n  const onActionChange = (event) => {\n    let newActions = new Set(actions);\n    if (event.target.checked) {\n      newActions.add(event.target.name);\n    } else {\n      newActions.delete(event.target.name);\n    }\n    setActions(newActions);\n  };\n\n  useEffect(() => {\n    if (webhook === null) {\n      setHeaders([]);\n      setSendForAllActions(true);\n      setActions(new Set());\n      setIsActive(true);\n      setSendPayload(true);\n      return;\n    }\n    setHeaders(Object.entries(webhook.headers));\n    setSendForAllActions(webhook.send_for_all_actions);\n    setActions(new Set(webhook.actions));\n    setIsActive(webhook.is_active);\n    setSendPayload(webhook.send_payload);\n  }, [webhook]);\n\n  if (projectId===undefined) return <></>;\n  return <Block name='webhook'>\n    <Elem name='title'>\n      <><Elem \n        tag='span' \n        name='title-base'\n        onClick={()=>{onSelectActive(null);}}\n      >Webhooks\n      </Elem>  /  {webhook===null? 'New Webhook' : 'Edit Webhook'}</>\n    </Elem>\n    <Elem name='content'>\n      <Block name={'webhook-detail'}>\n        <Form\n          action={webhook===null ? 'createWebhook' :  'updateWebhook'}\n          params={webhook===null ? {} : { pk: webhook.id }}\n          formData={webhook}\n          prepareData={(data) => {\n            return {\n              ...data,\n              'project': projectId,\n              'send_for_all_actions': sendForAllActions,\n              'headers': Object.fromEntries(headers.filter(([key])=>key!== '')),\n              'actions': Array.from(actions),\n              'is_active': isActive,\n              'send_payload': sendPayload,\n            };\n          }}\n          onSubmit={async (response) => {\n            if (!response.error_message) {\n              await fetchWebhooks();\n              onSelectActive(null);\n            }\n          }}\n        >\n          <Form.Row \n            style={{marginBottom: '40px'}}\n            columnCount={1}\n          >\n            <Label text='Payload URL' style={{marginLeft: '-16px'}} large></Label>\n            <Space className={rootClass.elem('url-space')}>\n              <Input \n                name=\"url\" \n                className={rootClass.elem('url-input')} \n                placeholder=\"URL\" />\n              <Space align='end' className={rootClass.elem('activator')}>\n                <span className={rootClass.elem('black-text')}>Is Active</span>\n                <Toggle \n                  skip\n                  checked={isActive} \n                  onChange={(e) => { setIsActive(e.target.checked); }} \n                />\n              </Space>\n            </Space>\n          </Form.Row>\n          <Form.Row style={{marginBottom: '40px'}} columnCount={1}>\n            <div className={rootClass.elem('headers')}>\n              <div className={rootClass.elem('headers-content')}>\n                <Space spread className={rootClass.elem('headers-control')}>\n                  <Label text=\"Headers\" large />\n                  <Button \n                    type='button' \n                    onClick={onAddHeaderClick} \n                    className={rootClass.elem('headers-add')}\n                    icon={<LsPlus />}\n                  />\n                </ Space>\n                {\n                  headers.map(([headKey, headValue], index) => {\n                    return <Space key={index} className={rootClass.elem('headers-row')} columnCount={3} >\n                      <Input className={rootClass.elem('headers-input')} \n                        skip \n                        placeholder=\"header\" \n                        value={headKey} \n                        onChange={(e) => onHeaderChange('key', e, index)} />\n                      <Input className={rootClass.elem('headers-input')} \n                        skip \n                        placeholder=\"value\"\n                        value={headValue} \n                        onChange={(e) => onHeaderChange('value', e, index)} />\n                      <div>\n                        <Button className={rootClass.elem('headers-remove')} \n                          type='button' \n                          icon={<LsCross />} \n                          onClick={() => onHeaderRemove(index)}></Button>\n                      </div>\n                    </Space>;\n                  })\n                }\n              </div>\n            </div>\n          </Form.Row>\n          <Block name='webhook-payload' style={{marginBottom: '40px'}}>\n            <Elem name='title'>\n              <Label text=\"Payload\" large />\n            </Elem>\n            <Elem name='content'>\n              <Elem name='content-row'>\n                <Toggle \n                  skip\n                  checked={sendPayload}\n                  onChange={(e) => { setSendPayload(e.target.checked); }}\n                  label=\"Send payload\" />\n\n              </Elem>\n              <Elem name='content-row'>\n                <Toggle \n                  skip \n                  checked={sendForAllActions} \n                  label=\"Send for all actions\" \n                  onChange={(e) => { setSendForAllActions(e.target.checked); }} />\n              </Elem>\n              <div >\n                {\n                  !sendForAllActions ?\n                    <Elem name='content-row-actions'>\n                      <Elem tag='h4' name='title' mod={{black:true}}>\n                        Send Payload for\n                      </Elem>\n                      <Elem name='actions'>\n                        {Object.entries(webhooksInfo).map(([key, value]) => {\n                          return <Form.Row key={key} columnCount={1}>\n                            <div>\n                              <Toggle \n                                skip \n                                name={key} \n                                type='checkbox' \n                                label={value.name} \n                                onChange={onActionChange} \n                                checked={actions.has(key)}></Toggle>\n                            </div>\n                          </Form.Row>;\n                        })}\n                      </Elem>\n                    </Elem>\n                    :\n                    null\n                }\n              </div>\n            </Elem>\n          </Block>\n          <Elem name='controls'>\n            {\n              webhook === null ?\n                null\n                :\n                <Button \n                  look=\"danger\"\n                  type='button'\n                  className={rootClass.elem('delete-button')}\n                  onClick={()=> WebhookDeleteModal({ \n                    onDelete: async ()=>{\n                      await api.callApi('deleteWebhook', {params:{pk:webhook.id}});\n                      onBack();\n                      await fetchWebhooks();\n                    },\n                  })}>\n                Delete Webhook...\n                </Button>\n            }\n            <div className={rootClass.elem('status')}>\n              <Form.Indicator />\n            </div>\n            <Button \n              type='button'\n              className={rootClass.elem('cancel-button')}\n              onClick={onBack}\n            >Cancel\n            </Button>\n            <Button \n              primary\n              className={rootClass.elem('save-button')}\n            >\n              { webhook===null ? 'Add Webhook': 'Save' }\n            </Button>\n          </Elem>\n        </Form>\n      </Block>\n\n    </Elem>\n  </Block >;\n};\n\nexport default WebhookDetail;\n\n\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\n\nimport { useAPI } from '../../providers/ApiProvider';\nimport \"./WebhookPage.styl\";\n\n\nimport WebhookList from './WebhookList';\nimport WebhookDetail from './WebhookDetail';\nimport { useProject } from '../../providers/ProjectProvider';\nimport { Button, Spinner } from '../../components';\nimport { Block, Elem } from '../../utils/bem';\nimport { IconInfo } from '../../assets/icons';\nimport { useHistory } from 'react-router';\n\nconst Webhook = () => {\n  const [activeWebhook, setActiveWebhook] = useState(null);\n  const [webhooks, setWebhooks] = useState(null);\n  const [webhooksInfo, setWebhooksInfo] = useState(null);\n\n\n  const history = useHistory();\n\n  const api = useAPI();\n  const { project } = useProject();\n  \n  \n\n  const projectId = useMemo(()=>{\n    if (history.location.pathname.startsWith('/projects')){\n      if (Object.keys(project).length === 0) {\n        return null;\n      }else{\n        return project.id;\n      }\n    }else{\n      return undefined;\n    }\n  }, [project, history]);\n  console.log(projectId, history.location.pathname);\n  const fetchWebhooks = useCallback(async () => {\n    if (projectId === null) {\n      setWebhooks(null);\n      return;\n    }\n    let params = {};\n    if (projectId !== undefined){\n      params['project'] = projectId;\n    } else {\n      params['project'] = null;\n    }\n    const webhooks = await api.callApi('webhooks', {\n      params,\n    });\n    if (webhooks) setWebhooks(webhooks);\n  }, [api, projectId]);\n\n  const fetchWebhooksInfo = useCallback(async () => {\n    if (projectId === null) {\n      setWebhooksInfo(null);\n      return;\n    }\n    let params = {};\n    if (projectId !== undefined){\n      params['organization-only'] = false;\n    }\n\n    const info = await api.callApi('webhooksInfo',\n      {\n        params,\n      },\n    );\n    if (info) setWebhooksInfo(info);\n  }, [api, projectId]);\n\n  useEffect(() => {\n    fetchWebhooks();\n    fetchWebhooksInfo();\n  }, [api, project, projectId]);\n\n  if (webhooks === null || webhooksInfo === null || projectId === null) {\n    return null;\n  }\n  let content = null;\n  if (activeWebhook==='new') {\n    content = <WebhookDetail\n      onSelectActive={setActiveWebhook}\n      onBack={() => setActiveWebhook(null)}\n      webhook={null}\n      fetchWebhooks={fetchWebhooks}\n      webhooksInfo={webhooksInfo} />;  \n  } else if (activeWebhook === null) {\n    content = <WebhookList\n      onSelectActive={setActiveWebhook}\n      onAddWebhook={()=>{setActiveWebhook('new');}}\n      fetchWebhooks={fetchWebhooks}\n      webhooks={webhooks}       \n    />;\n  } else {\n    content = <WebhookDetail\n      onSelectActive={setActiveWebhook}\n      onBack={() => setActiveWebhook(null)}\n      webhook={webhooks[webhooks.findIndex((x) => x.id === activeWebhook)]}\n      fetchWebhooks={fetchWebhooks}\n      webhooksInfo={webhooksInfo} />;\n  }\n  return <Block name='webhook-wrap'>\n    {content}\n    <Elem name=\"footer\">\n      <Elem name='footer-icon'>\n        <IconInfo width='28' height='28'/>\n      </Elem>\n      <Elem name='footer-text'>\n        <p>\n        Webhooks allow external services to be notified when certain events happen. \n        When the specified events occur, a POST request is sent to each of the URLs you provide. \n        </p>\n        <p>\n          <a href=\"https://labelstud.io/guide/webhooks.html\">Read more in the documentation</a>.\n        </p>\n      </Elem>\n    </Elem>\n  </Block>;\n};\n\nexport const WebhookPage = {\n  title: \"Webhooks\",\n  path: \"/webhooks\",\n  component: Webhook,\n};","import { useMemo, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Button } from \"../../components\";\nimport { Label } from \"../../components/Form\";\nimport { confirm } from \"../../components/Modal/Modal\";\nimport { Space } from \"../../components/Space/Space\";\nimport { Spinner } from \"../../components/Spinner/Spinner\";\nimport { useAPI } from \"../../providers/ApiProvider\";\nimport { useProject } from \"../../providers/ProjectProvider\";\n\nexport const DangerZone = () => {\n  const {project} = useProject();\n  const api = useAPI();\n  const history = useHistory();\n  const [processing, setProcessing] = useState(null);\n\n  const handleOnClick = (type) => () => {\n    confirm({\n      title: \"Action confirmation\",\n      body: \"You're about to delete all things. This action cannot be undone.\",\n      okText: \"Proceed\",\n      buttonLook: \"destructive\",\n      onOk: async () => {\n        setProcessing(type);\n        if(type === 'annotations') {\n          // console.log('delete annotations');\n        } else if(type === 'tasks') {\n          // console.log('delete tasks');\n        } else if(type === 'predictions') {\n          // console.log('delete predictions');\n        } else if(type === 'tabs') {\n          await api.callApi('deleteTabs', {\n            body: {\n              project: project.id,\n            },\n          });\n        } else if(type === 'project') {\n          await api.callApi('deleteProject', {\n            params: {\n              pk: project.id,\n            },\n          });\n          history.replace('/projects');\n        }\n        setProcessing(null);\n      },\n    });\n  };\n\n  const buttons = useMemo(() => [{\n    type: 'annotations',\n    disabled: true, //&& !project.total_annotations_number,\n    label: `Delete ${project.total_annotations_number} Annotations`,\n  }, {\n    type: 'tasks',\n    disabled: true, //&& !project.task_number,\n    label: `Delete ${project.task_number} Tasks`,\n  }, {\n    type: 'predictions',\n    disabled: true, //&& !project.total_predictions_number,\n    label: `Delete ${project.total_predictions_number} Predictions`,\n  }, {\n    type: 'tabs',\n    label: `Drop All Tabs`,\n  }, {\n    type: 'project',\n    label: 'Delete Project',\n  }], [project]);\n\n  return (\n    <div style={{width: 480}}>\n      <Label\n        text=\"Delete Annotations, Tasks, orProject\"\n        description=\"Perform these actions at your own risk. Actions you take on this page can't be reverted. Make sure your data is backed up.\"\n        style={{display: 'block', width: 415}}\n      />\n\n      {project.id ? (\n        <Space direction=\"vertical\" spread style={{marginTop: 32}}>\n          {buttons.map((btn) => {\n            const waiting = processing === btn.type;\n            const disabled = btn.disabled || (processing && !waiting);\n            return (btn.disabled !== true) && (\n              <Button key={btn.type} look=\"danger\" disabled={disabled} waiting={waiting} onClick={handleOnClick(btn.type)}>\n                {btn.label}\n              </Button>\n            );\n          })}\n        </Space>\n      ) : (\n        <div style={{display: \"flex\", justifyContent: \"center\", marginTop: 32}}>\n          <Spinner size={32}/>\n        </div>\n      )}\n    </div>\n  );\n};\n\nDangerZone.title = \"Danger Zone\";\nDangerZone.path = \"/danger-zone\";\n","// extracted by mini-css-extract-plugin\nexport default {\"radio-group\":\"ls-radio-group\",\"radio-group__buttons\":\"ls-radio-group__buttons\",\"radio-group__button\":\"ls-radio-group__button\",\"radio-group__button_checked\":\"ls-radio-group__button_checked\",\"radio-group__button_disabled\":\"ls-radio-group__button_disabled\",\"radio-group__input\":\"ls-radio-group__input\",\"radio-group_size_large\":\"ls-radio-group_size_large\",\"radio-group_size_compact\":\"ls-radio-group_size_compact\",\"radio-group_size_small\":\"ls-radio-group_size_small\",\"radio-group_simple\":\"ls-radio-group_simple\"};","import React, { createContext, useCallback, useContext, useEffect, useState } from \"react\";\nimport { Label } from \"..\";\nimport { BemWithSpecifiContext } from \"../../../../utils/bem\";\nimport { FormField } from \"../../FormField\";\nimport \"./RadioGroup.styl\";\n\nconst RadioContext = createContext();\nconst {Block, Elem} = BemWithSpecifiContext();\n\nexport const RadioGroup = ({label, className, validate, required, skip, simple, labelProps, size, value, onChange, children, ...props }) => {\n  const [currentValue, setCurrentValue] = useState(value);\n\n  const onRadioChange = (value) => {\n    setCurrentValue(value);\n    onChange?.(value);\n  };\n\n  const field = (\n    <FormField\n      name={props.name}\n      label={label}\n      validate={validate}\n      required={required}\n      skip={skip}\n      setValue={value => setCurrentValue(value)}\n      {...props}\n    >\n      {(ref, dep, form) => (\n        <RadioContext.Provider\n          value={{\n            value: currentValue,\n            onChange: (value) => {\n              onRadioChange(value);\n              form.autosubmit();\n            },\n            setValue: setCurrentValue,\n            isSimple: simple === true,\n          }}\n        >\n          <Block name=\"radio-group\" mod={{size, simple}} mix={className}>\n            <input ref={ref} name={props.name} type=\"hidden\" defaultValue={currentValue}/>\n            <Elem name=\"buttons\">\n              {children}\n            </Elem>\n          </Block>\n        </RadioContext.Provider>\n      )}\n    </FormField>\n  );\n\n  return label ? <Label {...(labelProps ?? {})} text={label} simple={simple} required={required}>{field}</Label> : field;\n};\n\nconst RadioButton = ({ value, disabled, children, label, description, ...props }) => {\n  const { onChange, setValue, value: currentValue, isSimple } = useContext(RadioContext);\n  const checked = value === currentValue;\n\n  const clickHandler = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    onChange(value);\n  }, [value]);\n\n  useEffect(() => {\n    if (props.checked) setValue(value);\n  }, [props.checked]);\n\n  return (\n    <Elem name=\"button\" mod={{ checked, disabled }} onClickCapture={clickHandler}>\n      {isSimple ? (\n        <Label placement=\"right\" text={label} description={description}>\n          <input type=\"radio\" value={value} checked={checked} readOnly style={{pointerEvents: 'none'}}/>\n        </Label>\n      ) : children}\n    </Elem>\n  );\n};\n\nRadioGroup.Button = RadioButton;\n","import React, { useCallback, useContext } from 'react';\nimport { Button } from '../../components';\nimport { Form, Input, TextArea } from '../../components/Form';\nimport { RadioGroup } from '../../components/Form/Elements/RadioGroup/RadioGroup';\nimport { ProjectContext } from '../../providers/ProjectProvider';\nimport { Block } from '../../utils/bem';\n\nexport const GeneralSettings = () => {\n  const {project, fetchProject} = useContext(ProjectContext);\n\n  const updateProject = useCallback(() => {\n    if (project.id) fetchProject(project.id, true);\n  }, [project]);\n\n  const colors = [\n    '#FFFFFF',\n    '#F52B4F',\n    '#FA8C16',\n    '#F6C549',\n    '#9ACA4F',\n    '#51AAFD',\n    '#7F64FF',\n    '#D55C9D',\n  ];\n\n  const samplings = [\n    {value: \"Sequential\", label: \"Sequential\", description: \"Tasks are ordered by Data manager ordering\"},\n    {value: \"Uniform\", label: \"Random\", description: \"Tasks are chosen with uniform random\"},\n  ];\n\n  return (\n    <div style={{width: 480}}>\n      <Form\n        action=\"updateProject\"\n        formData={{...project}}\n        params={{pk: project.id}}\n        onSubmit={updateProject}\n      >\n        <Form.Row columnCount={1} rowGap=\"32px\">\n          <Input\n            name=\"title\"\n            label=\"Project Name\"\n            labelProps={{large: true}}\n          />\n\n          <TextArea\n            name=\"description\"\n            label=\"Description\"\n            labelProps={{large: true}}\n            style={{minHeight: 128}}\n          />\n\n          <RadioGroup name=\"color\" label=\"Color\" size=\"large\" labelProps={{size: \"large\"}}>\n            {colors.map(color => (\n              <RadioGroup.Button key={color} value={color}>\n                <Block name=\"color\" style={{'--background': color}}/>\n              </RadioGroup.Button>\n            ))}\n          </RadioGroup>\n\n          <RadioGroup label=\"Task Sampling\" labelProps={{size: \"large\"}} name=\"sampling\" simple>\n            {samplings.map(({value, label, description}) => (\n              <RadioGroup.Button\n                key={value}\n                value={`${value} sampling`}\n                label={`${label} sampling`}\n                description={description}\n              />\n            ))}\n          </RadioGroup>\n        </Form.Row>\n\n        <Form.Actions>\n          <Form.Indicator>\n            <span case=\"success\">Saved!</span>\n          </Form.Indicator>\n          <Button type=\"submit\" look=\"primary\" style={{width: 120}}>Save</Button>\n        </Form.Actions>\n      </Form>\n    </div>\n  );\n};\n\nGeneralSettings.menuItem = \"General\";\nGeneralSettings.path = \"/\";\nGeneralSettings.exact = true;\n","import { useCallback, useContext, useEffect, useRef } from 'react';\nimport { Button } from '../../components';\nimport { Form, Label, TextArea, Toggle } from '../../components/Form';\nimport { MenubarContext } from '../../components/Menubar/Menubar';\nimport { ProjectContext } from '../../providers/ProjectProvider';\n\nexport const InstructionsSettings = () => {\n  const {project, fetchProject} = useContext(ProjectContext);\n  const pageContext = useContext(MenubarContext);\n  const formRef = useRef();\n\n  useEffect(() => {\n    pageContext.setProps({formRef});\n  }, [formRef]);\n\n  const updateProject = useCallback(() => {\n    fetchProject(project.id, true);\n  }, [project]);\n\n  return (\n    <div style={{width: 480}}>\n      <Form ref={formRef} action=\"updateProject\" formData={{...project}} params={{pk: project.id}} onSubmit={updateProject}>\n        <Form.Row columnCount={1}>\n          <Label text=\"Labeling Instructions\" large/>\n          <div style={{paddingLeft: 16}}>\n            <Toggle label=\"Show before labeling\" name=\"show_instruction\"/>\n          </div>\n          <div style={{color: \"rgba(0,0,0,0.4)\", paddingLeft: 16}}>\n            Write instructions to help users complete labeling tasks.\n          </div>\n        </Form.Row>\n\n        <Form.Row columnCount={1}>\n          <TextArea name=\"expert_instruction\" style={{minHeight: 128}}/>\n        </Form.Row>\n\n        <Form.Actions>\n          <Form.Indicator>\n            <span case=\"success\">Saved!</span>\n          </Form.Indicator>\n          <Button type=\"submit\" look=\"primary\" style={{width: 120}}>Save</Button>\n        </Form.Actions>\n      </Form>\n    </div>\n  );\n};\n\nInstructionsSettings.title = \"Instructions\";\nInstructionsSettings.path = \"/instruction\";\n","import { useCallback, useMemo, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { confirm } from '../../components/Modal/Modal';\nimport { useAPI } from '../../providers/ApiProvider';\nimport { useProject } from '../../providers/ProjectProvider';\nimport { isEmptyString } from '../../utils/helpers';\nimport { ConfigPage } from '../CreateProject/Config/Config';\n\nexport const LabelingSettings = () => {\n  const history = useHistory();\n  const {project, fetchProject} = useProject();\n  const [config, setConfig] = useState(\"\");\n  const [essentialDataChanged, setEssentialDataChanged] = useState(false);\n  const api = useAPI();\n\n  const saveConfig = useCallback(async () => {\n    const res = await api.callApi(\"updateProjectRaw\", {\n      params: {\n        pk: project.id,\n      },\n      body: {\n        label_config: config,\n      },\n    });\n\n    if (res.ok) {\n      history.push(`/projects/${project.id}/data`);\n      return true;\n    }\n\n    const error = await res.json();\n    fetchProject();\n    return error;\n  }, [project, config]);\n\n  const projectAlreadySetUp = useMemo(() => {\n    if (project.label_config) {\n      const hasConfig = !isEmptyString(project.label_config);\n      const configIsEmpty = project.label_config.replace(/\\s/g, '') === '<View></View>';\n      const hasTasks = project.task_number > 0;\n\n      console.log({hasConfig, configIsEmpty, hasTasks, project});\n      return (hasConfig && !configIsEmpty) && hasTasks;\n    }\n    return false;\n  }, [project]);\n\n  const onSave = useCallback(async () => {\n    if (essentialDataChanged && projectAlreadySetUp) {\n      confirm({\n        title: \"Config data changed\",\n        body: \"Labeling config has essential changes that affect data displaying. Saving the config may lead to deleting all tabs previously created in the Data Manager.\",\n        buttonLook: \"destructive\",\n        onOk: () => saveConfig(),\n        okText: \"Save\",\n      });\n    } else {\n      saveConfig();\n    }\n  }, [essentialDataChanged, saveConfig]);\n\n  const onUpdate = useCallback((config) => {\n    setConfig(config);\n    fetchProject();\n  });\n\n  const onValidate = useCallback((validation) => {\n    setEssentialDataChanged(validation.config_essential_data_has_changed);\n  }, []);\n\n  if (!project.id) return null;\n\n  return (\n    <ConfigPage\n      config={project.label_config}\n      project={project}\n      onUpdate={onUpdate}\n      onSaveClick={onSave}\n      onValidate={onValidate}\n    />\n  );\n};\n\nLabelingSettings.title = \"Labeling Interface\";\nLabelingSettings.path = \"/labeling\";\n","// extracted by mini-css-extract-plugin\nexport default {\"description\":\"ls-description\",\"description_size_small\":\"ls-description_size_small\",\"description_size_medium\":\"ls-description_size_medium\",\"description_size_large\":\"ls-description_size_large\",\"description_noOffset\":\"ls-description_noOffset\"};","import { Block } from \"../../utils/bem\";\nimport './Description.styl';\n\nexport const Description = ({children, className, size = 'medium', noOffset = false, ...rest}) => {\n  return (\n    <Block name=\"description\" mod={{size, noOffset}} mix={className} {...rest}>\n      {children}\n    </Block>\n  );\n};\n","import React from 'react';\n\nexport const Divider = ({height}) => {\n  return <div style={{height: height}}/>;\n};\n","import React from 'react';\nimport { ApiContext } from '../../providers/ApiProvider';\nimport { Block } from '../../utils/bem';\nimport { ErrorWrapper } from './Error';\n\nexport const InlineError = ({children, includeValidation, className, style}) => {\n  const context = React.useContext(ApiContext);\n\n  React.useEffect(() => {\n    context.showModal = false;\n  }, [context]);\n\n  return context.error ? (\n    <Block name=\"inline-error\" mix={className} style={style}>\n      <ErrorWrapper\n        possum={false}\n        {...context.errorFormatter(context.error, {includeValidation})}\n      />\n      {children}\n    </Block>\n  ) : null;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"dl\":\"ls-dl\",\"dl__dt\":\"ls-dl__dt\",\"dl__dd\":\"ls-dl__dd\"};","import React from 'react';\nimport { cn } from '../../utils/bem';\nimport './DescriptionList.styl';\n\nexport const DescriptionList = ({style, className, children}) => {\n  return (\n    <dl className={cn('dl').mix(className)} style={style}>\n      {children}\n    </dl>\n  );\n};\n\nDescriptionList.Item = ({ retmClassName, descriptionClassName, term, descriptionStyle, termStyle, children }) => {\n  return (\n    <>\n      <dt className={cn('dl').elem('dt').mix(retmClassName)} style={descriptionStyle}>{term}</dt>\n      <dd className={cn('dl').elem('dd').mix(descriptionClassName)} style={termStyle}>{children}</dd>\n    </>\n  );\n};\n","import { format } from 'date-fns';\nimport { useCallback, useContext } from 'react';\nimport { FaEllipsisV } from 'react-icons/fa';\nimport truncate from 'truncate-middle';\nimport { Button, Card, Dropdown, Menu } from '../../../components';\nimport { DescriptionList } from '../../../components/DescriptionList/DescriptionList';\nimport { confirm } from '../../../components/Modal/Modal';\nimport { Oneof } from '../../../components/Oneof/Oneof';\nimport { ApiContext } from '../../../providers/ApiProvider';\nimport { cn } from '../../../utils/bem';\n\nexport const MachineLearningList = ({ backends, fetchBackends, onEdit }) => {\n  const rootClass = cn('ml');\n  const api = useContext(ApiContext);\n\n  const onDeleteModel = useCallback(async (backend) => {\n    await api.callApi('deleteMLBackend', {\n      params: {\n        pk: backend.id,\n      },\n    });\n    await fetchBackends();\n  }, [fetchBackends, api]);\n\n  const onStartTraining = useCallback(async (backend) => {\n    await api.callApi('trainMLBackend', {\n      params: {\n        pk: backend.id,\n      },\n    });\n    await fetchBackends();\n  }, [fetchBackends, api]);\n\n  return (\n    <div className={rootClass}>\n      {backends.map(backend => (\n        <BackendCard\n          key={backend.id}\n          backend={backend}\n          onStartTrain={onStartTraining}\n          onDelete={onDeleteModel}\n          onEdit={onEdit}\n        />\n      ))}\n    </div>\n  );\n};\n\nconst BackendCard = ({backend, onStartTrain, onEdit, onDelete}) => {\n  const confirmDelete = useCallback((backend) => {\n    confirm({\n      title: \"Delete ML Backend\",\n      body: \"This action cannot be undone. Are you sure?\",\n      buttonLook: \"destructive\",\n      onOk(){ onDelete?.(backend); },\n    });\n  }, [backend, onDelete]);\n\n  return (\n    <Card style={{marginTop: 0}} header={backend.title} extra={(\n      <div className={cn('ml').elem('info')}>\n        <BackendState backend={backend}/>\n\n        <Dropdown.Trigger align=\"right\" content={(\n          <Menu size=\"small\">\n            <Menu.Item onClick={() => onEdit(backend)}>Edit</Menu.Item>\n            <Menu.Item onClick={() => confirmDelete(backend)}>Delete</Menu.Item>\n          </Menu>\n        )}>\n          <Button type=\"link\" icon={<FaEllipsisV/>}/>\n        </Dropdown.Trigger>\n      </div>\n    )}>\n      <DescriptionList className={cn('ml').elem('summary')}>\n        <DescriptionList.Item term=\"URL\" termStyle={{whiteSpace: 'nowrap'}}>\n          {truncate(backend.url, 20, 10, '...')}\n        </DescriptionList.Item>\n        {backend.description && (\n          <DescriptionList.Item\n            term=\"Description\"\n            children={backend.description}\n          />\n        )}\n        <DescriptionList.Item term=\"Version\">\n          {backend.version ? format(new Date(backend.version), 'MMMM dd, yyyy  HH:mm:ss') : 'unknown'}\n        </DescriptionList.Item>\n      </DescriptionList>\n\n      <Button disabled={backend.state !== \"CO\"} onClick={() => onStartTrain(backend)}>\n        Start Training\n      </Button>\n    </Card>\n  );\n};\n\nconst BackendState = ({backend}) => {\n  const { state } = backend;\n  return (\n    <div className={cn('ml').elem('status')}>\n      <span className={cn('ml').elem('indicator').mod({state})}></span>\n      <Oneof value={state} className={cn('ml').elem('status-label')}>\n        <span case=\"DI\">Disconnected</span>\n        <span case=\"CO\">Connected</span>\n        <span case=\"ER\">Error</span>\n        <span case=\"TR\">Training</span>\n        <span case=\"PR\">Predicting</span>\n      </Oneof>\n    </div>\n  );\n};\n","import { useCallback, useContext, useEffect, useState } from 'react';\nimport { Button } from '../../../components';\nimport { Description } from '../../../components/Description/Description';\nimport { Divider } from '../../../components/Divider/Divider';\nimport { ErrorWrapper } from '../../../components/Error/Error';\nimport { InlineError } from '../../../components/Error/InlineError';\nimport { Form, Input, Label, Select, TextArea, Toggle } from '../../../components/Form';\nimport { FormResponseContext } from '../../../components/Form/FormContext';\nimport { modal } from '../../../components/Modal/Modal';\nimport { useAPI } from '../../../providers/ApiProvider';\nimport { ProjectContext } from '../../../providers/ProjectProvider';\nimport { MachineLearningList } from './MachineLearningList';\nimport './MachineLearningSettings.styl';\n\nexport const MachineLearningSettings = () => {\n  const api = useAPI();\n  const { project, fetchProject, updateProject } = useContext(ProjectContext);\n  const [mlError, setMLError] = useState();\n  const [backends, setBackends] = useState([]);\n  const [versions, setVersions] = useState([]);\n\n  const resetMLVersion = useCallback(async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    await updateProject({\n      model_version: null,\n    });\n  }, [api, project]);\n\n  const fetchBackends = useCallback(async () => {\n    const models = await api.callApi('mlBackends', {\n      params: {\n        project: project.id,\n      },\n    });\n\n\n    if (models) setBackends(models);\n  }, [api, project, setBackends]);\n\n  const fetchMLVersions = useCallback(async () => {\n    const modelVersions = await api.callApi(\"modelVersions\", {\n      params: {\n        pk: project.id,\n      },\n    });\n\n    var versions = [];\n\n    for (const [key, value] of Object.entries(modelVersions)) {\n      versions.push({\n        value: key,\n        label: key + \" (\" + value + \" predictions)\",\n      });\n    }\n\n    setVersions(versions);\n  }, [api, project.id]);\n\n  const showMLFormModal = useCallback((backend) => {\n    const action = backend ? \"updateMLBackend\" : \"addMLBackend\";\n\n    console.log({ backend });\n    const modalProps = {\n      title: `${backend ? 'Edit' : 'Add'} model`,\n      style: { width: 760 },\n      closeOnClickOutside: false,\n      body: (\n        <Form\n          action={action}\n          formData={{ ...(backend ?? {}) }}\n          params={{ pk: backend?.id }}\n          onSubmit={async (response) => {\n            if (!response.error_message) {\n              await fetchBackends();\n              modalRef.close();\n            }\n          }}\n        >\n          <Input type=\"hidden\" name=\"project\" value={project.id}/>\n\n          <Form.Row columnCount={2}>\n            <Input name=\"title\" label=\"Title\" placeholder=\"ML Model\"/>\n            <Input name=\"url\" label=\"URL\" required/>\n          </Form.Row>\n\n          <Form.Row columnCount={1}>\n            <TextArea name=\"description\" label=\"Description\" style={{ minHeight: 120 }}/>\n          </Form.Row>\n\n          <Form.Row columnCount={1}>\n            <Toggle\n              name=\"is_interactive\"\n              label=\"Use for interactive preannotations\"\n            />\n          </Form.Row>\n\n          <Form.Actions>\n            <Button type=\"submit\" look=\"primary\" onClick={() => setMLError(null)}>\n              Validate and Save\n            </Button>\n          </Form.Actions>\n\n          <Form.ResponseParser>{response => (\n            <>\n              {response.error_message && (\n                <ErrorWrapper error={{\n                  response: {\n                    detail: `Failed to ${backend ? 'save' : 'add new'} ML backend.`,\n                    exc_info: response.error_message,\n                  },\n                }}/>\n              )}\n            </>\n          )}</Form.ResponseParser>\n\n          <InlineError/>\n        </Form>\n      ),\n    };\n\n    const modalRef = modal(modalProps);\n  }, [project, fetchBackends, mlError]);\n\n  useEffect(() => {\n    if (project.id) {\n      fetchBackends();\n      fetchMLVersions();\n    }\n  }, [project]);\n\n  return (\n    <>\n      <Description style={{ marginTop: 0, maxWidth: 680 }}>\n        Add one or more machine learning models to predict labels for your data.\n        To import predictions without connecting a model.\n      </Description>\n      <Button onClick={() => showMLFormModal()}>\n        Add Model\n      </Button>\n\n      <Divider height={32}/>\n\n      <Form action=\"updateProject\"\n        formData={{ ...project }}\n        params={{ pk: project.id }}\n        onSubmit={() => fetchProject()}\n        autosubmit\n      >\n        <Form.Row columnCount={1}>\n          <Label text=\"ML-Assisted Labeling\" large/>\n\n          <div style={{ paddingLeft: 16 }}>\n            <Toggle\n              label=\"Start model training after any annotations are submitted or updated\"\n              name=\"start_training_on_annotation_update\"\n            />\n          </div>\n\n          <div style={{ paddingLeft: 16 }}>\n            <Toggle\n              label=\"Retrieve predictions when loading a task automatically\"\n              name=\"evaluate_predictions_automatically\"\n            />\n          </div>\n\n          <div style={{ paddingLeft: 16 }}>\n            <Toggle\n              label=\"Show predictions to annotators in the Label Stream and Quick View\"\n              name=\"show_collab_predictions\"\n            />\n          </div>\n        </Form.Row>\n\n        {versions.length > 1 && (\n          <Form.Row columnCount={1}>\n            <Label\n              text=\"Model Version\"\n              description=\"Model version allows you to specify which prediction will be shown to the annotators.\"\n              style={{ marginTop: 16 }}\n              large\n            />\n\n            <div style={{ display: 'flex', alignItems: 'center', width: 400, paddingLeft: 16 }}>\n              <div style={{ flex: 1, paddingRight: 16 }}>\n                <Select\n                  name=\"model_version\"\n                  defaultValue={null}\n                  options={[\n                    ...versions,\n                  ]}\n                  placeholder=\"No model version selected\"\n                />\n              </div>\n\n              <Button onClick={resetMLVersion}>\n                Reset\n              </Button>\n            </div>\n\n          </Form.Row>\n        )}\n      </Form>\n\n      <MachineLearningList\n        onEdit={(backend) => showMLFormModal(backend)}\n        fetchBackends={fetchBackends}\n        backends={backends}\n      />\n    </>\n  );\n};\n\nMachineLearningSettings.title = \"Machine Learning\";\nMachineLearningSettings.path = \"/ml\";\n","import { format } from 'date-fns/esm';\nimport React from 'react';\nimport { DescriptionList } from '../../../components/DescriptionList/DescriptionList';\nimport { Oneof } from '../../../components/Oneof/Oneof';\n\nexport const StorageSummary = ({storage, className, storageTypes = []}) => {\n  return (\n    <div className={className}>\n      <DescriptionList>\n        <DescriptionList.Item term=\"Type\">\n          {storageTypes.find(s => s.name === storage.type)?.title ?? storage.type}\n        </DescriptionList.Item>\n        <Oneof value={storage.type}>\n          <SummaryS3 case=\"s3\" storage={storage}/>\n          <GSCStorage case=\"gcs\" storage={storage}/>\n          <AzureStorage case=\"azure\" storage={storage}/>\n          <RedisStorage case=\"redis\" storage={storage}/>\n          <LocalStorage case=\"localfiles\" storage={storage}/>\n        </Oneof>\n        <DescriptionList.Item term=\"Last Sync\">\n          {storage.last_sync ? format(new Date(storage.last_sync), 'MMMM dd, yyyy  HH:mm:ss') : \"Never synced\"}\n        </DescriptionList.Item>\n      </DescriptionList>\n    </div>\n  );\n};\n\nconst SummaryS3 = ({ storage }) => {\n  return (\n    <DescriptionList.Item term=\"Bucket\">\n      {storage.bucket}\n    </DescriptionList.Item>\n  );\n};\n\nconst GSCStorage = ({storage}) => {\n  return (\n    <DescriptionList.Item term=\"Bucket\">\n      {storage.bucket}\n    </DescriptionList.Item>\n  );\n};\n\nconst AzureStorage = ({storage}) => {\n  return (\n    <DescriptionList.Item term=\"Container\">\n      {storage.container}\n    </DescriptionList.Item>\n  );\n};\n\nconst RedisStorage = ({storage}) => {\n  return (\n    <>\n      <DescriptionList.Item term=\"Path\">\n        {storage.path}\n      </DescriptionList.Item>\n      <DescriptionList.Item term=\"Host\">\n        {storage.host}{storage.port ? `:${storage.post}` : ''}\n      </DescriptionList.Item>\n    </>\n  );\n};\n\nconst LocalStorage = ({storage}) => {\n  return (\n    <DescriptionList.Item term=\"Path\">\n      {storage.path}\n    </DescriptionList.Item>\n  );\n};\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport { FaEllipsisV } from \"react-icons/fa\";\nimport { Button, Card, Dropdown, Menu } from \"../../../components\";\nimport { Space } from \"../../../components/Space/Space\";\nimport { ApiContext } from \"../../../providers/ApiProvider\";\nimport { StorageSummary } from \"./StorageSummary\";\n\nexport const StorageCard = ({\n  rootClass,\n  target,\n  storage,\n  onEditStorage,\n  onDeleteStorage,\n  storageTypes,\n}) => {\n  const [syncing, setSyncing] = useState(false);\n  const api = useContext(ApiContext);\n  const [storageData, setStorageData] = useState({ ...storage });\n  const [synced, setSynced] = useState(null);\n\n  const startSync = useCallback(async () => {\n    setSyncing(true);\n    setSynced(null);\n\n\n    const result = await api.callApi('syncStorage', {\n      params: {\n        target,\n        type: storageData.type,\n        pk: storageData.id,\n      },\n    });\n\n    if (result) {\n      setStorageData(result);\n      setSynced(result.last_sync_count);\n    }\n\n    setSyncing(false);\n  }, [storage]);\n\n  useEffect(() => {\n    setStorageData(storage);\n  }, [storage]);\n\n  return (\n    <Card\n      header={storageData.title ?? `Untitled ${storageData.type}`}\n      extra={(\n        <Dropdown.Trigger align=\"right\" content={(\n          <Menu size=\"compact\" style={{ width: 110 }}>\n            <Menu.Item onClick={() => onEditStorage(storageData)}>Edit</Menu.Item>\n            <Menu.Item onClick={() => onDeleteStorage(storageData)}>Delete</Menu.Item>\n          </Menu>\n        )}>\n          <Button type=\"link\" style={{ width: 32, height: 32, marginRight: -10 }} icon={<FaEllipsisV/>}/>\n        </Dropdown.Trigger>\n      )}\n    >\n      <StorageSummary\n        storage={storageData}\n        className={rootClass.elem('summary')}\n        storageTypes={storageTypes}\n      />\n      <div className={rootClass.elem('sync')}>\n        <Space size=\"small\">\n          <Button waiting={syncing} onClick={startSync}>\n              Sync Storage\n          </Button>\n          {synced !== null ? (\n            <div className={rootClass.elem('sync-count')}>\n                Synced {synced} task(s)\n            </div>\n          ) : null}\n        </Space>\n      </div>\n    </Card>\n  );\n};\n","import { forwardRef, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button } from '../../../components';\nimport { InlineError } from '../../../components/Error/InlineError';\nimport { Form, Input } from '../../../components/Form';\nimport { Oneof } from '../../../components/Oneof/Oneof';\nimport { ApiContext } from '../../../providers/ApiProvider';\nimport { Block, Elem } from '../../../utils/bem';\nimport { isDefined } from '../../../utils/helpers';\n\nexport const StorageForm = forwardRef(({\n  onSubmit,\n  target,\n  project,\n  rootClass,\n  storage,\n  storageTypes,\n}, ref) => {\n  /**@type {import('react').RefObject<Form>} */\n  const api = useContext(ApiContext);\n  const formRef = ref ?? useRef();\n  const [type, setType] = useState(storage?.type ?? storageTypes?.[0]?.name ?? 's3');\n  const [checking, setChecking] = useState(false);\n  const [connectionValid, setConnectionValid] = useState(null);\n  const [formFields, setFormFields] = useState([]);\n\n  useEffect(() => {\n    api.callApi('storageForms', {\n      params: {\n        target,\n        type,\n      },\n    }).then(formFields => setFormFields(formFields ?? []));\n  }, [type]);\n\n  const storageTypeSelect = { columnCount: 1, fields: [{\n    skip: true,\n    type: \"select\",\n    name: \"storage_type\",\n    label: \"Storage Type\",\n    disabled: !!storage,\n    options: storageTypes.map(({ name, title }) => ({\n      value: name, label: title,\n    })),\n    value: storage?.type ?? type,\n    onChange: (e) => {\n      setType(e.target.value);\n    },\n  }] };\n\n  const validateStorageConnection = useCallback(async () => {\n    setChecking(true);\n    setConnectionValid(null);\n\n    const form = formRef.current;\n\n    if (form && form.validateFields()) {\n      const body = form.assembleFormData({ asJSON: true });\n      const type = form.getField('storage_type').value;\n\n      if (isDefined(storage?.id)) {\n        body.id = storage.id;\n      }\n\n      // we're using api provided by the form to be able to save\n      // current api context and render inline erorrs properly\n      const response = await form.api.callApi('validateStorage', {\n        params: {\n          target,\n          type,\n        },\n        body,\n      });\n\n      if (response !== null) setConnectionValid(true);\n      else setConnectionValid(false);\n    }\n    setChecking(false);\n  }, [formRef, target, type, storage]);\n\n  const action = useMemo(() => {\n    return storage ? \"updateStorage\" : \"createStorage\";\n  }, [storage]);\n\n  return (\n    <Form.Builder\n      ref={formRef}\n      action={action}\n      params={{ target, type, project, pk: storage?.id }}\n      fields={[storageTypeSelect, ...(formFields ?? [])]}\n      formData={{ ...(storage ?? {}) }}\n      skipEmpty={false}\n      onSubmit={onSubmit}\n      autoFill=\"off\"\n      autoComplete=\"off\"\n    >\n      <Input type=\"hidden\" name=\"project\" value={project}/>\n      <Form.Actions valid={connectionValid} extra={(connectionValid !== null) && (\n        <Block name=\"form-indicator\">\n          <Oneof value={connectionValid}>\n            <Elem tag=\"span\" mod={{ type: \"success\" }} name=\"item\" case={true}>Successfully connected!</Elem>\n            <Elem tag=\"span\" mod={{ type: \"fail\" }} name=\"item\" case={false}>Connection failed</Elem>\n          </Oneof>\n        </Block>\n      )}>\n        <Input type=\"hidden\" name=\"project\" value={project}/>\n        <Button.Group className={rootClass.elem('buttons')}>\n          <Button type=\"button\" waiting={checking} onClick={validateStorageConnection}>\n            Check Connection\n          </Button>\n          <Button type=\"submit\" look=\"primary\">{storage ? \"Save\" : \"Add Storage\"}</Button>\n        </Button.Group>\n      </Form.Actions>\n\n      <InlineError/>\n    </Form.Builder>\n  );\n});\n","import { useCallback, useContext, useEffect, useState } from 'react';\nimport { Button, Columns } from '../../../components';\nimport { confirm, modal } from '../../../components/Modal/Modal';\nimport { Spinner } from '../../../components/Spinner/Spinner';\nimport { ApiContext } from '../../../providers/ApiProvider';\nimport { useProject } from '../../../providers/ProjectProvider';\nimport { StorageCard } from './StorageCard';\nimport { StorageForm } from './StorageForm';\n\nexport const StorageSet = ({ title, target, rootClass, buttonLabel }) => {\n  const api = useContext(ApiContext);\n  const { project } = useProject();\n  const [storages, setStorages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [storageTypes, setStorageTypes] = useState([]);\n\n  useEffect(() => {\n    api.callApi('storageTypes', {\n      params: {\n        target,\n      },\n    }).then(types => {\n      setStorageTypes(types);\n    });\n  }, []);\n\n  const fetchStorages = useCallback(async () => {\n    if (!project.id) {\n      console.warn(\"Project ID not provided\");\n      return;\n    }\n\n    setLoading(true);\n    const result = await api.callApi('listStorages', {\n      params: {\n        project: project.id,\n        target,\n      },\n    });\n\n    const storageTypes = await api.callApi('storageTypes', {\n      params: {\n        target,\n      },\n    });\n\n    setStorageTypes(storageTypes);\n\n    if (result !== null) {\n      setStorages(result);\n      setLoaded(true);\n    }\n\n    setLoading(false);\n  }, [project]);\n\n  const showStorageFormModal = useCallback((storage) => {\n    const action = storage ? \"Edit\" : \"Add\";\n    const actionTarget = target === 'export' ? 'Target' : 'Source';\n    const title = `${action} ${actionTarget} Storage`;\n\n    const modalRef = modal({\n      title,\n      closeOnClickOutside: false,\n      style: { width: 760 },\n      body: (\n        <StorageForm\n          target={target}\n          storage={storage}\n          project={project.id}\n          rootClass={rootClass}\n          storageTypes={storageTypes}\n          onSubmit={async () => {\n            await fetchStorages();\n            modalRef.close();\n          }}\n        />\n      ),\n      footer: (\n        <>\n          Save completed annotations to Amazon S3, Google Cloud, Microsoft Azure, or Redis.\n        </>\n      ),\n    });\n  }, [project, fetchStorages, target, rootClass]);\n\n  const onEditStorage = useCallback(async (storage) => {\n    showStorageFormModal(storage);\n  }, [showStorageFormModal]);\n\n  const onDeleteStorage = useCallback(async (storage) => {\n    confirm({\n      title: \"Deleting storage\",\n      body: \"This action cannot be undone. Are you sure?\",\n      buttonLook: \"destructive\",\n      onOk: async () => {\n        const response = await api.callApi('deleteStorage', {\n          params: {\n            type: storage.type,\n            pk: storage.id,\n            target,\n          },\n        });\n\n        if (response !== null) fetchStorages();\n      },\n    });\n  }, [fetchStorages]);\n\n  useEffect(() => {\n    fetchStorages();\n  }, [fetchStorages]);\n\n  return (\n    <Columns.Column title={title}>\n      <div className={rootClass.elem(\"controls\")}>\n        <Button onClick={() => showStorageFormModal()}>\n          {buttonLabel}\n        </Button>\n      </div>\n\n      {(loading && !loaded) ? (\n        <div className={rootClass.elem(\"empty\")}>\n          <Spinner size={32}/>\n        </div>\n      ) : storages.length === 0 ? (\n        null\n      ) : storages.map(storage => (\n        <StorageCard\n          key={storage.id}\n          storage={storage}\n          target={target}\n          rootClass={rootClass}\n          storageTypes={storageTypes}\n          onEditStorage={onEditStorage}\n          onDeleteStorage={onDeleteStorage}\n        />\n      ))}\n    </Columns.Column>\n  );\n};\n\n\n","import React from 'react';\nimport { Columns } from '../../../components/Columns/Columns';\nimport { Description } from '../../../components/Description/Description';\nimport { Block, cn } from '../../../utils/bem';\nimport { StorageSet } from './StorageSet';\nimport './StorageSettings.styl';\n\nexport const StorageSettings = () => {\n  const rootClass = cn(\"storage-settings\");\n\n  return (\n    <Block name=\"storage-settings\">\n      <Description style={{marginTop: 0}}>\n        Use cloud or database storage as the source for your labeling tasks or the target of your completed annotations.\n      </Description>\n\n      <Columns count={2} gap=\"40px\" size=\"320px\" className={rootClass}>\n        <StorageSet\n          title=\"Source Cloud Storage\"\n          buttonLabel=\"Add Source Storage\"\n          rootClass={rootClass}\n        />\n\n        <StorageSet\n          title=\"Target Cloud Storage\"\n          target=\"export\"\n          buttonLabel=\"Add Target Storage\"\n          rootClass={rootClass}\n        />\n      </Columns>\n    </Block>\n  );\n};\n\nStorageSettings.title = \"Cloud Storage\";\nStorageSettings.path = \"/storage\";\n","import React from 'react';\nimport { SidebarMenu } from '../../components/SidebarMenu/SidebarMenu';\nimport { WebhookPage } from '../WebhookPage/WebhookPage';\nimport { DangerZone } from './DangerZone';\nimport { GeneralSettings } from './GeneralSettings';\nimport { InstructionsSettings } from './InstructionsSettings';\nimport { LabelingSettings } from './LabelingSettings';\nimport { MachineLearningSettings } from './MachineLearningSettings/MachineLearningSettings';\nimport { StorageSettings } from './StorageSettings/StorageSettings';\n\n\nexport const MenuLayout = ({ children, ...routeProps }) => {\n  return (\n    <SidebarMenu\n      menuItems={[\n        GeneralSettings,\n        LabelingSettings,\n        InstructionsSettings,\n        MachineLearningSettings,\n        StorageSettings,\n        WebhookPage,\n        DangerZone,\n      ]}\n      path={routeProps.match.url}\n      children={children}\n    />\n  );\n};\n\nexport const SettingsPage = {\n  title: t(\"Settings\"),\n  path: \"/settings\",\n  exact: true,\n  layout: MenuLayout,\n  component: GeneralSettings,\n  pages: {\n    InstructionsSettings,\n    LabelingSettings,\n    MachineLearningSettings,\n    StorageSettings,\n    WebhookPage,\n    DangerZone,\n  },\n};\n","import chr from 'chroma-js';\nimport { format } from 'date-fns';\nimport React, { useMemo } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { LsBulb, LsCheck, LsEllipsis, LsMinus } from '../../assets/icons';\nimport { Button, Dropdown, Menu, Pagination, Userpic } from '../../components';\nimport { Block, Elem } from '../../utils/bem';\nimport { absoluteURL } from '../../utils/helpers';\n\nexport const ProjectsList = ({ projects, currentPage, totalItems, loadNextPage, pageSize }) => {\n  return (\n    <>\n      <Elem name=\"list\">\n        {projects.map(project => (\n          <ProjectCard key={project.id} project={project}/>\n        ))}\n      </Elem>\n      <Elem name=\"pages\">\n        <Pagination\n          name=\"projects-list\"\n          label={t(\"Projects\")}\n          page={currentPage}\n          totalItems={totalItems}\n          urlParamName=\"page\"\n          pageSize={pageSize}\n          pageSizeOptions={[10, 30, 50, 100]}\n          onPageLoad={(page, pageSize) => loadNextPage(page, pageSize)}\n        />\n      </Elem>\n    </>\n  );\n};\n\nexport const EmptyProjectsList = ({ openModal }) => {\n  return (\n    <Block name=\"empty-projects-page\">\n      <Elem name=\"heidi\" tag=\"img\" src={absoluteURL(\"/static/images/opossum_looking.png\")} />\n      <Elem name=\"header\" tag=\"h1\">Heidi doesnt see any projects here</Elem>\n      <p>Create one and start labeling your data</p>\n      <Elem name=\"action\" tag={Button} onClick={openModal} look=\"primary\">Create Project</Elem>\n    </Block>\n  );\n};\n\nconst ProjectCard = ({ project }) => {\n  const color = useMemo(() => {\n    return project.color === '#FFFFFF' ? null : project.color;\n  }, [project]);\n\n  const projectColors = useMemo(() => {\n    return color ? {\n      '--header-color': color,\n      '--background-color': chr(color).alpha(0.2).css(),\n    } : {};\n  }, [color]);\n\n  return (\n    <Elem tag={NavLink} name=\"link\" to={`/projects/${project.id}/data`} data-external>\n      <Block name=\"project-card\" mod={{ colored: !!color }} style={projectColors}>\n        <Elem name=\"header\">\n          <Elem name=\"title\">\n            <Elem name=\"title-text\">\n              {project.title ?? \"New project\"}\n            </Elem>\n\n            <Elem name=\"menu\" onClick={(e) => {\n              e.stopPropagation();\n              e.preventDefault();\n            }}>\n              <Dropdown.Trigger content={(\n                <Menu>\n                  <Menu.Item href={`/projects/${project.id}/settings`}>{t(\"Settings\")}</Menu.Item>\n                  <Menu.Item href={`/projects/${project.id}/data?labeling=1`}>Label</Menu.Item>\n                </Menu>\n              )}>\n                <Button size=\"small\" type=\"text\" icon={<LsEllipsis/>}/>\n              </Dropdown.Trigger>\n            </Elem>\n          </Elem>\n          <Elem name=\"summary\">\n            <Elem name=\"annotation\">\n              <Elem name=\"total\">\n                {project.num_tasks_with_annotations} / {project.task_number}\n              </Elem>\n              <Elem name=\"detail\">\n                <Elem name=\"detail-item\" mod={{ type: \"completed\" }}>\n                  <Elem tag={LsCheck} name=\"icon\"/>\n                  {project.total_annotations_number}\n                </Elem>\n                <Elem name=\"detail-item\" mod={{ type: \"rejected\" }}>\n                  <Elem tag={LsMinus} name=\"icon\"/>\n                  {project.skipped_annotations_number}\n                </Elem>\n                <Elem name=\"detail-item\" mod={{ type: \"predictions\" }}>\n                  <Elem tag={LsBulb} name=\"icon\"/>\n                  {project.total_predictions_number}\n                </Elem>\n              </Elem>\n            </Elem>\n          </Elem>\n        </Elem>\n        <Elem name=\"description\">\n          {project.description}\n        </Elem>\n        <Elem name=\"info\">\n          <Elem name=\"created-date\">\n            {format(new Date(project.created_at), \"dd MMM yy, HH:mm\")}\n          </Elem>\n          <Elem name=\"created-by\">\n            <Userpic src=\"#\" user={project.created_by} showUsername/>\n          </Elem>\n        </Elem>\n      </Block>\n    </Elem>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useParams as useRouterParams } from 'react-router';\nimport { Redirect } from 'react-router-dom';\nimport { Button } from '../../components';\nimport { Oneof } from '../../components/Oneof/Oneof';\nimport { Spinner } from '../../components/Spinner/Spinner';\nimport { ApiContext } from '../../providers/ApiProvider';\nimport { useContextProps } from '../../providers/RoutesProvider';\nimport { Block, Elem } from '../../utils/bem';\nimport { CreateProject } from '../CreateProject/CreateProject';\nimport { DataManagerPage } from '../DataManager/DataManager';\nimport { SettingsPage } from '../Settings';\nimport './Projects.styl';\nimport { EmptyProjectsList, ProjectsList } from './ProjectsList';\n\nconst getCurrentPage = () => {\n  const pageNumberFromURL = new URLSearchParams(location.search).get(\"page\");\n\n  return pageNumberFromURL ? parseInt(pageNumberFromURL) : 1;\n};\n\nexport const ProjectsPage = () => {\n  const api = React.useContext(ApiContext);\n  const [projectsList, setProjectsList] = React.useState([]);\n  const [networkState, setNetworkState] = React.useState(null);\n  const [currentPage, setCurrentPage] = useState(getCurrentPage());\n  const [totalItems, setTotalItems] = useState(1);\n  const setContextProps = useContextProps();\n  const defaultPageSize = parseInt(localStorage.getItem('pages:projects-list') ?? 30);\n\n  const [modal, setModal] = React.useState(false);\n  const openModal = setModal.bind(null, true);\n  const closeModal = setModal.bind(null, false);\n\n  const fetchProjects = async (page  = currentPage, pageSize = defaultPageSize) => {\n    setNetworkState('loading');\n    const data = await api.callApi(\"projects\", {\n      params: { page, page_size: pageSize },\n    });\n\n    setTotalItems(data?.count ?? 1);\n    setProjectsList(data.results ?? []);\n    setNetworkState('loaded');\n  };\n\n  const loadNextPage = async (page, pageSize) => {\n    setCurrentPage(page);\n    await fetchProjects(page, pageSize);\n  };\n\n  React.useEffect(() => {\n    fetchProjects();\n  }, []);\n\n  React.useEffect(() => {\n    // there is a nice page with Create button when list is empty\n    // so don't show the context button in that case\n    setContextProps({ openModal, showButton: projectsList.length > 0 });\n  }, [projectsList.length]);\n\n  return (\n    <Block name=\"projects-page\">\n      <Oneof value={networkState}>\n        <Elem name=\"loading\" case=\"loading\">\n          <Spinner size={64}/>\n        </Elem>\n        <Elem name=\"content\" case=\"loaded\">\n          {projectsList.length ? (\n            <ProjectsList\n              projects={projectsList}\n              currentPage={currentPage}\n              totalItems={totalItems}\n              loadNextPage={loadNextPage}\n              pageSize={defaultPageSize}\n            />\n          ) : (\n            <EmptyProjectsList openModal={openModal} />\n          )}\n          {modal && <CreateProject onClose={closeModal} />}\n        </Elem>\n      </Oneof>\n    </Block>\n  );\n};\n\nProjectsPage.title = t(\"Projects\");\nProjectsPage.path = \"/projects\";\nProjectsPage.exact = true;\nProjectsPage.routes = ({ store }) => [\n  {\n    title: () => store.project?.title,\n    path: \"/:id(\\\\d+)\",\n    exact: true,\n    component: () => {\n      const params = useRouterParams();\n\n      return <Redirect to={`/projects/${params.id}/data`}/>;\n    },\n    pages: {\n      DataManagerPage,\n      SettingsPage,\n    },\n  },\n];\nProjectsPage.context = ({ openModal, showButton }) => {\n  if (!showButton) return null;\n  return <Button onClick={openModal} look=\"primary\" size=\"compact\">Create</Button>;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"people-list\":\"ls-people-list\",\"people-list__wrapper\":\"ls-people-list__wrapper\",\"people-list__loading\":\"ls-people-list__loading\",\"people-list__users\":\"ls-people-list__users\",\"people-list__header\":\"ls-people-list__header\",\"people-list__column\":\"ls-people-list__column\",\"people-list__field\":\"ls-people-list__field\",\"last-activity\":\"ls-last-activity\",\"avatar\":\"ls-avatar\",\"name\":\"ls-name\",\"email\":\"ls-email\",\"people-list__user\":\"ls-people-list__user\",\"people-list__user_active\":\"ls-people-list__user_active\"};","import { useCallback, useState } from \"react\";\r\nimport { copyText, isDefined } from \"../utils/helpers\";\r\n\r\nexport const useCopyText = ({ defaultText = \"\", timeout = 1200 }) => {\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const copyTextCallback = useCallback((text?) => {\r\n    setCopied(true);\r\n    copyText(isDefined(text) ? text : defaultText);\r\n    setTimeout(() => setCopied(false), timeout);\r\n  }, [defaultText, timeout]);\r\n\r\n  return [copied, copyTextCallback];\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  Children,\r\n  cloneElement,\r\n  forwardRef,\r\n  useCallback\r\n} from 'react';\r\nimport { useCopyText } from '../../hooks/useCopyText';\r\nimport { Tooltip } from '../Tooltip/Tooltip';\r\n\r\nexport const CopyableTooltip = forwardRef(({ children, title, textForCopy, ...restProps }, ref) => {\r\n  const [copied, copyText] = useCopyText({ defaultText: textForCopy });\r\n\r\n  const clickHandler = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    copyText();\r\n  }, []);\r\n\r\n  const child = Children.only(children);\r\n  const clone = cloneElement(child, {\r\n    ...child.props,\r\n    ref,\r\n    onClick: clickHandler,\r\n  });\r\n\r\n  return <Tooltip title={copied ? \"Copied!\" : title} onClick={clickHandler} {...restProps} children={clone}/>;\r\n});","import { formatDistance } from \"date-fns\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { Pagination, Spinner, Userpic } from \"../../../components\";\nimport { usePage, usePageSize } from \"../../../components/Pagination/Pagination\";\nimport { useAPI } from \"../../../providers/ApiProvider\";\nimport { Block, Elem } from \"../../../utils/bem\";\nimport { isDefined } from \"../../../utils/helpers\";\nimport { useUpdateEffect } from \"../../../utils/hooks\";\nimport './PeopleList.styl';\nimport { CopyableTooltip } from '../../../components/CopyableTooltip/CopyableTooltip'\n\nexport const PeopleList = ({ onSelect, selectedUser, defaultSelected }) => {\n  const api = useAPI();\n  const [usersList, setUsersList] = useState();\n  const [currentPage] = usePage('page', 1);\n  const [currentPageSize] = usePageSize('page_size', 30);\n  const [totalItems, setTotalItems] = useState(0);\n\n  console.log({ currentPage, currentPageSize });\n\n  const fetchUsers = useCallback(async (page, pageSize) => {\n    const response = await api.callApi('memberships', {\n      params: {\n        pk: 1,\n        contributed_to_projects: 1,\n        page,\n        page_size: pageSize,\n      },\n    });\n\n    if (response.results) {\n      setUsersList(response.results);\n      setTotalItems(response.count);\n    }\n  }, [api]);\n\n  const selectUser = useCallback((user) => {\n    if (selectedUser?.id === user.id) {\n      onSelect?.(null);\n    } else {\n      onSelect?.(user);\n    }\n  }, [selectedUser]);\n\n  useEffect(() => {\n    fetchUsers(currentPage, currentPageSize);\n  }, []);\n\n  useEffect(() => {\n    if (isDefined(defaultSelected) && usersList) {\n      const selected = usersList.find(({ user }) => user.id === Number(defaultSelected));\n\n      if (selected) selectUser(selected.user);\n    }\n  }, [usersList, defaultSelected]);\n\n  return (\n    <>\n      <Block name=\"people-list\">\n        <Elem name=\"wrapper\">\n\n          {usersList ? (\n            <Elem name=\"users\">\n              <Elem name=\"header\">\n                <Elem name=\"column\" mix=\"avatar\"/>\n                <Elem name=\"column\" mix=\"email\">Email</Elem>\n                <Elem name=\"column\" mix=\"name\">Name</Elem>\n                <Elem name=\"column\" mix=\"last-activity\">Last Activity</Elem>\n              </Elem>\n              <Elem name=\"body\">\n                {usersList.map(({ user }) => {\n                  const active = user.id === selectedUser?.id;\n\n                  return (\n                    <Elem key={`user-${user.id}`} name=\"user\" mod={{ active }} onClick={() => selectUser(user)}>\n                      <Elem name=\"field\" mix=\"avatar\">\n                        <CopyableTooltip title={'User ID: ' + user.id} textForCopy={user.id}>\n                          <Userpic user={user} style={{ width: 28, height: 28 }}/>\n                        </CopyableTooltip>\n                      </Elem>\n                      <Elem name=\"field\" mix=\"email\">\n                        {user.email}\n                      </Elem>\n                      <Elem name=\"field\" mix=\"name\">\n                        {user.first_name} {user.last_name}\n                      </Elem>\n                      <Elem name=\"field\" mix=\"last-activity\">\n                        {formatDistance(new Date(user.last_activity), new Date(), { addSuffix: true })}\n                      </Elem>\n                    </Elem>\n                  );\n                })}\n              </Elem>\n            </Elem>\n          ) : (\n            <Elem name=\"loading\">\n              <Spinner size={36}/>\n            </Elem>\n          )}\n        </Elem>\n        <Pagination\n          page={currentPage}\n          urlParamName=\"page\"\n          totalItems={totalItems}\n          pageSize={currentPageSize}\n          pageSizeOptions={[30, 50, 100]}\n          onPageLoad={fetchUsers}\n          style={{ paddingTop: 16 }}\n        />\n      </Block>\n    </>\n  );\n};\n","import { format } from \"date-fns\";\nimport { NavLink } from \"react-router-dom\";\nimport { LsCross } from \"../../../assets/icons\";\nimport { Button, Userpic } from \"../../../components\";\nimport { Block, Elem } from \"../../../utils/bem\";\nimport \"./SelectedUser.styl\";\n\nconst UserProjectsLinks = ({ projects }) => {\n  return (\n    <Elem name=\"links-list\">\n      {projects.map((project) => (\n        <Elem tag={NavLink} name=\"project-link\" key={`project-${project.id}`} to={`/projects/${project.id}`} data-external>\n          {project.title}\n        </Elem>\n      ))}\n    </Elem>\n  );\n};\n\nexport const SelectedUser = ({ user, onClose }) => {\n  const fullName = [user.first_name, user.last_name].filter(n => !!n).join(\" \").trim();\n\n  return (\n    <Block name=\"user-info\">\n      <Elem name=\"close\" tag={Button} type=\"link\" onClick={onClose}><LsCross/></Elem>\n\n      <Elem name=\"header\">\n        <Userpic\n          user={user}\n          style={{ width: 64, height: 64, fontSize: 28 }}\n        />\n\n        {fullName && (\n          <Elem name=\"full-name\">{fullName}</Elem>\n        )}\n\n        <Elem tag=\"p\" name=\"email\">{user.email}</Elem>\n      </Elem>\n\n      {user.phone && (\n        <Elem name=\"section\">\n          <a href={`tel:${user.phone}`}>{user.phone}</a>\n        </Elem>\n      )}\n\n      {!!user.created_projects.length && (\n        <Elem name=\"section\">\n          <Elem name=\"section-title\">{t(\"Created Projects\")}</Elem>\n\n          <UserProjectsLinks projects={user.created_projects}/>\n        </Elem>\n      )}\n\n      {!!user.contributed_to_projects.length && (\n        <Elem name=\"section\">\n          <Elem name=\"section-title\">Contributed to</Elem>\n\n          <UserProjectsLinks projects={user.contributed_to_projects}/>\n        </Elem>\n      )}\n\n      <Elem tag=\"p\" name=\"last-active\">\n        Last activity on: {format(new Date(user.last_activity), 'dd MMM yyyy, KK:mm a')}\n      </Elem>\n    </Block>\n  );\n};\n","import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { LsPlus } from \"../../../assets/icons\";\nimport { Button } from \"../../../components\";\nimport { Description } from \"../../../components/Description/Description\";\nimport { Input } from \"../../../components/Form\";\nimport { modal } from \"../../../components/Modal/Modal\";\nimport { Space } from \"../../../components/Space/Space\";\nimport { useAPI } from \"../../../providers/ApiProvider\";\nimport { useConfig } from \"../../../providers/ConfigProvider\";\nimport { Block, Elem } from \"../../../utils/bem\";\nimport { copyText } from \"../../../utils/helpers\";\nimport \"./PeopleInvitation.styl\";\nimport { PeopleList } from \"./PeopleList\";\nimport \"./PeoplePage.styl\";\nimport { SelectedUser } from \"./SelectedUser\";\n\nconst InvitationModal = ({ link }) => {\n  return (\n    <Block name=\"invite\">\n      <Input\n        value={link}\n        style={{ width: '100%' }}\n        readOnly\n      />\n\n      <Description style={{ width: '70%', marginTop: 16 }}>\n        Invite people to join your Label Studio instance. People that you invite have full access to all of your projects. <a href=\"https://labelstud.io/guide/signup.html\">Learn more</a>.\n      </Description>\n    </Block>\n  );\n};\n\nexport const PeoplePage = () => {\n  const api = useAPI();\n  const inviteModal = useRef();\n  const config = useConfig();\n  const [selectedUser, setSelectedUser] = useState(null);\n\n  const [link, setLink] = useState();\n\n  const selectUser = useCallback((user) => {\n    setSelectedUser(user);\n\n    localStorage.setItem('selectedUser', user?.id);\n  }, [setSelectedUser]);\n\n  const setInviteLink = useCallback((link) => {\n    const hostname = config.hostname || location.origin;\n\n    setLink(`${hostname}${link}`);\n  }, [config, setLink]);\n\n  const updateLink = useCallback(() => {\n    api.callApi('resetInviteLink').then(({ invite_url }) => {\n      setInviteLink(invite_url);\n    });\n  }, [setInviteLink]);\n\n  const inviteModalProps = useCallback((link) => ({\n    title: \"Invite people\",\n    style: { width: 640, height: 472 },\n    body: () => (\n      <InvitationModal link={link}/>\n    ),\n    footer: () => {\n      const [copied, setCopied] = useState(false);\n\n      const copyLink = useCallback(() => {\n        setCopied(true);\n        copyText(link);\n        setTimeout(() => setCopied(false), 1500);\n      }, []);\n\n      return (\n        <Space spread>\n          <Space>\n            <Button style={{ width: 170 }} onClick={() => updateLink()}>\n              Reset Link\n            </Button>\n          </Space>\n          <Space>\n            <Button primary style={{ width: 170 }} onClick={copyLink}>\n              {copied ? \"Copied!\" : \"Copy link\"}\n            </Button>\n          </Space>\n        </Space>\n      );\n    },\n    bareFooter: true,\n  }), []);\n\n  const showInvitationModal = useCallback(() => {\n    inviteModal.current = modal(inviteModalProps(link));\n  }, [inviteModalProps, link]);\n\n  const defaultSelected = useMemo(() => {\n    return localStorage.getItem('selectedUser');\n  }, []);\n\n  useEffect(() => {\n    api.callApi(\"inviteLink\").then(({ invite_url }) => {\n      setInviteLink(invite_url);\n    });\n  }, []);\n\n  useEffect(() => {\n    inviteModal.current?.update(inviteModalProps(link));\n  }, [link]);\n\n  return (\n    <Block name=\"people\">\n      <Elem name=\"controls\">\n        <Space spread>\n          <Space></Space>\n\n          <Space>\n            <Button icon={<LsPlus/>} primary onClick={showInvitationModal}>\n              Add People\n            </Button>\n          </Space>\n        </Space>\n      </Elem>\n      <Elem name=\"content\">\n        <PeopleList\n          selectedUser={selectedUser}\n          defaultSelected={defaultSelected}\n          onSelect={(user) => selectUser(user)}\n        />\n\n        {selectedUser && (\n          <SelectedUser\n            user={selectedUser}\n            onClose={() => selectUser(null)}\n          />\n        )}\n      </Elem>\n    </Block>\n  );\n};\n\nPeoplePage.title = \"People\";\nPeoplePage.path = \"/\";\n","import React from \"react\";\nimport { SidebarMenu } from \"../../components/SidebarMenu/SidebarMenu\";\nimport { PeoplePage } from \"./PeoplePage/PeoplePage\";\nimport { WebhookPage } from \"../WebhookPage/WebhookPage\";\n\nconst ALLOW_ORGANIZATION_WEBHOOKS =\n  window.APP_SETTINGS.flags?.allow_organization_webhooks;\n\nconst MenuLayout = ({ children, ...routeProps }) => {\n  let menuItems = [PeoplePage];\n\n  if (ALLOW_ORGANIZATION_WEBHOOKS) {\n    menuItems.push(WebhookPage);\n  }\n  return (\n    <SidebarMenu\n      menuItems={menuItems}\n      path={routeProps.match.url}\n      children={children}\n    />\n  );\n};\n\nconst organizationPages = {};\n\nif (ALLOW_ORGANIZATION_WEBHOOKS) {\n  organizationPages[WebhookPage] = WebhookPage;\n}\n\nexport const OrganizationPage = {\n  title: t(\"Organization\"),\n  path: \"/organization\",\n  exact: true,\n  layout: MenuLayout,\n  component: PeoplePage,\n  pages: organizationPages,\n};\n","import { ProjectsPage } from './Projects/Projects';\nimport { OrganizationPage } from './Organization'\n\nexport const Pages = [\n  ProjectsPage,\n  OrganizationPage,\n];\n","import React, { Children } from 'react';\nimport { Switch } from \"react-router\";\nimport { StaticContent } from '../app/StaticContent/StaticContent';\nimport { MenubarContext } from '../components/Menubar/Menubar';\n\nimport { SentryRoute as Route } from '../config/Sentry';\n\nconst extractModalRoutes = (children) => {\n  const modalRoutes = [];\n  const regularRoutes = [];\n\n  try {\n    Children.toArray(children).forEach((child) => {\n      if (child?.props?.modal) modalRoutes.push(child);\n      else regularRoutes.push(child);\n    });\n  } catch (err) {\n    console.log(err);\n    console.log({children});\n  }\n\n  return [modalRoutes, regularRoutes];\n};\n\n/**\n * Router wrapper that handles 404 pages\n */\nexport const RouteWithStaticFallback = ({children, render, route, component, staticComponent, ...props}) => {\n  const menubar = React.useContext(MenubarContext);\n\n  const notFoundRenderer = (children) => {\n    let modalRoutes = [];\n    let regularRoutes = [];\n\n    if (children.props && children.props.children) {\n      [modalRoutes, regularRoutes] = extractModalRoutes(children.props.children);\n      children = React.cloneElement(children, { children: regularRoutes });\n    } else if (Array.isArray(children)) {\n      [modalRoutes, regularRoutes] = extractModalRoutes(children);\n      children = regularRoutes;\n    }\n\n    const Static = () => {\n      if (menubar?.contextIsSet(null) === false) menubar?.setContext(null);\n      return staticComponent ?? <StaticContent id=\"main-content\"/>;\n    };\n\n    const exactRoutes = modalRoutes.reduce((res, route) => {\n      if (route.props.exact) {\n        res.exact.push(route);\n      } else {\n        res.modal.push(route);\n      }\n      return res;\n    }, {\n      exact: [],\n      modal: [],\n    });\n\n    return (\n      <>\n        {exactRoutes.modal}\n        <Switch>\n          {exactRoutes.exact}\n          {children}\n\n          <Route exact><Static/></Route>\n        </Switch>\n      </>\n    );\n  };\n\n  const routeProps = {};\n\n  if (render) {\n    routeProps.render = (props) => notFoundRenderer(render(props));\n  } else if (children instanceof Function) {\n    routeProps.children = (props) => notFoundRenderer(children(props));\n  } else if (component) {\n    routeProps.component = (props) => notFoundRenderer(component(props));\n  } else {\n    routeProps.children = notFoundRenderer(children);\n  }\n\n  return route !== false ? (\n    <Route {...props} {...routeProps}/>\n  ) : (\n    notFoundRenderer(children)\n  );\n};\n\n","import React from 'react';\nimport { SentryRoute as Route } from '../config/Sentry';\nimport { RouteWithStaticFallback } from \"../routes/RouteWithStaticFallback\";\n\nexport const RouteContext = React.createContext();\n\nconst resolveWithConfig = (routes, config) => {\n  return routes instanceof Function ? routes(config) : routes;\n};\n\n/**\n * Resolves a set of components in a set of routes usign component\n * properties.\n *\n * Component can has:\n * @param {String|Function} title Title of a page. Can be either a string or a function that accepts route props as an argument\n * @param {String} path Path of the page. It is always relative to the parent\n * @param {boolean} exact Exact match of the route\n * @param {Array} routes A list of raw routes\n * @param {Object} pages Object with component that define pages. If provided, the function will run recursively\n *\n * The function itself accepts only pages argument.\n * @param {Object} pages Object with components that define pages\n */\nexport const pageSetToRoutes = (pages, config) => {\n  const pageProcessor = ([name, page]) => {\n    const route = {\n      path: page.path,\n    };\n\n    route.exact = !!page.exact;\n    route.modal = !!page.modal;\n\n    if (page.title) route.title = page.title;\n    if (page.render) route.render = page.render;\n\n    if (page instanceof React.Component || page instanceof Function) {\n      if (name && /Layout/.test(name)) route.layout = page;\n      else route.component = page;\n    } else {\n      route.component = page.component;\n      route.layout = page.layout;\n    }\n\n    if (page.pages) {\n      route.routes = pageSetToRoutes(resolveWithConfig(page.pages, config), config);\n    } else if (page.routes) {\n      route.routes = pageSetToRoutes(resolveWithConfig(page.routes, config), config);\n    }\n\n    if (route.component?.context) route.context = route.component.context;\n\n    return route;\n  };\n\n  try {\n    if (Array.isArray(pages)) {\n      return pages.map((page) => pageProcessor([null, page]));\n    } else {\n      return Object.entries(pages).map(pageProcessor);\n    }\n  } catch (err) {\n    console.log(err);\n    return [];\n  }\n};\n\n/**\n *\n * @param {Array} routes List of routes\n * @param {*} props Props to pass to every component and layout\n * @param {*} onRender Callback that runs on every route render\n */\nexport const resolveRoutes = (routes, props) => {\n  const resolver = (route, parentPath) => {\n    const { component: Component, layout: Layout, path, modal, routes: _routes, ...rest } = route;\n\n    const fullPath = parentPath ? `${parentPath}${path}` : path;\n\n    if (_routes) {\n      const resolvedNestedRoutes = processRoutes(_routes, fullPath);\n\n      const RouteComponent = (routeProps) => {\n        const children = [];\n\n        // If a component provided for the set of routes/pages,\n        // we render in one level higher to preserve nesting\n        if (Component) {\n          children.push(processRoutes([{\n            path,\n            modal, ...rest,\n            component: Component,\n          }], parentPath));\n        }\n\n        children.push(...resolvedNestedRoutes);\n\n        return Layout ? <Layout {...routeProps}>{children}</Layout> : children;\n      };\n\n      return (\n        <RouteWithStaticFallback key={fullPath} path={fullPath} render={RouteComponent}/>\n      );\n    } else {\n      const routeProps = { key: fullPath, path: fullPath, modal: !!Component.modal };\n      return <Route {...routeProps} exact render={() => (\n        <Component {...(props ?? {})}/>\n      )} {...rest}/>;\n    }\n  };\n\n  const processRoutes = (routes, fullPath) => {\n    return routes.map((route) => resolver(route, fullPath));\n  };\n\n  return processRoutes(routes);\n};\n","import { createContext, useContext, useEffect, useMemo, useState } from 'react';\nimport { generatePath, matchPath, useHistory, useLocation } from 'react-router';\nimport { Pages } from '../pages';\nimport { setBreadcrumbs, useBreadcrumbControls } from '../services/breadrumbs';\nimport { pageSetToRoutes } from '../utils/routeHelpers';\nimport { useAppStore } from './AppStoreProvider';\nimport { useConfig } from './ConfigProvider';\n\nexport const RoutesContext = createContext();\n\nconst findMacthingComponents = (path, routesMap, parentPath = \"\") => {\n  const result = [];\n\n  const match = routesMap.find((route) => {\n    const matchingPath = `${parentPath}${route.path}`;\n    const match = matchPath(path, { path: matchingPath });\n\n    return match;\n  });\n\n  if (match) {\n    const routePath = `${parentPath}${match.path}`;\n    result.push({ ...match, path: routePath });\n\n    if (match.routes) {\n      result.push(...findMacthingComponents(path, match.routes, routePath));\n    }\n  }\n\n  return result;\n};\n\nexport const RoutesProvider = ({children}) => {\n  const history = useHistory();\n  const location = useFixedLocation();\n  const config = useConfig();\n  const {store} = useAppStore();\n  const breadcrumbs = useBreadcrumbControls();\n  const [currentContext, setCurrentContext] = useState(null);\n  const [currentContextProps, setCurrentContextProps] = useState(null);\n\n  const routesMap = useMemo(() => {\n    return pageSetToRoutes(Pages, {config, store});\n  }, [location, config, store, history]);\n\n  const routesChain = useMemo(() => {\n    return findMacthingComponents(location.pathname, routesMap);\n  }, [location, routesMap]);\n\n  const lastRoute = useMemo(() => {\n    return routesChain.filter(r => !r.modal).slice(-1)[0];\n  }, [routesChain]);\n\n  const [currentPath, setCurrentPath] = useState(lastRoute?.path);\n\n  const contextValue = useMemo(() => ({\n    routesMap,\n    breadcrumbs,\n    currentContext,\n    setContextProps: setCurrentContextProps,\n    path: currentPath,\n    findComponent: (path) => findMacthingComponents(path, routesMap),\n  }), [\n    breadcrumbs,\n    routesMap,\n    currentContext,\n    currentPath,\n    setCurrentContext,\n  ]);\n\n  useEffect(() => {\n    const ContextComponent = lastRoute?.context;\n\n    setCurrentContext({\n      component: ContextComponent ?? null,\n      props: currentContextProps,\n    });\n\n    setCurrentPath(lastRoute?.path);\n\n    try {\n      const crumbs = routesChain.map(route => {\n        const params = matchPath(location.pathname, { path: route.path });\n        const path = generatePath(route.path, params.params);\n        const title = route.title instanceof Function ? route.title() : route.title;\n        const key = route.component?.displayName ?? route.key ?? path;\n\n        return {path, title, key};\n      }).filter(c => !!c.title);\n\n      setBreadcrumbs(crumbs);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [location, routesMap, currentContextProps, routesChain, lastRoute]);\n\n  return (\n    <RoutesContext.Provider value={contextValue}>\n      {children}\n    </RoutesContext.Provider>\n  );\n};\n\nexport const useRoutesMap = () => {\n  return useContext(RoutesContext)?.routesMap ?? [];\n};\n\nexport const useFindRouteComponent = () => {\n  return useContext(RoutesContext)?.findComponent ?? (() => null);\n};\n\nexport const useBreadcrumbs = () => {\n  return useContext(RoutesContext)?.breadcrumbs ?? [];\n};\n\nexport const useCurrentPath = () => {\n  return useContext(RoutesContext)?.path;\n};\n\nexport const useParams = () => {\n  const location = useFixedLocation();\n  const currentPath = useCurrentPath();\n\n  const match = useMemo(() => {\n    const parsedLocation = location.search\n      .replace(/^\\?/, '')\n      .split(\"&\")\n      .map(pair => {\n        const [key, value] = pair.split('=').map(p => decodeURIComponent(p));\n        return [key, value];\n      });\n\n    const search = Object.fromEntries(parsedLocation);\n\n    const urlParams = matchPath(location.pathname, currentPath ?? \"\");\n\n    return {...search, ...(urlParams?.params ?? {})};\n  }, [location, currentPath]);\n\n  return match ?? {};\n};\n\nexport const useContextComponent = () => {\n  const ctx = useContext(RoutesContext);\n  const {\n    component: ContextComponent,\n    props: contextProps,\n  } = ctx?.currentContext ?? {};\n\n  return { ContextComponent, contextProps };\n};\n\nexport const useFixedLocation = () => {\n  const location = useLocation();\n\n  location\n\n  const result = useMemo(() => {\n    return location.location ?? location;\n  }, [location]);\n\n  return result;\n};\n\nexport const useContextProps = () => {\n  const setProps = useContext(RoutesContext).setContextProps;\n  return useMemo(() => setProps, [setProps]);\n};\n\n","import React, { createContext, useCallback, useContext, useEffect, useState } from 'react';\nimport { shallowEqualObjects } from 'shallow-equal';\nimport { useAPI, WrappedResponse } from './ApiProvider';\nimport { useAppStore } from './AppStoreProvider';\nimport { useParams } from './RoutesProvider';\n\ntype Empty = Record<string, never>\n\ntype Context = {\n  project: APIProject | Empty,\n  fetchProject: (id?: string|number, force?: boolean) => Promise<APIProject | void>,\n  updateProject: (fields: APIProject) => Promise<WrappedResponse<APIProject>>,\n  invalidateCache: () => void,\n}\n\nexport const ProjectContext = createContext<Context>({} as Context);\nProjectContext.displayName = 'ProjectContext';\n\nconst projectCache = new Map<number, APIProject>();\n\nexport const ProjectProvider: React.FunctionComponent = ({children}) => {\n  const api = useAPI();\n  const params = useParams();\n  const { update: updateStore } = useAppStore();\n  // @todo use null for missed project data\n  const [projectData, setProjectData] = useState<APIProject | Empty>(projectCache.get(+params.id) ?? {});\n\n  const fetchProject: Context['fetchProject'] = useCallback(async (id, force = false) => {\n    const finalProjectId = +(id ?? params.id);\n\n    if (isNaN(finalProjectId)) return;\n\n    if (!force && projectCache.has(finalProjectId)) {\n      setProjectData({...projectCache.get(finalProjectId)!});\n    }\n\n    const result = await api.callApi<APIProject>('project', {\n      params: { pk: finalProjectId },\n      errorFilter: () => false,\n    });\n\n    const projectInfo = result as unknown as APIProject;\n\n    if (shallowEqualObjects(projectData, projectInfo) === false) {\n      setProjectData(projectInfo);\n      updateStore({project: projectInfo});\n      projectCache.set(projectInfo.id, projectInfo);\n    }\n\n    return projectInfo;\n  }, [params]);\n\n  const updateProject: Context['updateProject'] = useCallback(async (fields: APIProject) => {\n    const result = await api.callApi<APIProject>('updateProject', {\n      params: {\n        pk:projectData.id,\n      },\n      body: fields,\n    });\n\n    if (result.$meta) {\n      setProjectData(result as unknown as APIProject);\n      updateStore({project: result});\n    }\n\n    return result;\n  }, [projectData, setProjectData, updateStore]);\n\n  useEffect(() => {\n    if (+params.id !== projectData?.id) {\n      setProjectData({});\n    }\n    fetchProject();\n  }, [params]);\n\n  useEffect(() => {\n    return () => projectCache.clear();\n  }, []);\n\n  return (\n    <ProjectContext.Provider value={{\n      project: projectData,\n      fetchProject,\n      updateProject,\n      invalidateCache() {\n        projectCache.clear();\n        setProjectData({});\n      },\n    }}>\n      {children}\n    </ProjectContext.Provider>\n  );\n};\n\n// without this extra typing VSCode doesn't see the type after import :(\nexport const useProject: () => Context = () => {\n  return useContext(ProjectContext) ?? {};\n};\n","import React, { Component } from 'react';\nimport { ErrorWrapper } from '../components/Error/Error';\nimport { Modal } from '../components/Modal/ModalPopup';\n\nexport const ErrorContext = React.createContext();\n\nexport default class ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error, {componentStack}) {\n    // You can also log the error to an error reporting service\n    this.setState({\n      error,\n      hasError: true,\n      errorInfo: componentStack,\n    });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      const {error, errorInfo} = this.state;\n\n      const goBack = () => {\n        // usually this will trigger React Router in the broken app, which is not helpful\n        history.back();\n        // so we reload app totally on that previous page after some delay for Router's stuff\n        setTimeout(() => location.reload(), 32);\n      };\n\n      return (\n        <Modal onHide={() => location.reload()} style={{ width: \"60vw\" }} visible bare>\n          <div style={{padding: 40}}>\n            <ErrorWrapper\n              title=\"Runtime error\"\n              message={error}\n              stacktrace={`${errorInfo ? `Component Stack: ${errorInfo}` : ''}\\n\\n${this.state.error?.stack ?? ''}`}\n              onGoBack={goBack}\n              onReload={() => location.reload()}\n            />\n          </div>\n        </Modal>\n      );\n    }\n\n    return (\n      <ErrorContext.Provider value={{\n        hasError: this.state.hasError,\n        error: this.state.error,\n        errorInfo: this.state.errorInfo,\n        silence: this.silence,\n        unsilence: this.unsilence,\n      }}>\n        {this.props.children}\n      </ErrorContext.Provider>\n    );\n  }\n}\n\nexport const ErrorUI = () => {\n  const context = React.useContext(ErrorContext);\n\n  return context.hasError && (\n    <div className=\"error\">\n      Error occurred\n    </div>\n  );\n};\n","import React from 'react';\nimport { useRoutesMap } from '../providers/RoutesProvider';\nimport { resolveRoutes } from '../utils/routeHelpers';\nimport { RouteWithStaticFallback } from './RouteWithStaticFallback';\n\nexport const ProjectRoutes = ({content}) => {\n  const routes = useRoutesMap();\n  const resolvedRoutes = resolveRoutes(routes, {content});\n\n  return resolvedRoutes ? (\n    <RouteWithStaticFallback path=\"/\" children={resolvedRoutes}/>\n  ) : null;\n};\n","import React from 'react';\nimport { Menubar } from '../components/Menubar/Menubar';\nimport { ProjectRoutes } from '../routes/ProjectRoutes';\n\nexport const RootPage = ({content}) => {\n  const pinned = localStorage.getItem('sidebar-pinned') === 'true';\n  const opened = pinned && localStorage.getItem('sidebar-opened') === 'true';\n\n  return (\n    <Menubar\n      enabled={true}\n      defaultOpened={opened}\n      defaultPinned={pinned}\n      onSidebarToggle={(visible) => localStorage.setItem('sidebar-opened', visible)}\n      onSidebarPin={(pinned) => localStorage.setItem('sidebar-pinned', pinned)}\n    >\n      <ProjectRoutes content={content}/>\n    </Menubar>\n  );\n};\n","/* global Sentry */\n\nimport { createBrowserHistory } from 'history';\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport { initSentry } from \"../config/Sentry\";\nimport { ApiProvider } from '../providers/ApiProvider';\nimport { AppStoreProvider } from '../providers/AppStoreProvider';\nimport { ConfigProvider } from '../providers/ConfigProvider';\nimport { LibraryProvider } from '../providers/LibraryProvider';\nimport { MultiProvider } from '../providers/MultiProvider';\nimport { ProjectProvider } from '../providers/ProjectProvider';\nimport { RoutesProvider } from '../providers/RoutesProvider';\nimport './App.styl';\nimport { AsyncPage } from './AsyncPage/AsyncPage';\nimport ErrorBoundary from './ErrorBoundary';\nimport { RootPage } from './RootPage';\n\nconst baseURL = new URL(APP_SETTINGS.hostname || location.origin);\n\nconst browserHistory = createBrowserHistory({\n  basename: baseURL.pathname || \"/\",\n});\n\nwindow.LSH = browserHistory;\n\ninitSentry(browserHistory);\n\nconst App = ({content}) => {\n  const libraries = {\n    lsf: {\n      scriptSrc: window.EDITOR_JS,\n      cssSrc: window.EDITOR_CSS,\n      checkAvailability: () => !!window.LabelStudio,\n    },\n    dm: {\n      scriptSrc: window.DM_JS,\n      cssSrc: window.DM_CSS,\n      checkAvailability: () => !!window.DataManager,\n    },\n  };\n\n  return (\n    <ErrorBoundary>\n      <Router history={browserHistory}>\n        <MultiProvider providers={[\n          <AppStoreProvider key=\"app-store\"/>,\n          <ApiProvider key=\"api\"/>,\n          <ConfigProvider key=\"config\"/>,\n          <LibraryProvider key=\"lsf\" libraries={libraries}/>,\n          <RoutesProvider key=\"rotes\"/>,\n          <ProjectProvider key=\"project\"/>,\n        ]}>\n          <AsyncPage>\n            <RootPage content={content}/>\n          </AsyncPage>\n        </MultiProvider>\n      </Router>\n    </ErrorBoundary>\n  );\n};\n\nconst root = document.querySelector('.app-wrapper');\nconst content = document.querySelector('#main-content');\n\nrender(<App content={content.innerHTML}/>, root);\n"],"names":["SentryRoute","ReactSentry","Route","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgBulb","props","svgRef","width","height","viewBox","fill","xmlns","ref","opacity","d","stroke","strokeWidth","strokeLinecap","SvgCheck","SvgCross","SvgDoor","fillRule","clipRule","SvgEllipsis","SvgError","SvgFolder","fillOpacity","SvgInfo","SvgMinus","_circle","SvgPersonCircle","id","maskUnits","x","y","cx","cy","r","mask","SvgPin","SvgPlus","SvgSettings","SvgSlack","SvgUpload","SvgPencil","unique","list","expression","comparator","a","b","reduce","res","item","findIndex","elem","push","isDefined","value","isEmptyString","trim","objectClean","cleanObject","entries","toString","fromEntries","absoluteURL","path","match","APP_SETTINGS","hostname","replace","join","copyText","text","input","document","createElement","style","position","body","appendChild","focus","select","execCommand","remove","clamp","min","max","Math","CSS_PREFIX","process","BlockContext","createContext","cn","block","options","mix","mod","blockName","classNameBuilder","name","newMod","stateOverride","mixes","root","querySelector","toCSSSelector","selectAll","querySelectorAll","closest","rootName","elemName","stateName","stateClass","finalClass","Array","isArray","mixMap","concat","filter","m","map","toClassName","cls","split","RegExp","test","assembleClass","defineProperty","Block","Elem","BemWithSpecifiContext","context","LocalContext","forwardRef","tag","rest","rootClass","finalMix","cnm","className","finalProps","Provider","displayName","component","blockCtx","useContext","finalTag","Context","FormContext","FormValidationContext","FormSubmissionContext","FormStateContext","FormResponseContext","Button","React","children","type","extra","size","waiting","icon","look","href","mods","withIcon","withExtra","includes","disabled","primary","iconElem","undefined","Group","collapsed","Space","direction","spread","stretch","align","ErrorWrapper","title","message","errorId","stacktrace","validation","version","onGoBack","onReload","possum","preparedStackTrace","useMemo","copied","setCopied","useState","copyStacktrace","useCallback","setTimeout","src","alt","dangerouslySetInnerHTML","__html","String","field","errors","Fragment","err","onClick","ConfigContext","window","Consumer","ConfigProvider","config","setConfig","update","newConfig","contextValue","useConfig","CurrentUserContext","CurrentUserProvider","api","useAPI","user","setUser","fetch","callApi","then","useEffect","MultiProvider","content","providers","reverse","forEach","provider","aroundTransition","element","init","transition","onStart","beforeTransition","afterTransition","Promise","async","onTransitionStarted","onTransitionEnded","removeEventListener","resolve","addEventListener","ModalContext","Modal","constructor","super","e","modalRef","current","closeOnClickOutside","allowClose","isInModal","contains","close","hide","state","visible","stopPropagation","preventDefault","footer","animateAppearance","componentDidMount","show","closeOnEscape","capture","componentWillUnmount","componentDidUpdate","prevProps","prevState","overflow","setBody","setState","onShow","onHidden","onHide","render","bare","fullscreen","transitionClass","modalSizeStyle","modalContent","onClickOutside","Header","Footer","bareFooter","createPortal","onFinish","Content","Function","divided","useModalControls","standaloneModal","createRef","rootDiv","renderCount","renderModal","animate","simple","ApiProvider","unmountComponentAtNode","newProps","result","confirm","okText","onOk","cancelText","onCancel","buttonLook","modal","autoFocus","info","onOkPress","API_CONFIG","gateway","endpoints","users","me","memberships","inviteLink","resetInviteLink","projects","project","updateProject","createProject","deleteProject","configTemplates","validateConfig","createSampleTask","fileUploads","deleteFileUploads","importFiles","reimportFiles","dataSummary","deleteTabs","listStorages","storageTypes","storageForms","createStorage","deleteStorage","updateStorage","syncStorage","validateStorage","mlBackends","mlBackend","addMLBackend","updateMLBackend","deleteMLBackend","trainMLBackend","predictWithML","modelVersions","mlInteractive","export","previousExports","exportFormats","webhooks","webhook","updateWebhook","createWebhook","deleteWebhook","webhooksInfo","alwaysExpectJSON","API","commonHeaders","resolveGateway","requestMode","detectMode","mockDelay","mockDisabled","sharedParams","resolveMethods","isValidMethod","method","url","URL","location","search","hash","pathname","origin","parentPath","Map","settings","methodName","scope","restSettings","getSettings","createApiCallExecutor","methodSettings","raw","urlParams","headers","responseResult","responseMeta","finalParams","apiCallURL","createUrl","requestMethod","toUpperCase","initialheaders","getDefaultHeaders","requestHeaders","Headers","requestParams","mode","credentials","contentType","get","extendedBody","FormData","append","createRequestBody","bodyToJSON","delete","rawResponse","mock","from","status","ok","responseText","responseData","JSON","parse","convert","generateException","generateError","exception","configurable","enumerable","writable","endpoint","data","usedKeys","resolvedPath","resolvedMethod","resolveEndpoint","processedPath","p","keyRaw","optional","slice","Error","searchParams","set","finalEndpoint","methodRegexp","formData","object","formDataToJPO","stringify","fetchResponse","error","statusText","response","details","console","parsedDetails","mockRequest","params","request","fakeRequest","Request","json","ApiContext","apiLocked","errorFormatter","isShutdown","detail","exc_info","validation_errors","handleError","showModal","Response","formattedError","setError","errorFilter","shouldCatchError","args","AppStoreContext","AppStoreProvider","store","setStore","newData","useAppStore","libraryQueue","libRequest","LibraryContext","LibraryProvider","libraries","requestLibrary","scriptSrc","cssSrc","checkAvailability","library","availableLibrary","queueSet","Set","requestResolver","add","has","assets","script","onload","dataset","replaced","head","link","rel","all","resolver","requestLabelStudio","useLibrary","libraryName","ctx","setLibrary","fetchLibrary","libLoaded","alignElements","padding","offsetLeft","offsetTop","pos","sourcePosition","getBoundingClientRect","targetPosition","top","bottom","horizontalCenter","left","horizontalLeft","horizontalRight","positioner","resultAlign","scrollX","innerHeight","innerWidth","DropdownContext","DropdownTrigger","dropdown","toggle","dropdownRef","useRef","triggerEL","Children","childset","triggerRef","parentDropdown","targetIsInsideDropdown","triggerClicked","dropdownClicked","childDropdownClicked","child","hasTarget","handleClick","handleToggle","open","triggerClone","cloneElement","onClickCapture","dropdownClone","addChild","removeChild","lastIndex","Dropdown","animated","isInline","renderable","setRenderable","currentVisible","setVisible","offset","setOffset","visibility","setVisibility","calculatePosition","dropdownEl","parent","parentNode","dropdownIndex","performAnimation","enabled","menu","changeVisibility","onToggle","onVisibilityChanged","visibilityClasses","compositeStyles","zIndex","inline","ReactDOM","Trigger","MenuContext","Menu","selectedKeys","closeDropdownOnItemClick","selected","clickHandler","Item","label","to","exact","forceReload","active","classList","linkContent","linkAttributes","activeClassName","finalHref","Spacer","Divider","Builder","menuItems","index","pageLabel","pagePath","menuItem","Breadcrumbs","reactBreadcrumbs","useBreadcrumbs","findComponent","useFindRouteComponent","breadcrumbs","setBreadcrumbs","isLastItem","isInternal","faded","dropdownSubmenu","submenu","sub","last","Card","header","Columns","count","gap","Column","Hamburger","opened","loadedScripts","isScriptValid","scriptTag","forceUpdate","alwaysReload","outerHTML","swapScripts","targetScript","sourceScript","newScript","scriptContent","blob","Blob","createObjectURL","createScriptLink","onScriptLoaded","defer","insertBefore","replaceScript","reInsertScripts","scripts","iterarot","nextScript","shift","scriptIterator","pageCache","swapNodes","oldNode","newNode","replaceWith","swapStylesheets","oldPage","newPage","linkSelector","oldStyles","newStyles","existingSignatures","nodes","n","stylesToReplace","swapPageParts","onReady","oldHead","newHead","fragment","createDocumentFragment","swapHeadScripts","oldSettings","newSettings","swapAppSettings","currentContent","newContent","swapContent","locationWithoutHash","fetchPage","html","loadAsyncPage","locationUrl","DOMParser","parseFromString","pageFromHTML","currentLocation","useStaticContent","initialContent","onContentLoad","staticContent","setStaticContent","clear","AsyncPageContext","AsyncPage","history","useHistory","onLoadCallback","fetchStatic","onLinkClick","external","getAttribute","isVisitable","matches","metaKey","ctrlKey","prefix","removePrefix","onPopState","newLocation","parseContent","setInnerHTML","template","templateHTML","innerHTML","parsed","parseHTML","childResult","StaticContentDrawer","tagName","onRenderFinished","rootRef","setContent","StaticContent","pageSource","Tooltip","defaultVisible","triggerElement","tooltipElement","injected","setInjected","setAlign","tooltip","clone","onMouseEnter","onMouseLeave","FALLBACK_IMAGE","Userpic","username","showUsername","imgRef","finalUsername","setFinalUsername","finalSrc","setFinalSrc","avatar","imgVisible","setImgVisible","nameVisible","setNameVisible","fontSize","first_name","last_name","email","initials","substring","onImageLoaded","userpic","onLoad","onError","userFullName","VersionContext","VersionProvider","dispatch","useReducer","action","payload","fetchVersion","latestVersion","latest_version_from_pypi","newVersion","current_version_is_outdated","updateTime","format","Date","latest_version_upload_time","MenubarContext","LeftContextMenu","fromTemplate","RightContextMenu","ContextComponent","contextProps","useContextComponent","Menubar","defaultOpened","defaultPinned","onSidebarToggle","onSidebarPin","menuDropdownRef","useMenuRef","useFixedLocation","sidebarOpened","setSidebarOpened","sidebarPinned","setSidebarPinned","PageContext","setPageContext","Component","menubarClass","menubarContext","sidebarClass","contentClass","contextItem","sidebarPin","newState","sidebarToggle","providerValue","setContext","setProps","contextIsSet","color","fontWeight","right","t","dispatchEvent","Event","floating","withSidebar","SidebarMenu","Spinner","stopped","sizeWithUnit","ToggleItems","big","items","onSelect","keys","useValueTracker","defaultValue","initialValue","finalValue","setValue","Oneof","selectedChild","find","c","case","required","fieldName","matchPattern","pattern","regexp","FormField","validate","skip","allowEmpty","skipAutofill","dependency","validators","dependencyField","setDependencyField","validator","validatorFunc","Validators","dep","getFieldContext","handler","onDependencyChanged","warn","setValueCallback","checked","evt","createEvent","initEvent","isProtected","registerField","unregisterField","placement","description","large","flat","withDescription","empty","allowedKeys","CounterContext","CounterButton","currentValue","onClickHandler","compareLimit","onMouseDownCapture","labelProps","Infinity","normalizeValue","setCurrentValue","focused","setFocused","autofocus","setDisabled","setNewValue","Number","increase","step","decrease","onInputHandler","allowedKey","k","onPasteHandler","nativeEvent","clipboardData","getData","onChangeHandler","onChange","onFocusHandler","onFocus","onBlurHandler","onBlur","activeElement","blur","getSelection","removeAllRanges","f","depDisabled","fieldDisabled","onKeyDown","onPaste","ghost","selectWrapper","val","placeholder","defaulValue","hidden","option","defaultChecked","initialChecked","isChecked","setIsChecked","formField","useUpdateEffect","effect","deps","isFirstMount","isFirst","useFirstMountState","Pagination","allowInput","allowRewind","pageSizeOptions","inputMode","setInputMode","currentPage","setCurrentPage","page","setWaiting","pageSize","setPageSize","localStorage","getItem","parseInt","getStoredPageSize","totalPages","ceil","totalItems","visibleItems","start","end","handlePageLoad","pageNumber","onPageLoad","setPageClamped","force","updateURL","urlParamName","URLSearchParams","historyArgs","replaceState","pushState","applyPageNumberFromEvent","onInit","popStateHandler","pageNumberFromURL","isNaN","NavigationButton","code","shiftKey","isSystemEvent","v","newPageSize","setItem","setStoredPageSize","PASSWORD_PROTECTED_VALUE","Form","showValidation","submitting","validateFields","submit","debounce","func","wait","immediate","timeout","callNow","clearTimeout","_onAutoSubmit","autosubmit","apiRef","fillFormData","shallowEqualObjects","lastResponse","formElement","onSubmit","onFormSubmitted","onFormChanged","autoComplete","autoSave","ValidationRenderer","existingField","fields","fillWithFormData","getField","disableValidationMessage","enableValidationMessage","onAutoSubmit","assembleFormData","asJSON","full","booleansAsNumbers","fieldsFilter","requestBody","skipProtected","skipField","skipEmpty","inputValue","rawAction","useApi","prepareData","success","submitWithAPI","submitWithFetch","messages","log","validateField","Validator","Row","columnCount","rowGap","styles","defaultFields","defaultFormData","fetchFields","fetchFormData","formRowStyle","withActions","formRef","setFields","setFormData","renderFields","getValue","commonProps","trigger_form_update","updateFields","updateFormData","InputComponent","Select","Counter","Toggle","Input","renderColumns","columns","col","newFields","newFormData","handleOnSubmit","Actions","valid","Indicator","ResponseParser","callback","LABELS_PALETTE","s","Palette","colors","colorNames","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","OBJECTS","Image","param","$obj","$controls","$control","setAttribute","zoom","Boolean","zoomControl","rotateControl","Text","granularity","removeAttribute","when","endsWith","HyperText","Audio","AudioPlus","TimeSeries","Paragraphs","Table","Video","Labels","placeLabelsLeft","control","$tag","$object","$container","$labels","firstChild","ownerDocument","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","$filter","previousElementSibling","CONTROLS","RectangleLabels","EMPTY_CONFIG","DEFAULT_COLUMN","isEmptyConfig","Template","tpl","parser","$root","serializer","XMLSerializer","initRoot","flatten","el","tags","onConfigUpdate","serializeToString","objects","names","controls","fixColumns","existing","obj","free","addLabels","labels","ch","isChoices","$label","palette","next","removeLabel","changeLabel","attrs","attr","configClass","Preview","LabelStudio","lsfRoot","lsf","LSF","destroy","interfaces","task","annotations","predictions","onLabelStudioLoad","LS","bottomSidePanel","annotationStore","addAnnotation","userGenerate","selectAnnotation","non_field_errors","label_config","listClass","Arrow","TemplatesInGroup","templates","group","onSelectRecipe","picked","recipe","sort","order","image","TemplatesList","selectedGroup","selectedRecipe","onCustomTemplate","onSelectGroup","groups","setGroups","setTemplates","formatXML","xml","indexOf","depth","close1","close2","repeat","wizardClass","EmptyConfigPlaceholder","Label","choice","background","ConfigureControl","refLabels","tagname","onAddLabels","cols","rows","onKeyPress","ConfigureSettings","onInput","ConfigureColumns","updateValue","attrName","toLowerCase","column","Configurator","setTemplate","onBrowse","onSaveClick","onValidate","disableSaveButton","configure","setConfigure","visualLoaded","loadVisual","configToCheck","setConfigToCheck","setData","debounceTimer","pk","sample","sample_task","visual","display","detach","theme","lineNumbers","editor","ConfigPage","initialConfig","externalColumns","onUpdate","_setConfig","setMode","setSelectedGroup","setSelectedRecipe","setCurrentTemplate","setColumns","common_data_columns","importClass","dropzoneClass","nested","traverseFileTree","isFile","isDirectory","dirReader","createReader","dirPath","readEntries","entry","Upload","sendFiles","hovered","setHovered","onHover","onLeave","dropzoneRef","onDrop","files","dataTransfer","webkitGetAsEntry","file","fileEntries","fileEntry","filePromises","onDragStart","onDragOver","onDragLeave","ErrorMessage","values","marginRight","ImportPage","onWaiting","onFileListUpdate","highlightCsvHandling","dontCommitToProject","csvHandling","setCsvHandling","addColumns","loading","setLoading","ids","_setIds","sending","uploading","sent","uploaded","showList","setIds","loadFilesList","query","file_upload_ids","could_be_tasks_list","data_columns","file_ids","commit_to_project","fd","onUpload","onLoadURL","urlRef","some","csvProps","multiple","getElementById","click","highlighted","htmlFor","useImportPage","setUploadingStatus","fileIds","setFileIds","_columns","_setColumns","uploadDisabled","finishUpload","imported","files_as_tasks_list","pageProps","ProjectName","setName","onSaveName","setDescription","CreateProject","onClose","setStep","setWaitingStatus","setProject","fetchDraftProject","results","projectNumber","projectName","draft","useDraftProject","tabClass","steps","import","projectBody","onCreate","onDelete","initialBreadcrumbs","noop","addCrumb","deleteCrumb","addAction","deleteAction","localCrumbs","useBreadcrumbControls","singletonHook","setBreadcrumbsState","newCrumbs","crumbs","crumb","Inner","refresh","redirectPath","useRefresh","useProject","backToDM","ImportModal","ProjectProvider","ExportPage","pageParams","useParams","setPreviousExports","downloading","setDownloading","downloadingMessage","setDownloadingMessage","availableFormats","setAvailableFormats","currentFormat","setCurrentFormat","form","export_files","formats","FormatInfo","filename","download","downloadFile","APIConfig","tabs","createTab","updateTab","deleteTab","tasks","nextTask","annotation","skipTask","pathBase","annotationID","submitAnnotation","updateAnnotation","deleteAnnotation","setSelectedItems","addSelectedItem","actions","deleteSelectedItem","invokeAction","buildLink","generatePath","DataManagerPage","DataManager","setContextProps","useContextProps","crashed","setCrashed","dataManagerRef","projectId","interactiveBacked","is_interactive","dataManager","dmInitialized","dmConfig","apiGateway","apiVersion","polling","showPreviews","apiEndpoints","backButton","labelingHeader","autoAnnotation","labelStudio","keymap","editor_keymap","initializeDataManager","on","reg","currentAnnotation","serializeAnnotation","suggestionsRequest","loadSuggestions","dmRef","destroyDM","flex","alignItems","justifyContent","pages","links","onDMModeChanged","currentMode","isExplorer","dmPath","closeLabeling","updateCrumbs","isLabelStream","expert_instruction","show_instruction","showLabelingInstruction","off","NavLink","WebhookDeleteModal","ctrl","onSelectActive","onAddWebhook","fetchWebhooks","onActiveChange","event","is_active","created_at","onBack","setHeaders","sendForAllActions","setSendForAllActions","send_for_all_actions","setActions","isActive","setIsActive","sendPayload","setSendPayload","send_payload","setProjectId","onHeaderChange","aim","newHeaders","cloneDeep","onActionChange","newActions","error_message","marginBottom","marginLeft","headKey","headValue","splice","onHeaderRemove","WebhookPage","activeWebhook","setActiveWebhook","setWebhooks","setWebhooksInfo","startsWith","fetchWebhooksInfo","DangerZone","processing","setProcessing","buttons","total_annotations_number","task_number","total_predictions_number","marginTop","btn","RadioContext","RadioGroup","onRadioChange","isSimple","readOnly","pointerEvents","GeneralSettings","fetchProject","ProjectContext","minHeight","InstructionsSettings","pageContext","paddingLeft","LabelingSettings","essentialDataChanged","setEssentialDataChanged","saveConfig","projectAlreadySetUp","hasConfig","configIsEmpty","hasTasks","onSave","config_essential_data_has_changed","Description","noOffset","InlineError","includeValidation","DescriptionList","retmClassName","descriptionClassName","term","descriptionStyle","termStyle","MachineLearningList","backends","fetchBackends","onEdit","onDeleteModel","backend","onStartTraining","BackendCard","onStartTrain","confirmDelete","BackendState","whiteSpace","truncate","MachineLearningSettings","mlError","setMLError","setBackends","versions","setVersions","resetMLVersion","model_version","models","fetchMLVersions","showMLFormModal","modalProps","maxWidth","paddingRight","StorageSummary","storage","SummaryS3","GSCStorage","AzureStorage","RedisStorage","LocalStorage","last_sync","bucket","container","host","port","post","StorageCard","onEditStorage","onDeleteStorage","syncing","setSyncing","storageData","setStorageData","synced","setSynced","startSync","last_sync_count","StorageForm","setType","checking","setChecking","connectionValid","setConnectionValid","formFields","setFormFields","storageTypeSelect","validateStorageConnection","autoFill","StorageSet","buttonLabel","storages","setStorages","loaded","setLoaded","setStorageTypes","types","fetchStorages","showStorageFormModal","StorageSettings","SettingsPage","layout","routeProps","ProjectsList","loadNextPage","ProjectCard","EmptyProjectsList","openModal","projectColors","chr","alpha","css","colored","num_tasks_with_annotations","LsCheck","LsMinus","skipped_annotations_number","LsBulb","created_by","ProjectsPage","projectsList","setProjectsList","networkState","setNetworkState","getCurrentPage","setTotalItems","defaultPageSize","setModal","closeModal","fetchProjects","page_size","showButton","routes","useRouterParams","useCopyText","defaultText","CopyableTooltip","textForCopy","restProps","PeopleList","selectedUser","defaultSelected","usersList","setUsersList","paramName","urlValue","setPage","usePage","currentPageSize","usePageSize","fetchUsers","contributed_to_projects","selectUser","formatDistance","last_activity","addSuffix","paddingTop","UserProjectsLinks","SelectedUser","fullName","phone","created_projects","InvitationModal","PeoplePage","inviteModal","setSelectedUser","setLink","setInviteLink","updateLink","invite_url","inviteModalProps","copyLink","showInvitationModal","ALLOW_ORGANIZATION_WEBHOOKS","flags","allow_organization_webhooks","organizationPages","Pages","extractModalRoutes","modalRoutes","regularRoutes","RouteWithStaticFallback","route","staticComponent","menubar","notFoundRenderer","Static","exactRoutes","resolveWithConfig","pageSetToRoutes","pageProcessor","resolveRoutes","processRoutes","fullPath","Layout","_routes","resolvedNestedRoutes","RouteComponent","RoutesContext","findMacthingComponents","routesMap","matchingPath","matchPath","routePath","RoutesProvider","currentContext","setCurrentContext","currentContextProps","setCurrentContextProps","routesChain","lastRoute","currentPath","setCurrentPath","parsedLocation","pair","decodeURIComponent","useLocation","projectCache","updateStore","projectData","setProjectData","finalProjectId","projectInfo","$meta","invalidateCache","ErrorContext","ErrorBoundary","hasError","componentDidCatch","componentStack","errorInfo","goBack","back","reload","stack","silence","unsilence","ProjectRoutes","resolvedRoutes","RootPage","pinned","baseURL","browserHistory","createBrowserHistory","basename","LSH","App","EDITOR_JS","EDITOR_CSS","dm","DM_JS","DM_CSS"],"sourceRoot":""}